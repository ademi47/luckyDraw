(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c1c27e4"],{"7b1d":function(e,t,r){"use strict";r.r(t);r("4de4"),r("d3b7"),r("d81d");var s=function(){var e,t=this,r=t._self._c;return r("div",[t.isLoading?r("div",[t._m(0)]):t._e(),t._m(1),r("div",{staticClass:"main-content"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12 mb-4"},[r("div",{staticClass:"card text-left mt-3"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"flex-wrap":"wrap"}},[r("div",{staticClass:"search-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(2)]),r("div",[r("b-button",{attrs:{variant:"primary"},on:{click:t.openAddModal}},[r("i",{staticClass:"fa fa-plus mr-1"}),t._v(" Add User ")])],1)]),r("div",{staticClass:"table-responsive mt-3"},[r("b-table",{staticStyle:{cursor:"pointer"},attrs:{"head-variant":"light",bordered:"",id:"my-table","per-page":t.perPage,"current-page":t.currentPage,filter:(null===(e=t.search_text)||void 0===e?void 0:e.length)>=3?t.search_text:"",fields:t.user_fields,items:t.user_list_details,"show-empty":"",hover:""},on:{"row-clicked":t.onRowClicked},scopedSlots:t._u([{key:"head(index)",fn:function(){return[r("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(e){return[r("div",{staticClass:"text-center"},[t._v(t._s(e.index+1))])]}},{key:"cell(STATUS)",fn:function(e){return[r("div",{staticClass:"text-center"},[t._v(t._s(e.item.STATUS))])]}}])})],1),r("div",{staticClass:"mt-3 d-flex row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"dataTables_length mt-2 float-left",attrs:{id:"userTable_length"}},[t._v(" Show "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-control d-inline",staticStyle:{width:"auto",margin:"0 10px"},attrs:{name:"userTable_length","aria-controls":"userTable"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));t.perPage=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"10"}},[t._v("10")]),r("option",{attrs:{value:"25"}},[t._v("25")]),r("option",{attrs:{value:"50"}},[t._v("50")]),r("option",{attrs:{value:"100"}},[t._v("100")])]),t._v(" entries ")])]),r("div",{staticClass:"col-md-6",staticStyle:{float:"right"}},[r("b-pagination",{attrs:{align:"right","total-rows":t.rows,"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","first-number":"","last-number":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])]),r("b-modal",{ref:"editUserModal",attrs:{id:"edit-user-modal",size:"xl",centered:"","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var s=e.close;return[r("h5",{staticClass:"mt-1 text-white text-left"},[r("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update User")])]),r("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:s}},[r("i",{staticClass:"fas fa-close"})])]}}])},[r("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s;e.handleSubmit;return[r("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateUserDetails.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("label",[t._v("Organization Name "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{model:{value:t.edit_user_form.org_name,callback:function(e){t.$set(t.edit_user_form,"org_name",e)},expression:"edit_user_form.org_name"}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Select")]),t._l(t.org_list_details,(function(e){return r("option",{key:e.ORGANISATION_SYS_ID,domProps:{value:e.ORGANISATION_SYS_ID}},[t._v(" "+t._s(e.ORGANISATION_NAME)+" ")])}))],2)],1),r("div",{staticClass:"col-md-6"},[r("validation-provider",{attrs:{name:"System Role",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("System Role "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{attrs:{state:t.getValidationState(e)},model:{value:t.edit_user_form.role,callback:function(e){t.$set(t.edit_user_form,"role",e)},expression:"edit_user_form.role"}},[r("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.system_role_details,(function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2),r("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-6"},[r("validation-provider",{attrs:{name:"Person Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Person Name "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{attrs:{placeholder:"Eg:- John Doe",state:t.getValidationState(e)},model:{value:t.edit_user_form.person_name,callback:function(e){t.$set(t.edit_user_form,"person_name",e)},expression:"edit_user_form.person_name"}}),r("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-6"},[r("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Email "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{attrs:{type:"email",placeholder:"Eg:- example@gmail.com",state:t.getValidationState(e)},model:{value:t.edit_user_form.email,callback:function(e){t.$set(t.edit_user_form,"email",e)},expression:"edit_user_form.email"}}),r("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-6"},[r("label",[t._v("Gender")]),r("b-form-select",{attrs:{options:t.gender_option_list},model:{value:t.edit_user_form.gender,callback:function(e){t.$set(t.edit_user_form,"gender",e)},expression:"edit_user_form.gender"}})],1),r("div",{staticClass:"col-md-6"},[r("validation-provider",{attrs:{name:"Contact Number",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Contact Number "),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("b-form-input",{attrs:{type:"tel",state:t.getValidationState(e)},model:{value:t.edit_user_form.mobile_number,callback:function(e){t.$set(t.edit_user_form,"mobile_number",e)},expression:"edit_user_form.mobile_number"}}),r("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-12"},[r("validation-provider",{attrs:{name:"Country",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Country "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{attrs:{state:t.getValidationState(e)},model:{value:t.edit_user_form.country,callback:function(e){t.$set(t.edit_user_form,"country",e)},expression:"edit_user_form.country"}},[r("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.country_option_list,(function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2),r("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-6"},[r("validation-provider",{attrs:{name:"Username",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Username "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{attrs:{placeholder:"Eg:- John@123",state:t.getValidationState(e)},model:{value:t.edit_user_form.username,callback:function(e){t.$set(t.edit_user_form,"username",e)},expression:"edit_user_form.username"}}),r("b-form-invalid-feedback",[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-6"},[r("label",[t._v("Password "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("div",{staticClass:"input-group"},[r("b-form-input",{attrs:{type:t.isShowPassword?"text":"password",placeholder:"Leave blank to keep current password"},model:{value:t.edit_user_form.password,callback:function(e){t.$set(t.edit_user_form,"password",e)},expression:"edit_user_form.password"}}),r("div",{staticClass:"input-group-append"},[r("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:function(e){t.isShowPassword=!t.isShowPassword}}},[r("i",{staticClass:"fas",class:[t.isShowPassword?"fa-eye-slash":"fa-eye"]})])])],1)])]),r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-12 d-flex justify-content-between flex-wrap"},[r("div",["Approved"===(null===(s=t.selected_user)||void 0===s?void 0:s.STATUS)?r("button",{staticClass:"btn btn-danger ripple mr-3",attrs:{type:"button"},on:{click:t.removeUserDetails}},[t._v(" Delete ")]):r("button",{staticClass:"btn btn-primary ripple mr-3",attrs:{type:"button"},on:{click:t.activeUserDetails}},[t._v(" Activate ")]),r("b-button",{attrs:{variant:"secondary"},on:{click:t.closeEditModal}},[t._v("Close")])],1),r("b-button",{attrs:{variant:"success",type:"submit"}},[r("i",{staticClass:"fas fa-save mr-2"}),t._v(" Update ")])],1)])])]}}])})],1),r("b-modal",{attrs:{id:"add-user-modal",title:"Add User",size:"xl",centered:"",scrollable:"","hide-footer":""}},[r("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[r("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),s((function(){return t.addUserFormDetails(t.user_form)}))}}},[r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Organization Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Organization Name "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{attrs:{state:t.getValidationState(e)},model:{value:t.user_form.org_name,callback:function(e){t.$set(t.user_form,"org_name",e)},expression:"user_form.org_name"}},[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Select")]),t._l(t.org_list_details,(function(e){return r("option",{key:e.ORGANISATION_SYS_ID,domProps:{value:e.ORGANISATION_SYS_ID}},[t._v(" "+t._s(e.ORGANISATION_NAME)+" ")])}))],2),r("b-form-invalid-feedback",{attrs:{id:"Organization_Name-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])]}}],null,!0)})],1),r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"System Role",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("System Role "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{staticClass:"form-control",attrs:{state:t.getValidationState(e),"aria-describedby":"Role-feedback"},model:{value:t.user_form.role,callback:function(e){t.$set(t.user_form,"role",e)},expression:"user_form.role"}},[r("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.system_role_details,(function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2),r("b-form-invalid-feedback",{attrs:{id:"Role-feedback"}},[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Person Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Person Name "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- John Doe",type:"text",state:t.getValidationState(e),"aria-describedby":"name-feedback"},model:{value:t.user_form.person_name,callback:function(e){t.$set(t.user_form,"person_name",e)},expression:"user_form.person_name"}}),r("b-form-invalid-feedback",{attrs:{id:"name-feedback"}},[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Email "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{staticClass:"form-control",attrs:{placeholder:"Eg:- example@gmail.com",type:"email",state:t.getValidationState(e),"aria-describedby":"email-feedback"},model:{value:t.user_form.email,callback:function(e){t.$set(t.user_form,"email",e)},expression:"user_form.email"}}),r("b-form-invalid-feedback",{attrs:{id:"email-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])]}}],null,!0)})],1)]),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Gender",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Gender "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{options:t.gender_option_list,state:t.getValidationState(e),"aria-describedby":"gender-feedback"},model:{value:t.user_form.gender,callback:function(e){t.$set(t.user_form,"gender",e)},expression:"user_form.gender"}}),r("b-form-invalid-feedback",{attrs:{id:"gender-feedback"}},[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Contact Number",rules:{required:!0,min:8,max:8}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Contact Number "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- 80012145",type:"number",state:t.getValidationState(e),"aria-describedby":"mobile-number-feedback"},model:{value:t.user_form.mobile_number,callback:function(e){t.$set(t.user_form,"mobile_number",e)},expression:"user_form.mobile_number"}}),r("b-form-invalid-feedback",{attrs:{id:"mobile-number-feedback"}},[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Country",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Country "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-select",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{state:t.getValidationState(e),"aria-describedby":"country-feedback"},model:{value:t.user_form.country,callback:function(e){t.$set(t.user_form,"country",e)},expression:"user_form.country"}},[r("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.country_option_list,(function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2),r("b-form-invalid-feedback",{attrs:{id:"country-feedback"}},[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1),r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"Username",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Username "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("b-form-input",{staticClass:"form-control",attrs:{placeholder:"Eg:- John@123",autocomplete:"new-password",autocorrect:"off",spellcheck:"false",type:"text",state:t.getValidationState(e),"aria-describedby":"username-feedback"},model:{value:t.user_form.username,callback:function(e){t.$set(t.user_form,"username",e)},expression:"user_form.username"}}),r("b-form-invalid-feedback",{attrs:{id:"username-feedback"}},[t._v(t._s(e.errors[0]))])]}}],null,!0)})],1)]),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-3"},[r("validation-provider",{attrs:{name:"password",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("label",[t._v("Password "),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("div",{staticClass:"input-group"},[r("b-form-input",{staticClass:"form-control",attrs:{placeholder:"Eg:- P455w0rd",autocomplete:"new-password",autocorrect:"off",spellcheck:"false",type:t.isShowPassword?"text":"password",state:t.getValidationState(e),"aria-describedby":"password-feedback"},model:{value:t.user_form.password,callback:function(e){t.$set(t.user_form,"password",e)},expression:"user_form.password"}}),r("div",{staticClass:"input-group-append"},[r("span",{staticClass:"input-group-text"},[r("i",{staticClass:"fas password_hash",class:[t.isShowPassword?"fa-eye-slash":"fa-eye"],staticStyle:{cursor:"pointer"},on:{click:function(e){t.isShowPassword=!t.isShowPassword}}})])]),r("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v(t._s(e.errors[0]))])],1)]}}],null,!0)})],1)]),r("div",{staticClass:"mt-4 d-flex justify-content-between"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.closeAddModal}},[r("i",{staticClass:"fas fa-times mr-1"}),t._v(" Cancel ")]),r("button",{staticClass:"btn btn-success ripple",attrs:{type:"submit"}},[r("i",{staticClass:"fas fa-save mr-1"}),t._v(" Save Changes ")])])])]}}])})],1),r("b-modal",{attrs:{id:"delete-confirmation-modal",size:"sm",centered:"","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[r("h5",{staticClass:"modal-title"},[t._v("Delete Confirmation")]),r("b-button",{staticClass:"close",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("delete-confirmation-modal")}}},[r("i",{staticClass:"fas fa-close"})])]},proxy:!0}])},[r("div",{staticClass:"modal-body"},[r("p",[t._v("Are you sure you want to delete "),r("b",[t._v(t._s(t.selected_user.PERSON_NAME))]),t._v("?")])]),r("div",{staticClass:"modal-footer d-flex justify-content-end"},[r("b-button",{attrs:{variant:"danger"},on:{click:t.deleteUser}},[r("i",{staticClass:"fas fa-trash-alt"}),t._v(" Delete ")]),r("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("delete-confirmation-modal")}}},[t._v(" Cancel ")])],1)])],1)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"preloder loading_main_background",attrs:{id:"upload_loader"}},[t("img",{attrs:{src:r("95cd")}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-title"},[t("h4",[e._v("User")])])},function(){var e=this,t=e._self._c;return t("button",{staticClass:"search-button"},[t("i",{staticClass:"fa fa-search"})])}],o=r("c7eb"),n=r("1da1"),i=(r("7db0"),r("14d9"),r("3ca3"),r("ddb0"),r("159b"),r("471e")),l=r("323e"),u=r.n(l),c={name:"UserManagement",computed:{rows:function(){return this.user_list_details.length}},data:function(){return{search_text:"",isLoading:!1,isEditMode:!1,currentPage:1,perPage:10,isCountryApiCalled:!1,isSystemroleApiCalled:!1,isOrganizationApiCalled:!1,user_fields:[{key:"index",label:"S/N"},{key:"PERSON_NAME",label:"Name",sortable:!0},{key:"EMAIL_ID",label:"Email",sortable:!0},{key:"USER_COUNTRY",label:"Country",sortable:!0},{key:"USER_NAME",label:"Username",sortable:!0},{key:"SYSTEM_ROLE",label:"Role",sortable:!0},{key:"GENDER",label:"Gender",sortable:!0},{key:"MOBILE_NO",label:"Contact"},{key:"STATUS",label:"Status",sortable:!0}],user_list_details:[],isShowPassword:!1,selected_user:{},user_form:{org_name:null,role:null,person_name:"",email:"",gender:null,mobile_number:"",country:null,username:"",password:""},edit_user_form:{org_name:null,role:null,person_name:"",email:"",gender:null,mobile_number:"",country:null,username:"",password:""},org_list_details:[],system_role_details:[],gender_option_list:[{value:null,text:"Select"},{value:"Male",text:"Male"},{value:"Female",text:"Female"}],country_option_list:[]}},mounted:function(){this.initializeData()},methods:{initializeData:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserDetailsInfo(),t.next=3,e.getOrganizationInfo();case 3:return t.next=5,e.getSystemroleInfo();case 5:return t.next=7,e.getCountryDetailsInfo();case 7:e.UserDetails=JSON.parse(localStorage.getItem("userInfo")),e.user_sys_id&&e.getSpecificUser(e.user_sys_id);case 9:case"end":return t.stop()}}),t)})))()},getValidationState:function(e){var t=e.dirty,r=e.validated,s=e.valid,a=void 0===s?null:s;return t||r?a:null},resetUserForm:function(){this.user_form={org_name:null,role:null,person_name:"",email:"",gender:null,mobile_number:"",country:null,username:"",password:""}},resetEditUserForm:function(){this.edit_user_form={org_name:null,role:null,person_name:"",email:"",gender:null,mobile_number:"",country:null,username:"",password:""}},openAddModal:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ensureDropdownDataLoaded();case 2:e.resetUserForm(),e.$bvModal.show("add-user-modal");case 4:case"end":return t.stop()}}),t)})))()},closeAddModal:function(){this.$bvModal.hide("add-user-modal"),this.resetUserForm(),this.$refs.observer&&this.$refs.observer.reset()},closeEditModal:function(){this.$bvModal.hide("edit-user-modal"),this.resetEditUserForm()},openEditModal:function(e){var t=this;return Object(n["a"])(Object(o["a"])().mark((function r(){var s,a,n,i,l,u,c,d,_;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ensureDropdownDataLoaded();case 2:t.selected_user=e,console.log("User data:",e),console.log("Available organizations:",t.org_list_details),console.log("Available countries:",t.country_option_list),console.log("Available roles:",t.system_role_details),c=null,d=null,_=null,e.ORGANISATION_SYS_ID&&(c=t.org_list_details.find((function(t){return t.ORGANISATION_SYS_ID==e.ORGANISATION_SYS_ID}))),!c&&e.ORGANISATION_NAME&&(c=t.org_list_details.find((function(t){return t.ORGANISATION_NAME===e.ORGANISATION_NAME}))),e.SYSTEM_ROLE_SYS_ID&&(d=t.system_role_details.find((function(t){return t.value==e.SYSTEM_ROLE_SYS_ID}))),!d&&e.SYSTEM_ROLE&&(d=t.system_role_details.find((function(t){return t.text===e.SYSTEM_ROLE}))),e.USER_COUNTRY&&(_=t.country_option_list.find((function(t){return t.value===e.USER_COUNTRY}))),console.log("Matched values:",{matchedOrg:c,matchedRole:d,matchedCountry:_}),t.edit_user_form={person_name:e.PERSON_NAME||"",email:e.EMAIL_ID||"",username:e.USER_NAME||"",role:null!==(s=null===(a=d)||void 0===a?void 0:a.value)&&void 0!==s?s:null,org_name:null!==(n=null===(i=c)||void 0===i?void 0:i.ORGANISATION_SYS_ID)&&void 0!==n?n:null,gender:e.GENDER||null,mobile_number:e.MOBILE_NO||"",country:null!==(l=null===(u=_)||void 0===u?void 0:u.value)&&void 0!==l?l:null,password:""},t.$bvModal.show("edit-user-modal");case 18:case"end":return r.stop()}}),r)})))()},ensureDropdownDataLoaded:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[],e.isOrganizationApiCalled||r.push(e.getOrganizationInfo()),e.isSystemroleApiCalled||r.push(e.getSystemroleInfo()),e.isCountryApiCalled||r.push(e.getCountryDetailsInfo()),t.next=6,Promise.all(r);case 6:case"end":return t.stop()}}),t)})))()},onRowClicked:function(e,t,r){var s=this;return Object(n["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Row clicked:",e),s.selected_user=e,s.isLoading=!0,t.next=6,s.getSpecificUserForEdit(s.selected_user.USER_SYS_ID);case 6:s.$bvModal.show("edit-user-modal"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("Error loading user data:",t.t0),i["a"].showErrorAlert(!0,"error","Failed to load user data");case 13:return t.prev=13,s.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})))()},getUserDetailsInfo:function(){var e=this;u.a.start(),u.a.set(.1),this.isLoading=!0;var t={ITEM:"ALL_USER"};this.$apiCall.get(this.$apiBus.view_user_list,{params:t}).then((function(t){"true"==t.status?e.user_list_details=t.response:(e.user_list_details=[],i["a"].showErrorAlert(!0,"error",t.response))})).finally((function(){e.isLoading=!1,u.a.done()}))},getOrganizationInfo:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var r,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.isOrganizationApiCalled){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r={ITEM:"VIEW_ALL",RECORD_SYS_ID:0},t.next=6,e.$apiCall.get(e.$apiBus.api_get_organization_info,{params:r});case 6:s=t.sent,s.status&&"true"===s.status?(e.isOrganizationApiCalled=!0,e.org_list_details=[],s.response.forEach((function(t){e.org_list_details.push({ORGANISATION_SYS_ID:t.ORGANISATION_SYS_ID,ORGANISATION_NAME:t.ORGANISATION_NAME})}))):e.org_list_details=[{ORGANISATION_SYS_ID:1,ORGANISATION_NAME:"Tech Corp"},{ORGANISATION_SYS_ID:2,ORGANISATION_NAME:"Business Inc"}],t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error("Error loading organizations:",t.t0),e.org_list_details=[{ORGANISATION_SYS_ID:1,ORGANISATION_NAME:"Tech Corp"},{ORGANISATION_SYS_ID:2,ORGANISATION_NAME:"Business Inc"}];case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},getCountryDetailsInfo:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var r,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.isCountryApiCalled){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r={ITEM:"VIEW_ALL",RECORD_SYS_ID:0},t.next=6,e.$apiCall.get(e.$apiBus.api_get_country_info,{params:r});case 6:s=t.sent,s.status&&"true"===s.status?(e.isCountryApiCalled=!0,e.country_option_list=[],s.response.forEach((function(t){e.country_option_list.push({value:t.COUNTRY_NAME,text:t.COUNTRY_NAME})}))):e.country_option_list=[],t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error("Error loading countries:",t.t0),e.country_option_list=[];case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},getSystemroleInfo:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var r,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.isSystemroleApiCalled){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r={ITEM:"VIEW_ALL",RECORD_SYS_ID:0},t.next=6,e.$apiCall.get(e.$apiBus.api_get_systemrole_info,{params:r});case 6:s=t.sent,s.status&&"true"===s.status?(e.isSystemroleApiCalled=!0,e.system_role_details=[],s.response.forEach((function(t){e.system_role_details.push({value:t.SYSTEM_ROLE_SYS_ID,text:t.SYSTEM_ROLE})}))):e.system_role_details=[],t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error("Error loading system roles:",t.t0),e.system_role_details=[];case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},addUserFormDetails:function(e){var t,r=this;this.isLoading=!0;var s={ITEM:"ADD_USER",ORGANISATION_SYS_ID:e.org_name,SYSTEM_ROLE_SYS_ID:e.role,EMAIL_ID:e.email,PERSON_NAME:e.person_name,MOBILE_NO:e.mobile_number,GENDER:e.gender,USER_COUNTRY:e.country,USER_NAME:e.username,PASSWORD:e.password,CREATED_BY:null===(t=this.UserDetails)||void 0===t?void 0:t.UserId};this.$apiCall.post(this.$apiBus.add_update_user,s).then((function(e){"true"==e.status?(i["a"].showSuccessAlert(!0,"success","User Added Successfully"),r.getUserDetailsInfo(),r.closeAddModal()):i["a"].showErrorAlert(!0,"error",e.response)})).finally((function(){r.isLoading=!1}))},updateUserDetails:function(){var e,t,r=this,s={ITEM:"UPDATE_USER",USER_SYS_ID:null===(e=this.selected_user)||void 0===e?void 0:e.USER_SYS_ID,PERSON_NAME:this.edit_user_form.person_name,EMAIL_ID:this.edit_user_form.email,USER_NAME:this.edit_user_form.username,SYSTEM_ROLE_SYS_ID:this.edit_user_form.role,ORGANISATION_SYS_ID:this.edit_user_form.org_name,GENDER:this.edit_user_form.gender,MOBILE_NO:this.edit_user_form.mobile_number,USER_COUNTRY:this.edit_user_form.country,PASSWORD:this.edit_user_form.password,CREATED_BY:null===(t=this.UserDetails)||void 0===t?void 0:t.UserId};this.isLoading=!0,u.a.start(),u.a.set(.1),this.$apiCall.post(this.$apiBus.add_update_user,s).then((function(e){"true"==e.status?(i["a"].showSuccessAlert(!0,"success","User Updated Successfully"),r.getUserDetailsInfo(),r.closeEditModal()):i["a"].showErrorAlert(!0,"error",e.response)})).finally((function(){r.isLoading=!1,u.a.done()}))},removeUserDetails:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var r,s,a,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].showConfirmationAlert("Are you sure?","you want to delete this user!","warning");case 2:if(a=t.sent,a.isConfirmed){t.next=5;break}return t.abrupt("return");case 5:n={ITEM:"DELETE_USER",USER_SYS_ID:null===(r=e.selected_user)||void 0===r?void 0:r.USER_SYS_ID,DELETED_BY:null===(s=e.UserDetails)||void 0===s?void 0:s.UserId},e.isLoading=!0,u.a.start(),u.a.set(.1),e.$apiCall.post(e.$apiBus.add_update_user,n).then((function(t){"true"==t.status?(i["a"].showSuccessAlert(!0,"success","User Deleted Successfully"),e.getUserDetailsInfo(),e.closeEditModal()):i["a"].showErrorAlert(!0,"error",t.response)})).finally((function(){e.isLoading=!1,u.a.done()}));case 10:case"end":return t.stop()}}),t)})))()},activeUserDetails:function(){var e=this;return Object(n["a"])(Object(o["a"])().mark((function t(){var r,s,a,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].showConfirmationAlert("Are you sure?","you want to active this user!","warning");case 2:if(a=t.sent,a.isConfirmed){t.next=5;break}return t.abrupt("return");case 5:u.a.start(),u.a.set(.1),e.isLoading=!0,n={ITEM:"ACTIVATE_USER",USER_SYS_ID:null===(r=e.selected_user)||void 0===r?void 0:r.USER_SYS_ID,CREATED_BY:null===(s=e.UserDetails)||void 0===s?void 0:s.UserId},e.$apiCall.post(e.$apiBus.add_update_user,n).then((function(t){"true"==t.status?(i["a"].showSuccessAlert(!0,"success",t.response),e.getUserDetailsInfo(),e.closeEditModal()):i["a"].showErrorAlert(!0,"error",t.response)})).finally((function(){e.isLoading=!1,u.a.done()}));case 10:case"end":return t.stop()}}),t)})))()},getSpecificUserForEdit:function(e){var t=this;return Object(n["a"])(Object(o["a"])().mark((function r(){var s,a,n,l,u,c;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ensureDropdownDataLoaded();case 2:return s={ITEM:"SPECIFIC",USER_SYS_ID:e},r.prev=3,r.next=6,t.$apiCall.get(t.$apiBus.get_specific_user,{params:s});case 6:a=r.sent,"true"==a.status&&a.response&&a.response.length>0&&(n=a.response[0],console.log("API Response for specific user:",n),l=t.org_list_details.find((function(e){return e.ORGANISATION_SYS_ID==n.ORGANISATION_SYS_ID})),u=t.system_role_details.find((function(e){return e.value==n.SYSTEM_ROLE_SYS_ID})),c=t.country_option_list.find((function(e){return e.value===n.USER_COUNTRY})),t.edit_user_form={org_name:(null===l||void 0===l?void 0:l.ORGANISATION_SYS_ID)||null,role:(null===u||void 0===u?void 0:u.value)||null,email:n.EMAIL_ID||"",person_name:n.PERSON_NAME||"",mobile_number:n.MOBILE_NO||"",gender:n.GENDER||null,country:(null===c||void 0===c?void 0:c.value)||null,username:n.USER_NAME||"",password:""},console.log("Edit form populated:",t.edit_user_form)),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](3),console.error("Error getting specific user:",r.t0),i["a"].showErrorAlert(!0,"error","Failed to load user details");case 14:case"end":return r.stop()}}),r,null,[[3,10]])})))()},getSpecificUser:function(e){var t=this;return Object(n["a"])(Object(o["a"])().mark((function r(){var s;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ensureDropdownDataLoaded();case 2:return s={ITEM:"SPECIFIC",USER_SYS_ID:e},r.next=5,t.$apiCall.get(t.$apiBus.get_specific_user,{params:s}).then((function(e){if("true"==e.status){var r=e.response[0];t.user_form={org_name:r.ORGANISATION_SYS_ID,role:r.SYSTEM_ROLE_SYS_ID,email:r.EMAIL_ID,person_name:r.PERSON_NAME,mobile_number:r.MOBILE_NO,gender:r.GENDER,country:r.USER_COUNTRY,COUNTRY_SYS_ID:r.COUNTRY_SYS_ID,username:r.USER_NAME,password:r.PASSWORD}}}));case 5:case"end":return r.stop()}}),r)})))()},includeOrganizationId:function(){this.user&&this.user.ORGANISATION_SYS_ID&&(this.add_user_form.ORGANISATION_SYS_ID=this.user.ORGANISATION_SYS_ID)},getOrgIdByName:function(e){var t=this.org_list_details.find((function(t){return t.ORGANISATION_NAME===e}));return t?t.ORGANISATION_SYS_ID:null},deleteUser:function(){this.$bvModal.hide("delete-confirmation-modal"),this.removeUserDetails()}}},d=c,_=(r("a2f7"),r("2877")),m=Object(_["a"])(d,s,a,!1,null,"6f2ca906",null);t["default"]=m.exports},"7db0":function(e,t,r){"use strict";var s=r("23e7"),a=r("b727").find,o=r("44d2"),n="find",i=!0;n in[]&&Array(1)[n]((function(){i=!1})),s({target:"Array",proto:!0,forced:i},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(n)},"95cd":function(e,t,r){e.exports=r.p+"img/loader.85135c1c.gif"},a2f7:function(e,t,r){"use strict";r("cc01")},cc01:function(e,t,r){}}]);