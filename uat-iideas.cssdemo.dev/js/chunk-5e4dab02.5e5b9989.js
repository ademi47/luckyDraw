(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e4dab02"],{"498a":function(e,t,a){"use strict";var n=a("23e7"),s=a("58a8").trim,i=a("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return s(this)}})},5233:function(e,t,a){},"8a79":function(e,t,a){"use strict";var n=a("23e7"),s=a("4625"),i=a("06cf").f,r=a("50c4"),o=a("577e"),l=a("5a34"),d=a("1d80"),c=a("ab13"),u=a("c430"),f=s("".endsWith),_=s("".slice),p=Math.min,E=c("endsWith"),m=!u&&!E&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!m&&!E},{endsWith:function(e){var t=o(d(this));l(e);var a=arguments.length>1?arguments[1]:void 0,n=t.length,s=void 0===a?n:p(r(a),n),i=o(e);return f?f(t,i,s):_(t,s-i.length,s)===i}})},a0cd:function(e,t,a){},a434:function(e,t,a){"use strict";var n=a("23e7"),s=a("7b0b"),i=a("23cb"),r=a("5926"),o=a("07fa"),l=a("3a34"),d=a("3511"),c=a("65f0"),u=a("8418"),f=a("083a"),_=a("1dde"),p=_("splice"),E=Math.max,m=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var a,n,_,p,v,b,g=s(this),A=o(g),I=i(e,A),h=arguments.length;for(0===h?a=n=0:1===h?(a=0,n=A-I):(a=h-2,n=m(E(r(t),0),A-I)),d(A+a-n),_=c(g,n),p=0;p<n;p++)v=I+p,v in g&&u(_,p,g[v]);if(_.length=n,a<n){for(p=I;p<A-n;p++)v=p+n,b=p+a,v in g?g[b]=g[v]:f(g,b);for(p=A;p>A-n+a;p--)f(g,p-1)}else if(a>n)for(p=A-n;p>I;p--)v=p+n-1,b=p+a-1,v in g?g[b]=g[v]:f(g,b);for(p=0;p<a;p++)g[p+I]=arguments[p+2];return l(g,A-n+a),_}})},b5d9:function(e,t,a){"use strict";a("fada")},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("d9e2");var n=a("06c5");function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,r=e},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(l)throw r}}}}},b88b:function(e,t,a){"use strict";a("5233")},c8d2:function(e,t,a){var n=a("5e77").PROPER,s=a("d039"),i=a("5899"),r="​᠎";e.exports=function(e){return s((function(){return!!i[e]()||r[e]()!==r||n&&i[e].name!==e}))}},e178:function(e,t,a){"use strict";a("a0cd")},fada:function(e,t,a){},fd2e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("b-card",{attrs:{title:"Attendees Portal"}},[t("div",[t("b-tabs",{staticClass:"mt-3",model:{value:e.activeTabIndex,callback:function(t){e.activeTabIndex=t},expression:"activeTabIndex"}},[1==e.Arrangement?t("b-tab",{attrs:{title:"Arrangement",lazy:""}},[t("Arrangements")],1):e._e(),1==e.Agenda?t("b-tab",{attrs:{title:"Agenda",lazy:""}},[t("Agenda",{ref:"agendaComponent"})],1):e._e(),1==e.Download?t("b-tab",{attrs:{title:"Download",lazy:""}},[t("Download",{ref:"downloadComponent"})],1):e._e(),1==e.showInteractOptions?t("b-tab",{attrs:{title:"Interact",lazy:""}},[t("Interact",{ref:"interactComponent",attrs:{flagdetails:e.flagdetails}})],1):e._e(),1==e.Feedback?t("b-tab",{attrs:{title:"Feedback",lazy:""}},[t("Feedback",{ref:"feedbackComponent"})],1):e._e()],1)],1)])],1)},s=[],i=(a("14d9"),a("99af"),function(){var e=this,t=e._self._c;return t("div",[e.tables.length?t("div",[t("div",{staticClass:"row"},e._l(e.tables,(function(a){return t("div",{key:a.SEATING_ARRANGEMENT_SYS_ID,staticClass:"col-md-4 mb-4"},[t("h5",{staticClass:"text-center"},[e._v("Table no. "+e._s(a.TABLE_NO))]),t("div",{staticClass:"card overflow-hidden",staticStyle:{height:"300px"}},[t("img",{staticClass:"w-100 h-100",staticStyle:{"object-fit":"cover"},attrs:{src:"".concat(e.imageUrl,"/").concat(a.TABLE_IMAGE)}})])])})),0)]):t("div",[t("p",[e._v("No data found")])])])}),r=[],o=a("c7eb"),l=a("1da1"),d=(a("d3b7"),a("d81d"),a("323e")),c=a.n(d),u={data:function(){return{tables:[],imageUrl:"".concat("https://uat-iideasapi.cssdemo.dev","/routes/uploadedFiles")}},mounted:function(){this.event_sys_id=JSON.parse(localStorage.getItem("selectedEventSysId")),this.fetchTables()},methods:{fetchTables:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={ITEM:"VIEW_ALL",EVENT_SYS_ID:e.event_sys_id},c.a.start(),e.$apiCall.get(e.$apiBus.api_get_view_seating_arrangement,{params:a}).then((function(t){t.status&&"true"===t.status?e.tables=t.response.map((function(e){return{TABLE_NO:e.TABLE_NO,TABLE_IMAGE:e.TABLE_IMAGE,SEATING_ARRANGEMENT_SYS_ID:e.SEATING_ARRANGEMENT_SYS_ID}})):(console.error("❌ API Error:",t.response),e.tables=[])})).catch((function(t){console.error("❌ API Error:",t),e.tables=[]})).finally((function(){c.a.done()}));case 3:case"end":return t.stop()}}),t)})))()}}},f=u,_=(a("e178"),a("2877")),p=Object(_["a"])(f,i,r,!1,null,"df114c68",null),E=p.exports,m=function(){var e=this,t=e._self._c;return t("div",[e._l(e.agendadetails,(function(a){return t("div",{key:a.DAY},e._l(a.AGENDAS,(function(n){return t("b-card",{key:n.ATTENDEES_AGENDA_SYS_ID,staticClass:"custom-card mt-3"},[t("div",{staticClass:"d-flex align-items-center justify-content-between"},[t("div",{staticClass:"d-flex align-items-center"},[t("h5",{staticClass:"mr-4"},[e._v("Day "+e._s(a.DAY))]),t("p",{staticClass:"mb-0"},[t("i",{staticClass:"far fa-clock"}),e._v(" "+e._s(n.START_TIME)+" - "+e._s(n.END_TIME)+" ")])]),t("div",[t("b-icon",{staticClass:"mr-2",staticStyle:{cursor:"pointer"},attrs:{icon:"pencil-square",variant:"success","font-scale":"1.5"},on:{click:function(t){return e.editAgenda(n,a.DAY)}}}),t("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"trash",variant:"danger","font-scale":"1.5"},on:{click:function(t){return e.deleteAgenda(n)}}})],1)]),t("div",{staticClass:"line mt-2"}),t("h4",{staticStyle:{color:"#0000d3 !important"}},[e._v(e._s(n.TITLE))]),t("div",{staticClass:"d-flex align-items-center justify-content-between mt-2"},[t("p",{staticClass:"mb-0"},[t("b",[e._v(e._s(n.SPEAKER_NAME)+",")]),e._v(" ("+e._s(n.SPEAKER_DESIGNATION)+") ")]),n.SPEAKER_IMAGE?t("div",[t("img",{staticClass:"speaker-profile-img",attrs:{src:"".concat(e.imageUrl,"/").concat(n.SPEAKER_IMAGE),alt:"Speaker"}})]):e._e()]),t("p",{staticClass:"mt-2"},[e._v(e._s(n.DESCRIPTION))])])})),1)})),t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(a){var n=a.handleSubmit;return[t("b-modal",{attrs:{id:"modal-1",title:"ADD"===e.itemMode?"Add Agenda":"Edit Agenda",size:"lg","hide-footer":""},model:{value:e.day_field,callback:function(t){e.day_field=t},expression:"day_field"}},[t("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),n(e.addAgendaDetails)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-2"},[t("validation-provider",{attrs:{name:"Day",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("label",{attrs:{for:"day"}},[e._v("Day")]),t("b-form-input",{attrs:{id:"day",type:"number",placeholder:"Enter day",state:e.getValidationState(a),"aria-describedby":"day-feedback"},model:{value:e.day_count,callback:function(t){e.day_count=t},expression:"day_count"}}),t("b-form-invalid-feedback",{attrs:{id:"day-feedback"}},[e._v(" "+e._s(a.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-8"})]),e._l(e.agendas,(function(a,n){return t("div",{key:n},[t("div",{staticClass:"row mt-3",staticStyle:{"align-items":"end"}},[t("div",{staticClass:"col-md-4"},[t("validation-provider",{attrs:{name:"Title",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("label",{attrs:{for:"title"}},[e._v("Title")]),t("b-form-input",{staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Enter agenda title",state:e.getValidationState(n),"aria-describedby":"Title-feedback"},model:{value:a.TITLE,callback:function(t){e.$set(a,"TITLE",t)},expression:"agenda.TITLE"}}),t("b-form-invalid-feedback",{attrs:{id:"Title-feedback"}},[e._v(" "+e._s(n.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("validation-provider",{attrs:{name:"Description",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("label",{attrs:{for:"desc"}},[e._v("Description")]),t("b-form-input",{staticClass:"form-control",attrs:{id:"desc",type:"text",placeholder:"Enter Description",state:e.getValidationState(n),"aria-describedby":"Description-feedback"},model:{value:a.DESCRIPTION,callback:function(t){e.$set(a,"DESCRIPTION",t)},expression:"agenda.DESCRIPTION"}}),t("b-form-invalid-feedback",{attrs:{id:"Description-feedback"}},[e._v(" "+e._s(n.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-2 d-flex justify-content-end"},[t("div",{staticClass:"profile-upload"},[t("label",{staticClass:"profile-label",attrs:{for:"profileImageInput_"+n}},[a.PROFILE_PREVIEW_URL?t("img",{staticClass:"profile-preview",attrs:{src:a.PROFILE_PREVIEW_URL,alt:"Profile"}}):t("i",{staticClass:"fas fa-user-circle profile-icon"})]),t("input",{attrs:{type:"file",id:"profileImageInput_"+n,accept:"image/*",hidden:""},on:{change:function(t){return e.onSelectProfileImage(t,n)}}})])])]),t("div",{staticClass:"row mt-3",staticStyle:{"align-items":"end"}},[t("div",{staticClass:"col-md-3"},[t("validation-provider",{attrs:{name:"Speaker Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("label",{attrs:{for:"speaker"}},[e._v("Speaker Name")]),t("b-form-input",{staticClass:"form-control",attrs:{id:"speaker",type:"text",placeholder:"Enter Speaker Name",state:e.getValidationState(n),"aria-describedby":"Speaker-feedback"},model:{value:a.SPEAKER_NAME,callback:function(t){e.$set(a,"SPEAKER_NAME",t)},expression:"agenda.SPEAKER_NAME"}}),t("b-form-invalid-feedback",{attrs:{id:"Speaker-feedback"}},[e._v(" "+e._s(n.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-3"},[t("validation-provider",{attrs:{name:"Speaker Designation",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("label",{attrs:{for:"designation"}},[e._v("Speaker Designation")]),t("b-form-input",{staticClass:"form-control",attrs:{id:"designation",type:"text",placeholder:"Enter designation",state:e.getValidationState(n),"aria-describedby":"Speaker-Designation"},model:{value:a.SPEAKER_DESIGNATION,callback:function(t){e.$set(a,"SPEAKER_DESIGNATION",t)},expression:"agenda.SPEAKER_DESIGNATION"}}),t("b-form-invalid-feedback",{attrs:{id:"Speaker-Designation"}},[e._v(" "+e._s(n.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-2"},[t("validation-provider",{attrs:{name:"Start Time",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("label",{attrs:{for:"start"}},[e._v("Start Time")]),t("b-form-input",{staticClass:"form-control",attrs:{id:"start",type:"time",state:e.getValidationState(n),"aria-describedby":"start-feedback"},model:{value:a.START_TIME,callback:function(t){e.$set(a,"START_TIME",t)},expression:"agenda.START_TIME"}}),t("b-form-invalid-feedback",{attrs:{id:"start-feedback"}},[e._v(" "+e._s(n.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-2"},[t("validation-provider",{attrs:{name:"End Time",rules:{required:!0,afterStart:a.START_TIME}},scopedSlots:e._u([{key:"default",fn:function(n){return[t("label",{attrs:{for:"end"}},[e._v("End Time")]),t("b-form-input",{staticClass:"form-control",attrs:{id:"end",type:"time",state:e.getValidationState(n),"aria-describedby":"end-feedback"},model:{value:a.END_TIME,callback:function(t){e.$set(a,"END_TIME",t)},expression:"agenda.END_TIME"}}),t("b-form-invalid-feedback",{attrs:{id:"end-feedback"}},[e._v(" "+e._s(n.errors[0])+" ")])]}}],null,!0)})],1),t("div",{staticClass:"col-md-2"},[t("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:e.addAgenda}},[t("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),0!==n?t("button",{staticClass:"btn btn-danger ml-1",attrs:{type:"button"},on:{click:function(t){return e.removeAgenda(n)}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):e._e()])])])})),t("div",{staticClass:"d-flex mt-3",staticStyle:{"justify-content":"space-between"}},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.closeModal}},[e._v("Cancel")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Save")])])],2)],1)]}}])}),t("b-modal",{attrs:{title:"Crop Image",centered:"","hide-footer":"","no-close-on-esc":"","no-close-on-backdrop":"","header-close-content":"&times;",id:"crop-image-modal",size:"xl"}},[t("div",{staticClass:"w-100"},[t("div",{staticClass:"crop-container"},[t("vue-cropper",{ref:"cropper",attrs:{src:e.imgSrc,outputType:"png",preview:".preview",alt:"Source Image","img-style":{width:"100%",height:"400px"},cropBoxResizable:!0,toggleDragModeOnDblclick:!1,dragMode:"move",aspectRatio:1,viewMode:1,autoCropArea:.8},on:{ready:e.setCropBoxData}})],1),t("div",{staticClass:"text-right mt-3"},[t("b-button",{staticClass:"btn btn-secondary mr-2",on:{click:function(t){return e.closeCropModal()}}},[e._v("Close")]),t("b-button",{staticClass:"btn btn-primary",staticStyle:{"background-color":"#1f1b18 !important",color:"#fff !important"},on:{click:e.cropImage}},[e._v(" Save ")])],1)])]),t("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"float-add",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openAddAgenda.apply(null,arguments)}}},[t("i",{staticClass:"fa fa-plus my-float"})])],2)},v=[],b=(a("a434"),a("caad"),a("2532"),a("ac1f"),a("5319"),a("b0c0"),a("466d"),a("81b2"),a("0eb6"),a("b7ef"),a("8bd4"),a("ace4"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("1b3b"),a("3d71"),a("c6e3"),a("7bb1")),g=a("95c3"),A=a.n(g),I=a("471e");a("6107");Object(b["c"])("afterStart",{params:["start"],validate:function(e,t){var a=t.start;return!a||!e||e>a},message:"End Time must be later than Start Time"});var h,S,T={components:{VueCropper:A.a},data:function(){return{agendas:[{AGENDA_SYS_ID:0,SPEAKER_NAME:"",SPEAKER_DESIGNATION:"",START_TIME:"",END_TIME:"",TITLE:"",DESCRIPTION:"",CREATED_BY:"",PROFILE_PREVIEW_URL:null,PROFILE_FILE_NAME:null}],imgSrc:"",cropImg:"",fileData:null,currentImageIndex:null,day_count:"",agendadetails:[],day_field:!1,event_sys_id:null,itemMode:"ADD",imageUrl:"".concat("https://uat-iideasapi.cssdemo.dev","/routes/uploadedFiles")}},mounted:function(){this.event_sys_id=JSON.parse(localStorage.getItem("selectedEventSysId")),this.getAgendaInfo()},methods:{getValidationState:function(e){var t=e.dirty,a=e.validated,n=e.valid;return t||a?n:null},addAgenda:function(){this.agendas.push({AGENDA_SYS_ID:0,SPEAKER_NAME:"",SPEAKER_DESIGNATION:"",START_TIME:"",END_TIME:"",TITLE:"",DESCRIPTION:"",CREATED_BY:"",PROFILE_PREVIEW_URL:null,PROFILE_FILE_NAME:null})},removeAgenda:function(e){this.agendas.splice(e,1)},onSelectProfileImage:function(e,t){var a=e.target.files[0];if(a)if(a.type.includes("image/")){var n=10485760;a.size>n?this.$bvToast.toast("File size should be less than 10MB",{title:"File Too Large",variant:"danger",solid:!0}):(this.fileData=a,this.currentImageIndex=t,this.showCropModal(a))}else this.$bvToast.toast("Please select an image file",{title:"Invalid File",variant:"danger",solid:!0})},showCropModal:function(e){var t=this;if(c.a.start(),c.a.set(.1),"function"===typeof FileReader){var a=new FileReader;a.onload=function(e){t.imgSrc=e.target.result,t.$nextTick((function(){t.$refs.cropper&&t.$refs.cropper.replace(e.target.result),t.$bvModal.show("crop-image-modal"),c.a.done()}))},a.readAsDataURL(e)}else this.$bvToast.toast("Sorry, FileReader API not supported",{title:"Browser Error",variant:"danger",solid:!0}),c.a.done()},uploadFile:function(e){var t=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var n,s,i,r,l;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,c.a.start(),n=new FormData,n.append("files[]",e),a.next=6,t.$apiCall.post(t.$apiBus.file_upload,n,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});case 6:s=a.sent,i=(null===s||void 0===s?void 0:s.data)||s,"true"===(null===i||void 0===i?void 0:i.status)||!0===(null===i||void 0===i?void 0:i.success)?(r=(null===i||void 0===i?void 0:i.fileName)||e.name,null!==t.currentImageIndex&&(t.agendas[t.currentImageIndex].PROFILE_FILE_NAME=r,t.agendas[t.currentImageIndex].PROFILE_PREVIEW_URL="".concat(t.imageUrl,"/").concat(r)),t.$bvModal.hide("crop-image-modal"),t.$bvToast.toast("Image uploaded successfully!",{title:"Success",variant:"success",solid:!0})):(console.error("Upload failed:",i),t.$bvToast.toast("Upload failed. Please try again.",{title:"Upload Error",variant:"danger",solid:!0})),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),console.error("Error in uploadFile:",(null===(l=a.t0.response)||void 0===l?void 0:l.data)||a.t0),t.$bvToast.toast("Upload failed. Please check your internet connection and try again.",{title:"Upload Error",variant:"danger",solid:!0});case 15:return a.prev=15,c.a.done(),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[0,11,15,18]])})))()},cropImage:function(){if(this.$refs.cropper){var e=this.$refs.cropper.getCroppedCanvas({width:400,height:400,fillColor:"#fff",imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}).toDataURL("image/jpeg",.9),t=this.dataURLtoFile(e,this.fileData.name);this.uploadFile(t)}else this.$bvToast.toast("Cropper not ready. Please try again.",{title:"Error",variant:"danger",solid:!0})},dataURLtoFile:function(e,t){var a=e.split(","),n=a[0].match(/:(.*?);/)[1],s=atob(a[1]),i=s.length,r=new Uint8Array(i);while(i--)r[i]=s.charCodeAt(i);return new File([r],t,{type:n})},editAgenda:function(e,t){this.itemMode="EDIT",this.day_field=!0,this.day_count=t,this.agendas=[{AGENDA_SYS_ID:e.ATTENDEES_AGENDA_SYS_ID,SPEAKER_NAME:e.SPEAKER_NAME,SPEAKER_DESIGNATION:e.SPEAKER_DESIGNATION,START_TIME:e.START_TIME,END_TIME:e.END_TIME,TITLE:e.TITLE,DESCRIPTION:e.DESCRIPTION,CREATED_BY:e.CREATED_BY||"2",PROFILE_FILE_NAME:e.SPEAKER_IMAGE||null,PROFILE_PREVIEW_URL:e.SPEAKER_IMAGE?"".concat(this.imageUrl,"/").concat(e.SPEAKER_IMAGE):null}]},closeCropModal:function(){this.imgSrc="",this.cropImg="",this.fileData=null,this.currentImageIndex=null,this.$bvModal.hide("crop-image-modal")},setCropBoxData:function(){var e=this;this.$nextTick((function(){e.$refs.cropper&&e.$refs.cropper.setAspectRatio(1)}))},getAgendaInfo:function(){var e=this,t={ITEM:"VIEW_ALL",EVENT_SYS_ID:this.event_sys_id};this.$apiCall.get(this.$apiBus.api_get_agenda_list,{params:t}).then((function(t){t.status&&"true"===t.status?e.agendadetails=t.response:I["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Error fetching agenda:",t),e.$bvToast.toast("Failed to load agenda. Please refresh the page.",{title:"Load Error",variant:"danger",solid:!0})}))},deleteAgenda:function(e){var t=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var n,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,I["a"].showConfirmationAlert("Are you sure?","You want to delete this agenda!","warning");case 2:n=a.sent,n.isConfirmed&&(s={ITEM:"DELETE",EVENT_SYS_ID:t.event_sys_id,AGENDA_SYS_ID:e.ATTENDEES_AGENDA_SYS_ID},t.$apiCall.post(t.$apiBus.api_post_add_update_agenda,s).then((function(e){"true"==e.status?(I["a"].showSuccessAlert(!0,"success","Agenda deleted successfully!"),t.getAgendaInfo()):I["a"].showErrorAlert(!0,"error",e.response)})).catch((function(e){console.error("Error deleting agenda:",e),t.$bvToast.toast("Delete failed. Please try again.",{title:"Delete Error",variant:"danger",solid:!0})})));case 4:case"end":return a.stop()}}),a)})))()},addAgendaDetails:function(){var e=this,t=this.agendas.map((function(e){return{AGENDA_SYS_ID:e.AGENDA_SYS_ID||0,SPEAKER_NAME:e.SPEAKER_NAME,SPEAKER_DESIGNATION:e.SPEAKER_DESIGNATION,START_TIME:e.START_TIME,END_TIME:e.END_TIME,TITLE:e.TITLE,DESCRIPTION:e.DESCRIPTION,SPEAKER_IMAGE:e.PROFILE_FILE_NAME||"",CREATED_BY:e.CREATED_BY||"2"}})),a={ITEM:"ADD_UPDATE",EVENT_SYS_ID:this.event_sys_id,DAY:this.day_count,AGENDAS:t};this.$apiCall.post(this.$apiBus.api_post_add_update_agenda,a).then((function(t){"true"==t.status?(I["a"].showSuccessAlert(!0,"success","Agenda saved successfully!"),e.getAgendaInfo(),e.closeModal()):I["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Error saving agenda:",t),e.$bvToast.toast("Save failed. Please try again.",{title:"Save Error",variant:"danger",solid:!0})}))},closeModal:function(){this.day_field=!1,this.itemMode="ADD",this.agendas=[{AGENDA_SYS_ID:0,SPEAKER_NAME:"",SPEAKER_DESIGNATION:"",START_TIME:"",END_TIME:"",TITLE:"",DESCRIPTION:"",CREATED_BY:"",PROFILE_PREVIEW_URL:null,PROFILE_FILE_NAME:null}]},openAddAgenda:function(){this.itemMode="ADD",this.day_field=!0,this.day_count="",this.agendas=[{AGENDA_SYS_ID:0,SPEAKER_NAME:"",SPEAKER_DESIGNATION:"",START_TIME:"",END_TIME:"",TITLE:"",DESCRIPTION:"",CREATED_BY:"",PROFILE_PREVIEW_URL:null,PROFILE_FILE_NAME:null}]}}},D=T,y=(a("b5d9"),Object(_["a"])(D,m,v,!1,null,"4c4d38a5",null)),N=y.exports,C={},R=Object(_["a"])(C,h,S,!1,null,null,null),w=R.exports,k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-3"},[t("h4",[e._v("Add Questions")]),t("div",{staticClass:"mt-2 d-flex",staticStyle:{"align-items":"end"}},[t("div",[t("label",{attrs:{for:""}},[e._v("Question 1")]),t("b-form-input",{staticClass:"form-control mr-2",staticStyle:{width:"500px"},attrs:{type:"text",placeholder:"Enter question"}})],1),e._m(0)])])},M=[function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn btn-warning"},[t("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])}],O={},L=Object(_["a"])(O,k,M,!1,null,null,null),x=L.exports,P=function(){var e,t=this,a=t._self._c;return a("div",[a("div",{staticClass:"mt-3 d-flex",staticStyle:{"justify-content":"end"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],attrs:{variant:"primary"}},[t._v("Add")])],1),a("b-table",{staticClass:"mt-3",attrs:{striped:"",hover:"",bordered:"",items:t.downloaddetails,fields:t.fields,responsive:"sm"},scopedSlots:t._u([{key:"head(index)",fn:function(){return[a("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(e){return[a("div",{staticClass:"text-center"},[t._v(t._s(e.index+1))])]}},{key:"cell(DOCUMENT_NAME)",fn:function(e){return[a("span",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],staticStyle:{cursor:"pointer",color:"#007bff"},on:{click:function(a){t.selectedDoc=e.item}}},[t._v(" "+t._s(e.item.DOCUMENT_NAME)+" ")])]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.downloadDoc(e.item)}}},[t._v(" Download ")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteDoc(e.item.DOCUMENT_SYS_ID)}}},[t._v(" Delete ")])],1)]}}])}),a("b-modal",{attrs:{id:"modal-2",title:"Add Document",size:"lg","hide-footer":""}},[t._l(t.documentRows,(function(e,n){return a("div",{key:n,staticClass:"mb-3"},[a("div",{staticClass:"d-flex",staticStyle:{"align-items":"end"}},[a("div",{staticClass:"mr-2"},[a("label",[t._v("Document Name")]),a("b-form-input",{staticStyle:{width:"250px"},attrs:{type:"text",placeholder:"Enter doc name ".concat(n+1)},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"doc.name"}})],1),a("div",{staticClass:"mr-2"},[a("input",{ref:"fileInput".concat(n),refInFor:!0,staticClass:"form-control",attrs:{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"},on:{change:function(e){return t.handleFileSelect(e,n)}}})]),a("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:function(e){return t.triggerFileInput(n)}}},[t._v(" Upload ")]),n===t.documentRows.length-1?a("b-button",{attrs:{variant:"warning"},on:{click:t.addDocumentRow}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]):t._e(),t.documentRows.length>1?a("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:function(e){return t.removeDocumentRow(n)}}},[a("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})]):t._e()],1),e.file?a("div",{staticClass:"mt-2"},[a("small",{staticClass:"text-success"},[a("i",{staticClass:"fa fa-file"}),t._v(" Selected: "+t._s(e.file.name)+" ")])]):t._e()])})),a("div",{staticClass:"d-flex mt-3",staticStyle:{"justify-content":"space-between"}},[a("b-button",{attrs:{variant:"secondary"},on:{click:t.cancelAdd}},[t._v("Cancel")]),a("b-button",{attrs:{variant:"primary",disabled:!t.hasValidDocs||t.isLoading},on:{click:t.saveAllDocs}},[t.isLoading?a("span",[t._v("Saving...")]):a("span",[t._v("Save All")])])],1)],2),a("b-modal",{attrs:{id:"modal-3",title:(null===(e=t.selectedDoc)||void 0===e?void 0:e.DOCUMENT_NAME)||"Document",size:"lg","hide-footer":""}},[t.selectedDoc?a("div",[a("p",[a("strong",[t._v("Document Name:")]),t._v(" "+t._s(t.selectedDoc.DOCUMENT_NAME))]),a("p",[a("strong",[t._v("Event ID:")]),t._v(" "+t._s(t.selectedDoc.EVENT_SYS_ID))]),a("p",[a("strong",[t._v("Document ID:")]),t._v(" "+t._s(t.selectedDoc.DOCUMENT_SYS_ID))]),a("div",{staticClass:"text-center mt-3"},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.downloadDoc(t.selectedDoc)}}},[a("i",{staticClass:"fa fa-download"}),t._v(" Download ")])],1)]):t._e()])],1)},F=[],$=a("b85c"),G=(a("498a"),a("4de4"),a("25f0"),a("d9e2"),a("159b"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("8a79"),{data:function(){return{fields:[{key:"index",label:"S/N"},{key:"DOCUMENT_NAME",label:"Document Name"},{key:"actions",label:"Action",class:"text-center"}],downloaddetails:[],documentRows:[{name:"",file:null}],selectedDoc:null,event_sys_id:null,user_sys_id:null,isDownloadLoaded:!1,isLoading:!1}},computed:{hasValidDocs:function(){return this.documentRows.every((function(e){return""!==e.name.trim()&&null!==e.file}))}},mounted:function(){this.event_sys_id=JSON.parse(localStorage.getItem("selectedEventSysId")),this.user_sys_id=JSON.parse(localStorage.getItem("userInfo")),console.log("Event SysId:",this.event_sys_id),console.log("User SysId:",this.user_sys_id)},methods:{onDownloadTabClick:function(){this.isDownloadLoaded||this.getDownloadInfo()},getDownloadInfo:function(){var e=this;if(this.event_sys_id){c.a.start();var t={ITEM:"VIEW_ALL",EVENT_SYS_ID:this.event_sys_id};this.$apiCall.get(this.$apiBus.api_get_view_document,{params:t}).then((function(t){t.status&&"true"===t.status?(e.downloaddetails=t.response||[],e.isDownloadLoaded=!0):alert("Failed to fetch documents: "+(t.response||"Unknown error"))})).catch((function(e){alert("Failed to fetch documents: "+(e.message||"Network error"))})).finally((function(){c.a.done()}))}else alert("Event ID not found")},triggerFileInput:function(e){var t=this.$refs["fileInput".concat(e)];t&&t[0]&&t[0].click()},handleFileSelect:function(e,t){var a=e.target.files[0];a&&(this.documentRows[t].file=a,this.documentRows[t].name||(this.documentRows[t].name=a.name.split(".")[0]))},addDocumentRow:function(){this.documentRows.push({name:"",file:null})},removeDocumentRow:function(e){this.documentRows.length>1&&this.documentRows.splice(e,1)},saveAllDocs:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var a,n,s,i,r,l,d;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.event_sys_id&&null!==(a=e.user_sys_id)&&void 0!==a&&a.USER_SYS_ID){t.next=3;break}return alert("Missing event or user information"),t.abrupt("return");case 3:if(n=e.documentRows.filter((function(e){return""!==e.name.trim()&&null!==e.file})),0!==n.length){t.next=7;break}return alert("Please provide document name and file"),t.abrupt("return");case 7:c.a.start(),e.isLoading=!0,t.prev=9,s=Object($["a"])(n),t.prev=11,s.s();case 13:if((i=s.n()).done){t.next=28;break}return r=i.value,l=new FormData,l.append("ITEM","ADD"),l.append("EVENT_SYS_ID",e.event_sys_id.toString()),l.append("DOCUMENT_NAME",r.name.trim()),l.append("CREATED_BY",e.user_sys_id.USER_SYS_ID.toString()),r.file&&(l.append("document_file",r.file),l.append("FILE_NAME",r.file.name)),t.next=23,e.$apiCall.post(e.$apiBus.api_post_add_update_document,l,{headers:{"Content-Type":"multipart/form-data"}});case 23:if(d=t.sent,"true"===d.status){t.next=26;break}throw new Error("Failed to save document: ".concat(r.name," - ").concat(d.response||"Unknown error"));case 26:t.next=13;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](11),s.e(t.t0);case 33:return t.prev=33,s.f(),t.finish(33);case 36:alert("".concat(n.length," document(s) saved successfully")),e.isDownloadLoaded=!1,e.getDownloadInfo(),e.cancelAdd(),t.next=45;break;case 42:t.prev=42,t.t1=t["catch"](9),alert(t.t1.message||"Failed to save documents");case 45:return t.prev=45,e.isLoading=!1,c.a.done(),t.finish(45);case 49:case"end":return t.stop()}}),t,null,[[9,42,45,49],[11,30,33,36]])})))()},cancelAdd:function(){this.$bvModal.hide("modal-2"),this.documentRows=[{name:"",file:null}],this.$nextTick((function(){var e=document.querySelectorAll('input[type="file"]');e.forEach((function(e){return e.value=""}))}))},downloadDoc:function(e){var t=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var n,s,i,r,l,d;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.event_sys_id){a.next=3;break}return alert("Event ID not found"),a.abrupt("return");case 3:return c.a.start(),n={filename:e.FILE_NAME},a.prev=5,a.next=8,t.$apiCall.get(t.$apiBus.file_download,{params:n,responseType:"blob"});case 8:s=a.sent,i=e.FILE_NAME||"document",r=new Blob([s.data]),l=URL.createObjectURL(r),d=document.createElement("a"),d.href=l,d.setAttribute("download",i),i.toLowerCase().endsWith(".pdf")?window.open(l,"_blank"):(document.body.appendChild(d),d.click(),document.body.removeChild(d)),URL.revokeObjectURL(l),alert("Document downloaded successfully"),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](5),console.error("Download failed:",a.t0),alert("Failed to download document: "+(a.t0.message||"Network error"));case 24:return a.prev=24,c.a.done(),a.finish(24);case 27:case"end":return a.stop()}}),a,null,[[5,20,24,27]])})))()},deleteDoc:function(e){var t=this;return Object(l["a"])(Object(o["a"])().mark((function a(){var n,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(confirm("Are you sure you want to delete this document?")){a.next=2;break}return a.abrupt("return");case 2:return c.a.start(),t.isLoading=!0,a.prev=4,n={ITEM:"DELETE",DOCUMENT_SYS_ID:e},a.next=8,t.$apiCall.post(t.$apiBus.api_post_add_update_document,n);case 8:s=a.sent,"true"===s.status?(alert("Document deleted successfully"),t.downloaddetails=t.downloaddetails.filter((function(t){return t.DOCUMENT_SYS_ID!==e})),t.isDownloadLoaded=!1,t.getDownloadInfo()):alert("Failed to delete document: "+(s.response||"Unknown error")),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](4),alert("Failed to delete document: "+(a.t0.message||"Network error"));case 15:return a.prev=15,t.isLoading=!1,c.a.done(),a.finish(15);case 19:case"end":return a.stop()}}),a,null,[[4,12,15,19]])})))()}}}),U=G,Y=(a("b88b"),Object(_["a"])(U,P,F,!1,null,"2e1ceb03",null)),B=Y.exports,j={components:{Agenda:N,Interact:w,Feedback:x,Download:B,Arrangements:E},data:function(){return{flagdetails:"",showInteractOptions:!1,luckydraw:"",enableonstage:"",enableregistration:"",enablemultipleregistration:"",approval_needed:"",restricted_email:"",enableseatplan:"",walk_regis:"",wrist_regis:"",event_type:"",landing_page:"",custom_page:"",enable_print:"",e_badge:"",enable_payment:"",attendce_confirm:"",Feedback:"",Arrangement:"",Agenda:"",Download:"",Challenge:"",QnA:"",Voting:"",activeTabIndex:0}},watch:{activeTabIndex:function(e,t){var a=this,n=[];1==this.Arrangement&&n.push("Arrangement"),1==this.Agenda&&n.push("Agenda"),1==this.Download&&n.push("Download"),1==this.showInteractOptions&&n.push("Interact"),1==this.Feedback&&n.push("Feedback");var s=n[e];this.$nextTick((function(){switch(s){case"Download":a.$refs.downloadComponent&&"function"===typeof a.$refs.downloadComponent.onDownloadTabClick&&a.$refs.downloadComponent.onDownloadTabClick();break;case"Agenda":a.$refs.agendaComponent&&"function"===typeof a.$refs.agendaComponent.getAgendaInfo&&a.$refs.agendaComponent.getAgendaInfo();break}}))}},mounted:function(){this.event_sys_id=JSON.parse(localStorage.getItem("selectedEventSysId")),this.user_sys_id=JSON.parse(localStorage.getItem("userInfo")),this.getEventCategoryInfo()},methods:{getEventCategoryInfo:function(){var e=this,t={ITEM:"VIEW_ALL",EVENT_SYS_ID:this.event_sys_id};this.$apiCall.get(this.$apiBus.api_get_pre_eventlistsetup,{params:t}).then((function(t){if(t.status&&"true"===t.status){var a,n,s,i,r,o,l,d,c,u,f,_,p,E,m,v,b,g,A,I,h,S,T,D;e.flagdetails=t.response[0];var y=t.response[0];e.luckydraw=null!==(a=y.ENABLE_LUCKY_DRAW)&&void 0!==a?a:0,e.event_type=null!==(n=y.EVENT_TYPE)&&void 0!==n?n:0,e.enableonstage=null!==(s=y.ENABLE_ONSTAGE_DISPLAY)&&void 0!==s?s:0,e.enableregistration=null!==(i=y.ENABLE_REGISTRATION)&&void 0!==i?i:0,e.enablemultipleregistration=null!==(r=y.ENABLE_MULTIPLE_REGISTRATION_FORM)&&void 0!==r?r:0,e.approval_needed=null!==(o=y.APPROVAL_NEEDED)&&void 0!==o?o:0,e.restricted_email=null!==(l=y.ALLOW_RESTRICTED_EMAIL_DOMAIN)&&void 0!==l?l:0,e.enableseatplan=null!==(d=y.ENABLE_SEATING_PLAN)&&void 0!==d?d:0,e.walk_regis=null!==(c=y.ENABLE_WALK_IN_REGISTRATION)&&void 0!==c?c:0,e.wrist_regis=null!==(u=y.ENABLE_WRIST_BAND_REGISTRATION)&&void 0!==u?u:0,e.landing_page=null!==(f=y.LANDING_PAGE_NEEDED)&&void 0!==f?f:0,e.custom_page=null!==(_=y.SET_CUSTOM_PRINTING_AREA)&&void 0!==_?_:0,e.e_badge=null!==(p=y.ENABLE_E_BADGE)&&void 0!==p?p:0,e.enable_print=null!==(E=y.ENABLE_PRINT_ENTRANCE_BADGE)&&void 0!==E?E:0,e.enable_payment=null!==(m=y.ENABLE_PAYMENT_GATEWAY)&&void 0!==m?m:0,e.Arrangement=null!==(v=y.ARRANGEMENT)&&void 0!==v?v:0,e.Agenda=null!==(b=y.AGENDA)&&void 0!==b?b:0,e.showInteractOptions=null!==(g=y.INTERACT)&&void 0!==g?g:0,e.Feedback=null!==(A=y.FEEDBACK)&&void 0!==A?A:0,e.Download=null!==(I=y.DOWNLOAD)&&void 0!==I?I:0,e.Challenge=null!==(h=y.CHALLENGE)&&void 0!==h?h:0,e.QnA=null!==(S=y.QNA)&&void 0!==S?S:0,e.Voting=null!==(T=y.VOTING)&&void 0!==T?T:0,e.attendce_confirm=null!==(D=y.REQUIRE_CONFIRMATION_BEFORE_EVENT)&&void 0!==D?D:0}else Global.showErrorAlert(!0,"error",t.response)}))}}},V=j,K=Object(_["a"])(V,n,s,!1,null,null,null);t["default"]=K.exports}}]);