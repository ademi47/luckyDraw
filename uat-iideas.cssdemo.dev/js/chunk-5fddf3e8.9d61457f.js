(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fddf3e8"],{"0168":function(t,e,a){"use strict";a("9df1")},"1b35":function(t,e,a){},3025:function(t,e,a){"use strict";a("aa2f")},6405:function(t,e,a){"use strict";a("d942")},"736f":function(t,e,a){},84189:function(t,e,a){},8695:function(t,e,a){"use strict";a.r(e);a("b0c0");var s=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"content-body-wrapper"},[e("div",{staticClass:"page-content"},[e("div",{staticClass:"page-data"},[t._m(1),t.selected_organization_sys_id?e("div",{staticClass:"row mt-4 vertical-three-admin-module"},[e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"flex-column nav-pills me-3",attrs:{role:"tablist","aria-orientation":"vertical"}},t._l(t.masterDataItems,(function(a,s){return e("button",{key:s,staticClass:"nav-link w-100 mb-2",class:{active:t.activeTab===a.name},attrs:{type:"button"},on:{click:function(e){return t.setActiveTab(a.name)}}},[e("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(a.name))])])})),0)]),e("div",{staticClass:"col-md-10"},[t.tabLoading?e("div",{staticClass:"text-center"},[e("img",{attrs:{src:a("95cd")}})]):t.masterDataLoaded?e("div",["EVENT CATEGORY"===t.activeTab?e("EventCategory",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e(),"COUNTRY"===t.activeTab?e("Country",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e(),"SYSTEM ROLE"===t.activeTab?e("SystemRole",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e(),"PROJECT ROLE"===t.activeTab?e("ProjectRole",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e(),"ORGANIZATION NAME"===t.activeTab?e("Organization",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e(),"LUCKY DRAW TYPE"===t.activeTab?e("LuckyDrawType",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e(),"SUB LUCKY DRAW TYPE"===t.activeTab?e("SubLuckyDrawType",{attrs:{organizationSysId:t.selected_organization_sys_id}}):t._e()],1):t._e()])]):e("div",{staticClass:"row mt-4"},[t._m(2)])])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloder loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-title"},[e("h4",[t._v("Master Data Setup")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"alert alert-info text-center",attrs:{role:"alert"}},[e("i",{staticClass:"fas fa-info-circle mr-2"}),t._v(" Please select an organization from the top bar to view and manage master data ")])])}],o=a("c7eb"),r=a("1da1"),n=(a("d3b7"),a("4de4"),function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-Event-modal",modifiers:{"add-Event-modal":!0}}],staticClass:"btn btn-add ripple d-flex",attrs:{type:"button"},on:{click:t.resetForm}},[t._m(2),t._v(" Add Event Category ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",bordered:"",hover:"",responsive:"","show-empty":"",filter:t.filter,fields:t.Event_fields,items:t.Event_list_details},on:{"row-clicked":t.openEventModal},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}},{key:"cell(STATUS)",fn:function(a){return[e("span",{staticClass:"badge",class:{"badge-success":"ACTIVE"===a.item.STATUS,"badge-danger":"DELETED"===a.item.STATUS}},[t._v(" "+t._s(a.item.STATUS)+" ")])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-Event-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-left",staticStyle:{color:"#17a2b8"}},[e("b",[t._v("Add Event Category")])])]),e("div",{staticClass:"col-md-2 text-right"},[e("b-button",{staticClass:"close-btn-white",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-Event-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addEventDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Event Category",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Event Category "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"Event-Category-feedback",placeholder:"Enter event category"},model:{value:t.EVENT_CATEGORY,callback:function(e){t.EVENT_CATEGORY=e},expression:"EVENT_CATEGORY"}}),e("b-form-invalid-feedback",{attrs:{id:"Event-Category-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"d-flex"},[e("button",{staticClass:"btn btn-success ripple mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2"}),e("b",[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-Event-modal")}}},[e("i",{staticClass:"fas fa-close mr-2"}),e("b",[t._v("Close")])])])])]}}])})],1)]),e("b-modal",{attrs:{id:"update-Event-modal",size:"lg","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(a){var s=a.close;return[e("div",{staticClass:"w-100 d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"mt-1 mb-0",staticStyle:{color:"#17a2b8"}},[e("b",[t._v("Update Event Category")])]),e("b-button",{staticClass:"close-btn-white",attrs:{size:"sm",variant:"link"},on:{click:s}},[e("i",{staticClass:"fas fa-close"})])],1)]}}])},[e("validation-observer",{ref:"updateObserver",scopedSlots:t._u([{key:"default",fn:function(a){var s,i=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),i(t.updateEventDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Event Category",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Event Category "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"event-feedback"},model:{value:t.update_Event_details.EVENT_CATEGORY,callback:function(e){t.$set(t.update_Event_details,"EVENT_CATEGORY",e)},expression:"update_Event_details.EVENT_CATEGORY"}}),e("b-form-invalid-feedback",{attrs:{id:"event-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("div",{staticClass:"d-flex justify-content-between align-items-center mt-4 flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},["ACTIVE"===(null===(s=t.update_Event_details)||void 0===s?void 0:s.STATUS)?e("button",{staticClass:"btn btn-danger ripple mb-3",attrs:{type:"button"},on:{click:t.removeEventDetails}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),t._v(" Delete ")]):e("button",{staticClass:"btn btn-primary ripple mb-3",attrs:{type:"button"},on:{click:t.activeEventDetails}},[e("i",{staticClass:"fas fa-check-circle mr-2"}),t._v(" Activate ")]),e("button",{staticClass:"btn btn-secondary ripple mb-3 ml-2",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-Event-modal")}}},[e("i",{staticClass:"fas fa-close mr-2"}),t._v(" Close ")])]),e("div",[e("button",{staticClass:"btn btn-success ripple mb-3",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2"}),e("b",[t._v("Update")])])])])])]}}])})],1)],1)}),l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloder loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],c=a("5530"),d=(a("a9e3"),a("471e")),u=a("323e"),_=a.n(u),p={props:{organizationSysId:{type:[String,Number],required:!0}},data:function(){return{filter:"",isLoading:!1,EVENT_CATEGORY:null,update_Event_details:{},Event_list_details:[],Event_fields:[{key:"index",label:"S/N",sortable:!0,thClass:"text-center",tdClass:"text-center"},{key:"EVENT_CATEGORY",label:"Event Category",sortable:!0,thClass:"text-left",tdClass:"text-left"},{key:"STATUS",label:"Status",thClass:"text-left",tdClass:"text-left"}]}},mounted:function(){console.log("EventCategory component mounted with organizationSysId:",this.organizationSysId),this.getEventCategoryInfo()},watch:{organizationSysId:function(t,e){console.log("Organization changed from",e,"to",t),t&&this.getEventCategoryInfo()}},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},resetForm:function(){this.EVENT_CATEGORY=null},openEventModal:function(t){this.update_Event_details=Object(c["a"])({},t),this.$bvModal.show("update-Event-modal")},addEventDetails:function(){var t,e=this;console.log("Adding event category with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,EVENT_CATEGORY:this.EVENT_CATEGORY,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Add Event Category API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_eventcategory,a).then((function(t){console.log("Add Event Category Response:",t),"true"==t.status?(e.$bvModal.hide("add-Event-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getEventCategoryInfo(),e.resetForm()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Add Event Category Error:",t),d["a"].showErrorAlert(!0,"error","Failed to add event category")})).finally((function(){e.isLoading=!1,_.a.done()}))},getEventCategoryInfo:function(){var t=this;if(console.log("Fetching event categories for organizationSysId:",this.organizationSysId),this.organizationSysId){_.a.start(),_.a.set(.1),this.isLoading=!0;var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Get Event Category API Params:",e),this.$apiCall.get(this.$apiBus.api_get_eventcategory_info,{params:e}).then((function(e){console.log("Get Event Category Response:",e),"true"===e.status?(t.Event_list_details=e.response,console.log("Event categories loaded:",t.Event_list_details.length)):(console.error("Failed to load event categories:",e),d["a"].showErrorAlert(!0,"error",e.response))})).catch((function(t){console.error("Get Event Category Error:",t),d["a"].showErrorAlert(!0,"error","Failed to fetch event categories")})).finally((function(){t.isLoading=!1,_.a.done()}))}else console.warn("No organization selected")},updateEventDetails:function(){var t,e=this;console.log("Updating event category with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_Event_details.EVENT_CATEGORY_SYS_ID,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,EVENT_CATEGORY:this.update_Event_details.EVENT_CATEGORY,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Update Event Category API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_eventcategory,a).then((function(t){console.log("Update Event Category Response:",t),"true"==t.status?(e.$bvModal.hide("update-Event-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getEventCategoryInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Update Event Category Error:",t),d["a"].showErrorAlert(!0,"error","Failed to update event category")})).finally((function(){e.isLoading=!1,_.a.done()}))},removeEventDetails:function(){var t=this;return Object(r["a"])(Object(o["a"])().mark((function e(){var a,s,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 2:if(s=e.sent,s.isConfirmed){e.next=5;break}return e.abrupt("return");case 5:return _.a.start(),_.a.set(.1),t.isLoading=!0,i={ITEM:"DELETE",RECORD_SYS_ID:t.update_Event_details.EVENT_CATEGORY_SYS_ID,CREATED_BY:null===(a=t.getAuthUser)||void 0===a?void 0:a.UserId,ORGANIZATION_SYS_ID:t.organizationSysId},console.log("Delete Event Category API Params:",i),e.next=12,t.$apiCall.post(t.$apiBus.api_post_add_update_eventcategory,i).then((function(e){console.log("Delete Event Category Response:",e),"true"==e.status?(t.$bvModal.hide("update-Event-modal"),d["a"].showSuccessAlert(!0,"success",e.response),t.getEventCategoryInfo()):d["a"].showErrorAlert(!0,"error",e.response)})).catch((function(t){console.error("Delete Event Category Error:",t),d["a"].showErrorAlert(!0,"error","Failed to delete event category")})).finally((function(){t.isLoading=!1,_.a.done()}));case 12:case"end":return e.stop()}}),e)})))()},activeEventDetails:function(){var t=this;return Object(r["a"])(Object(o["a"])().mark((function e(){var a,s,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].showConfirmationAlert("Are you sure?","You want to activate this category!","warning");case 2:if(s=e.sent,s.isConfirmed){e.next=5;break}return e.abrupt("return");case 5:_.a.start(),_.a.set(.1),t.isLoading=!0,i={ITEM:"ACTIVE",RECORD_SYS_ID:t.update_Event_details.EVENT_CATEGORY_SYS_ID,CREATED_BY:null===(a=t.getAuthUser)||void 0===a?void 0:a.UserId,ORGANIZATION_SYS_ID:t.organizationSysId},console.log("Activate Event Category API Params:",i),t.$apiCall.post(t.$apiBus.api_post_add_update_eventcategory,i).then((function(e){console.log("Activate Event Category Response:",e),"true"==e.status?(d["a"].showSuccessAlert(!0,"success",e.response),t.getEventCategoryInfo(),t.$bvModal.hide("update-Event-modal")):d["a"].showErrorAlert(!0,"error",e.response)})).catch((function(t){console.error("Activate Event Category Error:",t),d["a"].showErrorAlert(!0,"error","Failed to activate event category")})).finally((function(){t.isLoading=!1,_.a.done()}));case 11:case"end":return e.stop()}}),e)})))()}}},f=p,v=(a("e704"),a("2877")),y=Object(v["a"])(f,n,l,!1,null,"0b68cd28",null),m=y.exports,b=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"flex-wrap":"wrap"}},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-country-modal",modifiers:{"add-country-modal":!0}}],staticClass:"btn btn-add ripple d-flex",attrs:{type:"button"},on:{click:t.resetForm}},[t._m(2),t._v(" Add Country ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",filter:t.filter,bordered:"",fields:t.country_fields,items:t.country_list_details,"show-empty":""},on:{"row-clicked":t.openCountryUpdateModal},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-country-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Add Country")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-country-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addCountryDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Abbreviation",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",{attrs:{for:"countryAbbreviation"}},[t._v("Abbreviation "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- SG",type:"text",state:t.getValidationState(a),"aria-describedby":"country-abb-feedback"},model:{value:t.COUNTRY_ABBREVIATION,callback:function(e){t.COUNTRY_ABBREVIATION=e},expression:"COUNTRY_ABBREVIATION"}}),e("b-form-invalid-feedback",{attrs:{id:"country-abb-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-12 mt-3"},[e("validation-provider",{attrs:{name:"country name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",{attrs:{for:"countryName"}},[t._v("Country Name "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- Singapore",type:"text",state:t.getValidationState(a),"aria-describedby":"country-name-feedback"},model:{value:t.country_name,callback:function(e){t.country_name=e},expression:"country_name"}}),e("b-form-invalid-feedback",{attrs:{id:"country-name-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",attrs:{align:"left"}},[e("button",{staticClass:"btn btn-success ripple customerBox mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-country-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])])])])]}}])})],1)]),e("b-modal",{attrs:{size:"lg",id:"update-country-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update Country")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("update-country-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.updateCountryDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Abbreviation",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",{attrs:{for:"updateCountryAbbreviation"}},[t._v("Abbreviation "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"update-country-abb-feedback"},model:{value:t.update_country_details.COUNTRY_ABBREVIATION,callback:function(e){t.$set(t.update_country_details,"COUNTRY_ABBREVIATION",e)},expression:"update_country_details.COUNTRY_ABBREVIATION"}}),e("b-form-invalid-feedback",{attrs:{id:"update-country-abb-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-12 mt-3"},[e("validation-provider",{attrs:{name:"country name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",{attrs:{for:"updateCountryName"}},[t._v("Country Name "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"update-country-name-feedback"},model:{value:t.update_country_details.COUNTRY_NAME,callback:function(e){t.$set(t.update_country_details,"COUNTRY_NAME",e)},expression:"update_country_details.COUNTRY_NAME"}}),e("b-form-invalid-feedback",{attrs:{id:"update-country-name-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},[e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.deleteCountry(t.update_country_details)}}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Delete")])]),e("button",{staticClass:"btn btn-secondary ripple customerBox",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-country-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])]),e("div",[e("button",{staticClass:"btn btn-success ripple customerBox",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"18px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Update")])])])])])])]}}])})],1)])],1)},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],g={props:{organizationSysId:{type:[String,Number],required:!0}},data:function(){return{filter:"",isLoading:!1,country_name:null,COUNTRY_ABBREVIATION:null,update_country_details:{},country_list_details:[],country_fields:[{key:"index",label:"S/N"},{key:"COUNTRY_ABBREVIATION",label:"Abbreviation"},{key:"COUNTRY_NAME",label:"Country Name"}]}},mounted:function(){console.log("Country component mounted with organizationSysId:",this.organizationSysId),this.getCountryDetailsInfo()},watch:{organizationSysId:function(t,e){console.log("Organization changed from",e,"to",t),t&&this.getCountryDetailsInfo()}},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},resetForm:function(){this.country_name=null,this.COUNTRY_ABBREVIATION=null},openCountryUpdateModal:function(t){this.update_country_details=Object(c["a"])({},t),this.$bvModal.show("update-country-modal")},addCountryDetails:function(){var t,e=this;console.log("Adding country with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,COUNTRY_NAME:this.country_name,COUNTRY_ABBREVIATION:this.COUNTRY_ABBREVIATION,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Add Country API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_country,a).then((function(t){console.log("Add Country Response:",t),"true"==t.status?(e.$bvModal.hide("add-country-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getCountryDetailsInfo(),e.resetForm()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Add Country Error:",t),d["a"].showErrorAlert(!0,"error","Failed to add country")})).finally((function(){e.isLoading=!1,_.a.done()}))},getCountryDetailsInfo:function(){var t=this;if(console.log("Fetching countries for organizationSysId:",this.organizationSysId),this.organizationSysId){_.a.start(),_.a.set(.1),this.isLoading=!0;var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Get Country API Params:",e),this.$apiCall.get(this.$apiBus.api_get_country_info,{params:e}).then((function(e){console.log("Get Country Response:",e),e.status&&"true"===e.status?(t.country_list_details=e.response,console.log("Countries loaded:",t.country_list_details.length)):(console.error("Failed to load countries:",e),d["a"].showErrorAlert(!0,"error",e.response))})).catch((function(t){console.error("Get Country Error:",t),d["a"].showErrorAlert(!0,"error","Failed to fetch countries")})).finally((function(){t.isLoading=!1,_.a.done()}))}else console.warn("No organization selected")},updateCountryDetails:function(){var t,e=this;console.log("Updating country with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_country_details.COUNTRY_SYS_ID,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,COUNTRY_NAME:this.update_country_details.COUNTRY_NAME,COUNTRY_ABBREVIATION:this.update_country_details.COUNTRY_ABBREVIATION,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Update Country API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_country,a).then((function(t){console.log("Update Country Response:",t),"true"==t.status?(e.$bvModal.hide("update-country-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getCountryDetailsInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Update Country Error:",t),d["a"].showErrorAlert(!0,"error","Failed to update country")})).finally((function(){e.isLoading=!1,_.a.done()}))},deleteCountry:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 2:if(s=a.sent,!s.isConfirmed){a.next=11;break}return _.a.start(),_.a.set(.1),e.isLoading=!0,r={ITEM:"DELETE",RECORD_SYS_ID:t.COUNTRY_SYS_ID,CREATED_BY:null===(i=e.getAuthUser)||void 0===i?void 0:i.UserId,ORGANIZATION_SYS_ID:e.organizationSysId},console.log("Delete Country API Params:",r),a.next=11,e.$apiCall.post(e.$apiBus.api_post_add_update_country,r).then((function(t){console.log("Delete Country Response:",t),"true"==t.status?(e.$bvModal.hide("update-country-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getCountryDetailsInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Delete Country Error:",t),d["a"].showErrorAlert(!0,"error","Failed to delete country")})).finally((function(){e.isLoading=!1,_.a.done()}));case 11:case"end":return a.stop()}}),a)})))()}}},S=g,C=(a("6405"),Object(v["a"])(S,b,h,!1,null,"d9dea46c",null)),w=C.exports,E=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"flex-wrap":"wrap"}},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-SystemRole-modal",modifiers:{"add-SystemRole-modal":!0}}],staticClass:"btn btn-add ripple d-flex",attrs:{type:"button"},on:{click:t.resetForm}},[t._m(2),t._v(" Add System Role ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",filter:t.filter,bordered:"",fields:t.System_Role_fields,items:t.System_Role_list_details,"show-empty":"",hover:"",responsive:""},on:{"row-clicked":t.openSystemRoleModal},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}},{key:"cell(STATUS)",fn:function(a){return[e("div",{staticClass:"text-left"},[e("span",{staticClass:"badge",class:{"badge-success":"ACTIVE"===a.item.STATUS,"badge-danger":"DELETED"===a.item.STATUS}},[t._v(" "+t._s(a.item.STATUS)+" ")])])]}},{key:"cell(SYSTEM_ROLE)",fn:function(a){return[e("div",{staticClass:"text-left"},[t._v(t._s(a.item.SYSTEM_ROLE))])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-SystemRole-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Add System Role")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-SystemRole-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addSystemRoleDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"System Role",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("System Role"),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- Administrator",type:"text",state:t.getValidationState(a),"aria-describedby":"System-Role-feedback"},model:{value:t.SYSTEM_ROLE,callback:function(e){t.SYSTEM_ROLE=e},expression:"SYSTEM_ROLE"}}),e("b-form-invalid-feedback",{attrs:{id:"System-Role-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",attrs:{align:"left"}},[e("button",{staticClass:"btn btn-success ripple customerBox mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-SystemRole-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])])])])]}}])})],1)]),e("b-modal",{attrs:{id:"update-SystemRole-modal",size:"lg","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(a){var s=a.close;return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update System Role")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:s}},[e("i",{staticClass:"fas fa-close"})])],1)])]}}])},[e("validation-observer",{ref:"updateObserver",scopedSlots:t._u([{key:"default",fn:function(a){var s,i=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),i(t.updateSystemRoleDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"System Role",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("System Role "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"systemrole-feedback"},model:{value:t.update_SystemRole_details.SYSTEM_ROLE,callback:function(e){t.$set(t.update_SystemRole_details,"SYSTEM_ROLE",e)},expression:"update_SystemRole_details.SYSTEM_ROLE"}}),e("b-form-invalid-feedback",{attrs:{id:"systemrole-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},["ACTIVE"===(null===(s=t.update_SystemRole_details)||void 0===s?void 0:s.STATUS)?e("button",{staticClass:"btn btn-danger ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:function(e){return t.removeSystemRoleDetails(t.update_SystemRole_details)}}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Delete")])]):e("button",{staticClass:"btn btn-primary ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:function(e){return t.activeSystemRoleDetails(t.update_SystemRole_details)}}},[e("i",{staticClass:"fas fa-check-circle mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Activate")])]),e("button",{staticClass:"btn btn-secondary ripple customerBox mb-3",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-SystemRole-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])]),e("div",[e("button",{staticClass:"btn btn-success ripple customerBox mb-3",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Update")])])])])])])]}}])})],1)],1)},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],T={props:{organizationSysId:{type:[String,Number],required:!0}},data:function(){return{filter:"",isLoading:!1,SYSTEM_ROLE:null,update_SystemRole_details:{},System_Role_list_details:[],System_Role_fields:[{key:"index",label:"S/N",sortable:!0},{key:"SYSTEM_ROLE",label:"System Role",sortable:!0,thClass:"text-left",tdClass:"text-left"},{key:"STATUS",label:"Status",thClass:"text-left",tdClass:"text-left"}]}},mounted:function(){console.log("System Role component mounted with organizationSysId:",this.organizationSysId),this.getSystemRoleInfo()},watch:{organizationSysId:function(t,e){console.log("Organization changed from",e,"to",t),t&&this.getSystemRoleInfo()}},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},resetForm:function(){this.SYSTEM_ROLE=null},openSystemRoleModal:function(t){this.update_SystemRole_details=Object(c["a"])({},t),this.$bvModal.show("update-SystemRole-modal")},addSystemRoleDetails:function(){var t,e=this;console.log("Adding system role with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,SYSTEM_ROLE:this.SYSTEM_ROLE,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Add System Role API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_systemrole,a).then((function(t){console.log("Add System Role Response:",t),"true"==t.status?(e.$bvModal.hide("add-SystemRole-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getSystemRoleInfo(),e.resetForm()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Add System Role Error:",t),d["a"].showErrorAlert(!0,"error","Failed to add system role")})).finally((function(){e.isLoading=!1,_.a.done()}))},getSystemRoleInfo:function(){var t=this;if(console.log("Fetching system roles for organizationSysId:",this.organizationSysId),this.organizationSysId){_.a.start(),_.a.set(.1),this.isLoading=!0;var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Get System Role API Params:",e),this.$apiCall.get(this.$apiBus.api_get_systemrole_info,{params:e}).then((function(e){console.log("Get System Role Response:",e),"true"===e.status?(t.System_Role_list_details=e.response,console.log("System Roles loaded:",t.System_Role_list_details.length)):(console.error("Failed to load system roles:",e),d["a"].showErrorAlert(!0,"error",e.response))})).catch((function(t){console.error("Get System Role Error:",t),d["a"].showErrorAlert(!0,"error","Failed to fetch system roles")})).finally((function(){t.isLoading=!1,_.a.done()}))}else console.warn("No organization selected")},updateSystemRoleDetails:function(){var t,e=this;console.log("Updating system role with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_SystemRole_details.SYSTEM_ROLE_SYS_ID,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,SYSTEM_ROLE:this.update_SystemRole_details.SYSTEM_ROLE,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Update System Role API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_systemrole,a).then((function(t){console.log("Update System Role Response:",t),"true"==t.status?(e.$bvModal.hide("update-SystemRole-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getSystemRoleInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Update System Role Error:",t),d["a"].showErrorAlert(!0,"error","Failed to update system role")})).finally((function(){e.isLoading=!1,_.a.done()}))},removeSystemRoleDetails:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r,n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t&&t.SYSTEM_ROLE_SYS_ID){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 4:if(i=a.sent,i.isConfirmed){a.next=7;break}return a.abrupt("return");case 7:return _.a.start(),_.a.set(.1),e.isLoading=!0,r={ITEM:"DELETE",RECORD_SYS_ID:t.SYSTEM_ROLE_SYS_ID,CREATED_BY:null===(s=e.getAuthUser)||void 0===s?void 0:s.UserId,ORGANIZATION_SYS_ID:e.organizationSysId},console.log("Delete System Role API Params:",r),a.prev=12,a.next=15,e.$apiCall.post(e.$apiBus.api_post_add_update_systemrole,r);case 15:n=a.sent,console.log("Delete System Role Response:",n),"true"==n.status?(d["a"].showSuccessAlert(!0,"success",n.response),e.$bvModal.hide("update-SystemRole-modal"),e.getSystemRoleInfo()):d["a"].showErrorAlert(!0,"error",n.response),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](12),console.error("Delete System Role Error:",a.t0),d["a"].showErrorAlert(!0,"error","Failed to delete system role");case 24:return a.prev=24,e.isLoading=!1,_.a.done(),a.finish(24);case 28:case"end":return a.stop()}}),a,null,[[12,20,24,28]])})))()},activeSystemRoleDetails:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(null!==t&&void 0!==t&&t.SYSTEM_ROLE_SYS_ID){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,d["a"].showConfirmationAlert("Are you sure?","You want to activate this system role!","warning");case 4:if(s=a.sent,s.isConfirmed){a.next=7;break}return a.abrupt("return");case 7:return _.a.start(),_.a.set(.1),e.isLoading=!0,i={ITEM:"ACTIVE",RECORD_SYS_ID:t.SYSTEM_ROLE_SYS_ID,ORGANIZATION_SYS_ID:e.organizationSysId},console.log("Activate System Role API Params:",i),a.prev=12,a.next=15,e.$apiCall.post(e.$apiBus.api_post_add_update_systemrole,i);case 15:r=a.sent,console.log("Activate System Role Response:",r),"true"==r.status?(d["a"].showSuccessAlert(!0,"success",r.response),t.STATUS="ACTIVE",e.$bvModal.hide("update-SystemRole-modal"),e.getSystemRoleInfo()):d["a"].showErrorAlert(!0,"error",r.response),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](12),console.error("Activate System Role Error:",a.t0),d["a"].showErrorAlert(!0,"error","Failed to activate system role");case 24:return a.prev=24,e.isLoading=!1,_.a.done(),a.finish(24);case 28:case"end":return a.stop()}}),a,null,[[12,20,24,28]])})))()}}},D=T,k=(a("a8d4"),Object(v["a"])(D,E,A,!1,null,"97a7b2d4",null)),I=k.exports,R=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"flex-wrap":"wrap"}},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-ProjectRole-modal",modifiers:{"add-ProjectRole-modal":!0}}],staticClass:"btn btn-add ripple d-flex",attrs:{type:"button"},on:{click:t.resetForm}},[t._m(2),t._v(" Add Project Role ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",filter:t.filter,bordered:"",fields:t.Project_Role_fields,items:t.Project_Role_list_details,"show-empty":"",hover:"",responsive:""},on:{"row-clicked":t.openProjectRoleModal},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}},{key:"cell(STATUS)",fn:function(a){return[e("div",{staticClass:"text-left"},[e("span",{staticClass:"badge",class:{"badge-success":"ACTIVE"===a.item.STATUS,"badge-danger":"DELETED"===a.item.STATUS}},[t._v(" "+t._s(a.item.STATUS)+" ")])])]}},{key:"cell(PROJECT_ROLE)",fn:function(a){return[e("div",{staticClass:"text-left"},[t._v(t._s(a.item.PROJECT_ROLE))])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-ProjectRole-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Add Project Role")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-ProjectRole-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addProjectRoleDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Project Role",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Project Role"),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- Project Manager",type:"text",state:t.getValidationState(a),"aria-describedby":"Project-Role-feedback"},model:{value:t.PROJECT_ROLE,callback:function(e){t.PROJECT_ROLE=e},expression:"PROJECT_ROLE"}}),e("b-form-invalid-feedback",{attrs:{id:"Project-Role-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",attrs:{align:"left"}},[e("button",{staticClass:"btn btn-success ripple customerBox mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-ProjectRole-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])])])])]}}])})],1)]),e("b-modal",{attrs:{id:"update-ProjectRole-modal",size:"lg","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(a){var s=a.close;return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update Project Role")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:s}},[e("i",{staticClass:"fas fa-close"})])],1)])]}}])},[e("validation-observer",{ref:"updateObserver",scopedSlots:t._u([{key:"default",fn:function(a){var s,i=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),i(t.updateProjectRoleDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Project Role",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Project Role "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"projectrole-feedback"},model:{value:t.update_ProjectRole_details.PROJECT_ROLE,callback:function(e){t.$set(t.update_ProjectRole_details,"PROJECT_ROLE",e)},expression:"update_ProjectRole_details.PROJECT_ROLE"}}),e("b-form-invalid-feedback",{attrs:{id:"projectrole-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},["ACTIVE"===(null===(s=t.update_ProjectRole_details)||void 0===s?void 0:s.STATUS)?e("button",{staticClass:"btn btn-danger ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:function(e){return t.removeProjectRoleDetails(t.update_ProjectRole_details)}}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Delete")])]):e("button",{staticClass:"btn btn-primary ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:function(e){return t.activeProjectRoleDetails(t.update_ProjectRole_details)}}},[e("i",{staticClass:"fas fa-check-circle mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Activate")])]),e("button",{staticClass:"btn btn-secondary ripple customerBox mb-3",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-ProjectRole-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])]),e("div",[e("button",{staticClass:"btn btn-success ripple customerBox mb-3",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Update")])])])])])])]}}])})],1)],1)},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],O={props:{organizationSysId:{type:[String,Number],required:!0}},data:function(){return{filter:"",isLoading:!1,PROJECT_ROLE:null,update_ProjectRole_details:{},Project_Role_list_details:[],Project_Role_fields:[{key:"index",label:"S/N",sortable:!0},{key:"PROJECT_ROLE",label:"Project Role",sortable:!0,thClass:"text-left",tdClass:"text-left"},{key:"STATUS",label:"Status",thClass:"text-left",tdClass:"text-left"}]}},mounted:function(){console.log("Project Role component mounted with organizationSysId:",this.organizationSysId),this.getProjectRoleInfo()},watch:{organizationSysId:function(t,e){console.log("Organization changed from",e,"to",t),t&&this.getProjectRoleInfo()}},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},resetForm:function(){this.PROJECT_ROLE=null},openProjectRoleModal:function(t){this.update_ProjectRole_details=Object(c["a"])({},t),this.$bvModal.show("update-ProjectRole-modal")},addProjectRoleDetails:function(){var t,e=this;console.log("Adding project role with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,PROJECT_ROLE:this.PROJECT_ROLE,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Add Project Role API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_project_role,a).then((function(t){console.log("Add Project Role Response:",t),"true"==t.status?(e.$bvModal.hide("add-ProjectRole-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getProjectRoleInfo(),e.resetForm()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Add Project Role Error:",t),d["a"].showErrorAlert(!0,"error","Failed to add project role")})).finally((function(){e.isLoading=!1,_.a.done()}))},getProjectRoleInfo:function(){var t=this;if(console.log("Fetching project roles for organizationSysId:",this.organizationSysId),this.organizationSysId){_.a.start(),_.a.set(.1),this.isLoading=!0;var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Get Project Role API Params:",e),this.$apiCall.get(this.$apiBus.api_get_view_project_role,{params:e}).then((function(e){console.log("Get Project Role Response:",e),"true"===e.status?(t.Project_Role_list_details=e.response,console.log("Project Roles loaded:",t.Project_Role_list_details.length)):(console.error("Failed to load project roles:",e),d["a"].showErrorAlert(!0,"error",e.response))})).catch((function(t){console.error("Get Project Role Error:",t),d["a"].showErrorAlert(!0,"error","Failed to fetch project roles")})).finally((function(){t.isLoading=!1,_.a.done()}))}else console.warn("No organization selected")},updateProjectRoleDetails:function(){var t,e=this;console.log("Updating project role with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_ProjectRole_details.PROJECT_ROLE_SYS_ID,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,PROJECT_ROLE:this.update_ProjectRole_details.PROJECT_ROLE,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Update Project Role API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_project_role,a).then((function(t){console.log("Update Project Role Response:",t),"true"==t.status?(e.$bvModal.hide("update-ProjectRole-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getProjectRoleInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Update Project Role Error:",t),d["a"].showErrorAlert(!0,"error","Failed to update project role")})).finally((function(){e.isLoading=!1,_.a.done()}))},removeProjectRoleDetails:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r,n;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t&&t.PROJECT_ROLE_SYS_ID){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 4:if(i=a.sent,i.isConfirmed){a.next=7;break}return a.abrupt("return");case 7:return _.a.start(),_.a.set(.1),e.isLoading=!0,r={ITEM:"DELETE",RECORD_SYS_ID:t.PROJECT_ROLE_SYS_ID,CREATED_BY:null===(s=e.getAuthUser)||void 0===s?void 0:s.UserId,ORGANIZATION_SYS_ID:e.organizationSysId},console.log("Delete Project Role API Params:",r),a.prev=12,a.next=15,e.$apiCall.post(e.$apiBus.api_post_add_update_project_role,r);case 15:n=a.sent,console.log("Delete Project Role Response:",n),"true"==n.status?(d["a"].showSuccessAlert(!0,"success",n.response),e.$bvModal.hide("update-ProjectRole-modal"),e.getProjectRoleInfo()):d["a"].showErrorAlert(!0,"error",n.response),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](12),console.error("Delete Project Role Error:",a.t0),d["a"].showErrorAlert(!0,"error","Failed to delete project role");case 24:return a.prev=24,e.isLoading=!1,_.a.done(),a.finish(24);case 28:case"end":return a.stop()}}),a,null,[[12,20,24,28]])})))()},activeProjectRoleDetails:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(null!==t&&void 0!==t&&t.PROJECT_ROLE_SYS_ID){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,d["a"].showConfirmationAlert("Are you sure?","You want to activate this project role!","warning");case 4:if(s=a.sent,s.isConfirmed){a.next=7;break}return a.abrupt("return");case 7:return _.a.start(),_.a.set(.1),e.isLoading=!0,i={ITEM:"ACTIVE",RECORD_SYS_ID:t.PROJECT_ROLE_SYS_ID,ORGANIZATION_SYS_ID:e.organizationSysId},console.log("Activate Project Role API Params:",i),a.prev=12,a.next=15,e.$apiCall.post(e.$apiBus.api_post_add_update_project_role,i);case 15:r=a.sent,console.log("Activate Project Role Response:",r),"true"==r.status?(d["a"].showSuccessAlert(!0,"success",r.response),t.STATUS="ACTIVE",e.$bvModal.hide("update-ProjectRole-modal"),e.getProjectRoleInfo()):d["a"].showErrorAlert(!0,"error",r.response),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](12),console.error("Activate Project Role Error:",a.t0),d["a"].showErrorAlert(!0,"error","Failed to activate project role");case 24:return a.prev=24,e.isLoading=!1,_.a.done(),a.finish(24);case 28:case"end":return a.stop()}}),a,null,[[12,20,24,28]])})))()}}},L=O,z=(a("d92a"),Object(v["a"])(L,R,x,!1,null,"22b3bbca",null)),Y=z.exports,P=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"flex-wrap":"wrap"}},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-organization-modal",modifiers:{"add-organization-modal":!0}}],staticClass:"btn btn-add ripple d-flex",attrs:{type:"button"},on:{click:function(e){t.organization_name=null}}},[t._m(2),t._v(" Add Organization ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",filter:t.filter,bordered:"",fields:t.organization_fields,items:t.organization_list_details,"show-empty":""},on:{"row-clicked":t.openOrganizationUpdateModal},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-organization-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Add Organization")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-organization-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addOrganizationDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Organization name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",{attrs:{for:"organizationName"}},[t._v("Organization Name "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- Google",type:"text",state:t.getValidationState(a),"aria-describedby":"organization-name-feedback"},model:{value:t.organization_name,callback:function(e){t.organization_name=e},expression:"organization_name"}}),e("b-form-invalid-feedback",{attrs:{id:"organization-name-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",attrs:{align:"left"}},[e("button",{staticClass:"btn btn-success ripple customerBox mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-organization-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])])])])]}}])})],1)]),e("b-modal",{attrs:{size:"lg",id:"update-organization-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update Organization")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("update-organization-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.updateOrganizationDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Organization name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",{attrs:{for:"updateOrganizationName"}},[t._v("Organization Name "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"update-organization-name-feedback"},model:{value:t.update_organization_details.ORGANIZATION_NAME,callback:function(e){t.$set(t.update_organization_details,"ORGANIZATION_NAME",e)},expression:"update_organization_details.ORGANIZATION_NAME"}}),e("b-form-invalid-feedback",{attrs:{id:"update-organization-name-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},[e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.deleteOrganization(t.update_organization_details)}}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Delete")])]),e("button",{staticClass:"btn btn-secondary ripple customerBox",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-organization-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])]),e("div",[e("button",{staticClass:"btn btn-success ripple customerBox",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"18px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Update")])])])])])])]}}])})],1)])],1)},N=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],U={data:function(){return{filter:"",isLoading:!1,organization_name:null,update_organization_details:{},organization_list_details:[],organization_fields:[{key:"index",label:"S/N"},{key:"ORGANIZATION_NAME",label:"Organization Name"}]}},mounted:function(){this.getOrganizationDetailsInfo()},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},openOrganizationUpdateModal:function(t){this.update_organization_details=Object(c["a"])({},t),this.$bvModal.show("update-organization-modal")},addOrganizationDetails:function(){var t,e=this;_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,ORGANIZATION_NAME:this.organization_name};this.$apiCall.post(this.$apiBus.api_post_add_update_organization,a).then((function(t){"true"==t.status?(e.$bvModal.hide("add-organization-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getOrganizationDetailsInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).finally((function(){e.isLoading=!1,_.a.done()}))},getOrganizationDetailsInfo:function(){var t=this,e={ITEM:"VIEW_ALL"};this.$apiCall.get(this.$apiBus.api_get_organization_info,{params:e}).then((function(e){e.status&&"true"===e.status?t.organization_list_details=e.response:d["a"].showErrorAlert(!0,"error",e.response)}))},updateOrganizationDetails:function(){var t,e=this;_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_organization_details.ORGANIZATION_SYS_ID,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,ORGANIZATION_NAME:this.update_organization_details.ORGANIZATION_NAME};this.$apiCall.post(this.$apiBus.api_post_add_update_organization,a).then((function(t){"true"==t.status?(e.$bvModal.hide("update-organization-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getOrganizationDetailsInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).finally((function(){e.isLoading=!1,_.a.done()}))},deleteOrganization:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 2:if(s=a.sent,!s.isConfirmed){a.next=10;break}return _.a.start(),_.a.set(.1),e.isLoading=!0,r={ITEM:"DELETE",RECORD_SYS_ID:t.ORGANIZATION_SYS_ID,CREATED_BY:null===(i=e.getAuthUser)||void 0===i?void 0:i.UserId},a.next=10,e.$apiCall.post(e.$apiBus.api_post_add_update_organization,r).then((function(t){"true"==t.status?(e.$bvModal.hide("update-organization-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getOrganizationDetailsInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).finally((function(){e.isLoading=!1,_.a.done()}));case 10:case"end":return a.stop()}}),a)})))()}}},j=U,M=(a("3025"),Object(v["a"])(j,P,N,!1,null,"8c154dbc",null)),$=M.exports,B=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-lucky-draw-type-modal",modifiers:{"add-lucky-draw-type-modal":!0}}],staticClass:"btn btn-add ripple d-flex",attrs:{type:"button"},on:{click:t.resetForm}},[t._m(2),t._v(" Add Lucky Draw Type ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",bordered:"",hover:"",responsive:"","show-empty":"",filter:t.filter,fields:t.lucky_draw_type_fields,items:t.lucky_draw_type_list_details},on:{"row-clicked":t.openLuckyDrawTypeModal},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}},{key:"cell(LUCKY_DRAW_TYPE)",fn:function(a){return[e("div",{staticClass:"text-left"},[t._v(t._s(a.item.LUCKY_DRAW_TYPE))])]}},{key:"cell(STATUS)",fn:function(a){return[e("div",{staticClass:"text-left"},[e("span",{staticClass:"badge",class:{"badge-success":"ACTIVE"===a.item.STATUS,"badge-danger":"DELETED"===a.item.STATUS}},[t._v(" "+t._s(a.item.STATUS)+" ")])])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-lucky-draw-type-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Add Lucky Draw Type")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-lucky-draw-type-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addLuckyDrawTypeDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Lucky Draw Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Lucky Draw Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"lucky-draw-type-feedback",placeholder:"Eg:- Seminar"},model:{value:t.LUCKY_DRAW_TYPE,callback:function(e){t.LUCKY_DRAW_TYPE=e},expression:"LUCKY_DRAW_TYPE"}}),e("b-form-invalid-feedback",{attrs:{id:"lucky-draw-type-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",attrs:{align:"left"}},[e("button",{staticClass:"btn btn-success ripple customerBox mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple customerBox mr-2",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-lucky-draw-type-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])])])])]}}])})],1)]),e("b-modal",{attrs:{id:"update-lucky-draw-type-modal",size:"lg","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(a){var s=a.close;return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update Lucky Draw Type")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:s}},[e("i",{staticClass:"fas fa-close"})])],1)])]}}])},[e("validation-observer",{ref:"updateObserver",scopedSlots:t._u([{key:"default",fn:function(a){var s,i=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),i(t.updateLuckyDrawTypeDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Lucky Draw Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Lucky Draw Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"lucky-draw-type-update-feedback"},model:{value:t.update_lucky_draw_type_details.LUCKY_DRAW_TYPE,callback:function(e){t.$set(t.update_lucky_draw_type_details,"LUCKY_DRAW_TYPE",e)},expression:"update_lucky_draw_type_details.LUCKY_DRAW_TYPE"}}),e("b-form-invalid-feedback",{attrs:{id:"lucky-draw-type-update-feedback"}},[t._v(" "+t._s(a.errors[0])+" ")])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},["ACTIVE"===(null===(s=t.update_lucky_draw_type_details)||void 0===s?void 0:s.STATUS)?e("button",{staticClass:"btn btn-danger ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:function(e){return t.removeLuckyDrawTypeDetails(t.update_lucky_draw_type_details)}}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Delete")])]):e("button",{staticClass:"btn btn-primary ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:function(e){return t.activeLuckyDrawTypeDetails(t.update_lucky_draw_type_details)}}},[e("i",{staticClass:"fas fa-check-circle mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Activate")])]),e("button",{staticClass:"btn btn-secondary ripple customerBox mb-3",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-lucky-draw-type-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])]),e("div",[e("button",{staticClass:"btn btn-success ripple customerBox mb-3",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Update")])])])])])])]}}])})],1)],1)},V=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloder loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],G={props:{organizationSysId:{type:[String,Number],required:!0}},data:function(){return{filter:"",isLoading:!1,LUCKY_DRAW_TYPE:null,update_lucky_draw_type_details:{},lucky_draw_type_list_details:[],lucky_draw_type_fields:[{key:"index",label:"S/N",sortable:!0,thClass:"text-center",tdClass:"text-center"},{key:"LUCKY_DRAW_TYPE",label:"Lucky Draw Type",sortable:!0,thClass:"text-left",tdClass:"text-left"},{key:"STATUS",label:"Status",thClass:"text-left",tdClass:"text-left"}]}},mounted:function(){console.log("Lucky Draw Type component mounted with organizationSysId:",this.organizationSysId),this.getLuckyDrawTypeDetailsInfo()},watch:{organizationSysId:function(t,e){console.log("Organization changed from",e,"to",t),t&&this.getLuckyDrawTypeDetailsInfo()}},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},resetForm:function(){this.LUCKY_DRAW_TYPE=null},openLuckyDrawTypeModal:function(t){this.update_lucky_draw_type_details=Object(c["a"])({},t),this.$bvModal.show("update-lucky-draw-type-modal")},addLuckyDrawTypeDetails:function(){var t,e=this;console.log("Adding lucky draw type with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,LUCKY_DRAW_TYPE:this.LUCKY_DRAW_TYPE,ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Add Lucky Draw Type API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_lucky_draw_type,a).then((function(t){console.log("Add Lucky Draw Type Response:",t),"true"==t.status?(e.$bvModal.hide("add-lucky-draw-type-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getLuckyDrawTypeDetailsInfo(),e.resetForm()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Add Lucky Draw Type Error:",t),d["a"].showErrorAlert(!0,"error","Failed to add lucky draw type")})).finally((function(){e.isLoading=!1,_.a.done()}))},getLuckyDrawTypeDetailsInfo:function(){var t=this;if(console.log("Fetching lucky draw types for organizationSysId:",this.organizationSysId),this.organizationSysId){_.a.start(),_.a.set(.1),this.isLoading=!0;var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.organizationSysId};console.log("Get Lucky Draw Type API Params:",e),this.$apiCall.get(this.$apiBus.api_get_lucky_draw_type_list,{params:e}).then((function(e){console.log("Get Lucky Draw Type Response:",e),"true"===e.status?(t.lucky_draw_type_list_details=e.response,console.log("Lucky draw types loaded:",t.lucky_draw_type_list_details.length)):(console.error("Failed to load lucky draw types:",e),d["a"].showErrorAlert(!0,"error",e.response))})).catch((function(t){console.error("Get Lucky Draw Type Error:",t),d["a"].showErrorAlert(!0,"error","Failed to fetch lucky draw types")})).finally((function(){t.isLoading=!1,_.a.done()}))}else console.warn("No organization selected")},updateLuckyDrawTypeDetails:function(){var t,e=this;console.log("Updating lucky draw type with organizationSysId:",this.organizationSysId),_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_lucky_draw_type_details.LD_TYPE_SYS_ID,LUCKY_DRAW_TYPE:this.update_lucky_draw_type_details.LUCKY_DRAW_TYPE,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId};console.log("Update Lucky Draw Type API Params:",a),this.$apiCall.post(this.$apiBus.api_post_add_update_lucky_draw_type,a).then((function(t){console.log("Update Lucky Draw Type Response:",t),"true"==t.status?(e.$bvModal.hide("update-lucky-draw-type-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getLuckyDrawTypeDetailsInfo()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){console.error("Update Lucky Draw Type Error:",t),d["a"].showErrorAlert(!0,"error","Failed to update lucky draw type")})).finally((function(){e.isLoading=!1,_.a.done()}))},removeLuckyDrawTypeDetails:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t&&t.LD_TYPE_SYS_ID){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 4:if(s=a.sent,s.isConfirmed){a.next=7;break}return a.abrupt("return");case 7:return _.a.start(),_.a.set(.1),e.isLoading=!0,i={ITEM:"DELETE",RECORD_SYS_ID:t.LD_TYPE_SYS_ID},console.log("Delete Lucky Draw Type API Params:",i),a.prev=12,a.next=15,e.$apiCall.post(e.$apiBus.api_post_add_update_lucky_draw_type,i);case 15:r=a.sent,console.log("Delete Lucky Draw Type Response:",r),"true"==r.status?(d["a"].showSuccessAlert(!0,"success",r.response),e.$bvModal.hide("update-lucky-draw-type-modal"),e.getLuckyDrawTypeDetailsInfo()):d["a"].showErrorAlert(!0,"error",r.response),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](12),console.error("Delete Lucky Draw Type Error:",a.t0),d["a"].showErrorAlert(!0,"error","Failed to delete lucky draw type");case 24:return a.prev=24,e.isLoading=!1,_.a.done(),a.finish(24);case 28:case"end":return a.stop()}}),a,null,[[12,20,24,28]])})))()},activeLuckyDrawTypeDetails:function(t){var e=this;return Object(r["a"])(Object(o["a"])().mark((function a(){var s,i,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(null!==t&&void 0!==t&&t.LD_TYPE_SYS_ID){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,d["a"].showConfirmationAlert("Are you sure?","You want to activate this record!","warning");case 4:if(s=a.sent,s.isConfirmed){a.next=7;break}return a.abrupt("return");case 7:return _.a.start(),_.a.set(.1),e.isLoading=!0,i={ITEM:"ACTIVE",RECORD_SYS_ID:t.LD_TYPE_SYS_ID},console.log("Activate Lucky Draw Type API Params:",i),a.prev=12,a.next=15,e.$apiCall.post(e.$apiBus.api_post_add_update_lucky_draw_type,i);case 15:r=a.sent,console.log("Activate Lucky Draw Type Response:",r),"true"==r.status?(d["a"].showSuccessAlert(!0,"success",r.response),t.STATUS="ACTIVE",e.$bvModal.hide("update-lucky-draw-type-modal"),e.getLuckyDrawTypeDetailsInfo()):d["a"].showErrorAlert(!0,"error",r.response),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](12),console.error("Activate Lucky Draw Type Error:",a.t0),d["a"].showErrorAlert(!0,"error","Failed to activate lucky draw type");case 24:return a.prev=24,e.isLoading=!1,_.a.done(),a.finish(24);case 28:case"end":return a.stop()}}),a,null,[[12,20,24,28]])})))()}}},F=G,W=(a("0168"),Object(v["a"])(F,B,V,!1,null,"2171c0fb",null)),K=W.exports,Z=(a("d81d"),function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",[t._m(0)]):t._e(),e("div",{staticClass:"main-content pt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{display:"flex","align-items":"center"}},[t._m(1),e("div",{staticClass:"col-md-4"},[e("form",{attrs:{action:""}},[e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.LD_TYPE_SYS_ID,expression:"LD_TYPE_SYS_ID"}],staticClass:"form-control roleddl",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.LD_TYPE_SYS_ID=e.target.multiple?a:a[0]},t.getSubLuckyDrawTypeDetails]}},[e("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.lucky_draw_type_list_details,(function(a){return e("option",{key:a.LD_TYPE_SYS_ID,domProps:{value:a.LD_TYPE_SYS_ID}},[t._v(" "+t._s(a.LUCKY_DRAW_TYPE)+" ")])}))],2)])])])])])])])]),e("div",{staticClass:"row pt-3"},[e("div",{staticClass:"col-md-12 mb-4"},[e("div",{staticClass:"card text-left"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between",staticStyle:{"flex-wrap":"wrap"}},[e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Type to search..."},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._m(2)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-sub-lucky-draw-type-modal",modifiers:{"add-sub-lucky-draw-type-modal":!0}}],staticClass:"btn btn-add ripple mb-3 d-flex",attrs:{type:"button"},on:{click:t.resetForm}},[t._m(3),t._v(" Add Sub Lucky Draw Type ")])]),e("div",{staticClass:"table-responsive mt-3"},[e("b-table",{staticClass:"cursor-pointer",attrs:{"head-variant":"light",bordered:"",hover:"",responsive:"",filter:t.filter,fields:t.sub_lucky_draw_type_fields,items:t.sub_lucky_draw_type_list_details,"show-empty":""},on:{"row-clicked":t.handleEdit},scopedSlots:t._u([{key:"head(index)",fn:function(){return[e("div",{staticClass:"text-center"},[t._v("S/N")])]},proxy:!0},{key:"cell(index)",fn:function(a){return[e("div",{staticClass:"text-center"},[t._v(t._s(a.index+1))])]}},{key:"cell(STATUS)",fn:function(a){return[e("span",{staticClass:"badge",class:{"badge-success":"ACTIVE"===a.item.STATUS,"badge-danger":"DELETED"===a.item.STATUS}},[t._v(" "+t._s(a.item.STATUS)+" ")])]}}])})],1)])])])])]),e("b-modal",{attrs:{size:"sm",id:"add-sub-lucky-draw-type-modal","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Add Sub Lucky Draw Type")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$bvModal.hide("add-sub-lucky-draw-type-modal")}}},[e("i",{staticClass:"fas fa-close"})])],1)])]},proxy:!0}])},[e("div",[e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),s(t.addSubLuckyDrawTypeDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Lucky Draw Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Lucky Draw Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-select",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{state:t.getValidationState(a),"aria-describedby":"lucky-draw-type-feedback"},model:{value:t.LD_TYPE_SYS_ID,callback:function(e){t.LD_TYPE_SYS_ID=e},expression:"LD_TYPE_SYS_ID"}},[e("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.lucky_draw_type_list_details,(function(a){return e("option",{key:a.LD_TYPE_SYS_ID,domProps:{value:a.LD_TYPE_SYS_ID}},[t._v(" "+t._s(a.LUCKY_DRAW_TYPE)+" ")])}))],2),e("b-form-invalid-feedback",{attrs:{id:"lucky-draw-type-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-12 mt-3"},[e("validation-provider",{attrs:{name:"Sub Lucky Draw Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Sub Lucky Draw Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{placeholder:"Eg:- Seminar",type:"text",state:t.getValidationState(a),"aria-describedby":"sub-lucky-draw-type-feedback"},model:{value:t.SUB_LUCKY_DRAW_TYPE,callback:function(e){t.SUB_LUCKY_DRAW_TYPE=e},expression:"SUB_LUCKY_DRAW_TYPE"}}),e("b-form-invalid-feedback",{attrs:{id:"sub-lucky-draw-type-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1)]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",attrs:{align:"left"}},[e("button",{staticClass:"btn btn-success ripple customerBox mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Submit")])]),e("button",{staticClass:"btn btn-danger ripple customerBox",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("add-sub-lucky-draw-type-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])])])])]}}])})],1)]),e("b-modal",{attrs:{id:"update-sub-lucky-draw-type-modal",size:"lg","hide-footer":"",centered:""},scopedSlots:t._u([{key:"modal-header",fn:function(a){var s=a.close;return[e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-md-10"},[e("h5",{staticClass:"mt-1 text-white text-left"},[e("b",{staticStyle:{color:"#17a2b8 !important"}},[t._v("Update Sub Lucky Draw Type")])])]),e("div",{staticClass:"col-md-2 float-end"},[e("b-button",{staticClass:"float-end close-btn-white text-right",attrs:{size:"sm",variant:"link"},on:{click:s}},[e("i",{staticClass:"fas fa-close"})])],1)])]}}])},[e("validation-observer",{ref:"updateObserver",scopedSlots:t._u([{key:"default",fn:function(a){var s,i=a.handleSubmit;return[e("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),i(t.updateSubLuckyDrawTypeDetails)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Lucky Draw Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Lucky Draw Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-select",{staticClass:"form-control",attrs:{state:t.getValidationState(a),"aria-describedby":"update-lucky-draw-type-feedback"},model:{value:t.update_sub_lucky_draw_type_details.LD_TYPE_SYS_ID,callback:function(e){t.$set(t.update_sub_lucky_draw_type_details,"LD_TYPE_SYS_ID",e)},expression:"update_sub_lucky_draw_type_details.LD_TYPE_SYS_ID"}},[e("option",{domProps:{value:null}},[t._v("Select")]),t._l(t.lucky_draw_type_list_details,(function(a){return e("option",{key:a.LD_TYPE_SYS_ID,domProps:{value:a.LD_TYPE_SYS_ID}},[t._v(" "+t._s(a.LUCKY_DRAW_TYPE)+" ")])}))],2),e("b-form-invalid-feedback",{attrs:{id:"update-lucky-draw-type-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-12 mt-3"},[e("validation-provider",{attrs:{name:"Sub Lucky Draw Type",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v("Sub Lucky Draw Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{directives:[{name:"capitalize",rawName:"v-capitalize"}],staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(a),"aria-describedby":"update-sub-lucky-draw-type-feedback"},model:{value:t.update_sub_lucky_draw_type_details.SUB_LUCKY_DRAW_TYPE,callback:function(e){t.$set(t.update_sub_lucky_draw_type_details,"SUB_LUCKY_DRAW_TYPE",e)},expression:"update_sub_lucky_draw_type_details.SUB_LUCKY_DRAW_TYPE"}}),e("b-form-invalid-feedback",{attrs:{id:"update-sub-lucky-draw-type-feedback"}},[t._v(t._s(a.errors[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center flex-wrap"},[e("div",{staticClass:"d-flex flex-wrap"},["ACTIVE"===(null===(s=t.update_sub_lucky_draw_type_details)||void 0===s?void 0:s.STATUS)?e("button",{staticClass:"btn btn-danger ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:t.removeSubLuckyDrawTypeDetails}},[e("i",{staticClass:"fas fa-trash-alt mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Delete")])]):e("button",{staticClass:"btn btn-primary ripple customerBox mr-2 mb-3",attrs:{type:"button"},on:{click:t.activeSubLuckyDrawTypeDetails}},[e("i",{staticClass:"fas fa-check-circle mr-2"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Activate")])]),e("button",{staticClass:"btn btn-secondary ripple customerBox mb-3",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("update-sub-lucky-draw-type-modal")}}},[e("i",{staticClass:"fas fa-close mr-2 btn-close"}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Close")])])]),e("div",[e("button",{staticClass:"btn btn-success ripple customerBox mb-3",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save mr-2",staticStyle:{"font-size":"20px"}}),e("b",{staticStyle:{"font-size":"16px"}},[t._v("Update")])])])])])])]}}])})],1)],1)}),J=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloder loading_main_background",attrs:{id:"upload_loader"}},[e("img",{attrs:{src:a("95cd")}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-3"},[e("label",{staticClass:"frm-label",staticStyle:{"font-size":"15px"}},[t._v("Select Lucky Draw Type "),e("span",{staticStyle:{color:"red"}},[t._v("*")])])])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"search-button"},[e("i",{staticClass:"fa fa-search"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"rounded-circle bg-white text-danger d-flex justify-content-center align-items-center mr-2",staticStyle:{width:"20px",height:"20px"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})])}],q=(a("e9c4"),{data:function(){return{filter:"",isLoading:!1,selected_organization_sys_id:null,LD_TYPE_SYS_ID:null,SUB_LUCKY_DRAW_TYPE:null,update_sub_lucky_draw_type_details:{},lucky_draw_type_list_details:[],sub_lucky_draw_type_list_details:[],sub_lucky_draw_type_fields:[{key:"index",label:"S/N",sortable:!0,thClass:"text-center",tdClass:"text-center"},{key:"SUB_LUCKY_DRAW_TYPE",label:"Sub Lucky Draw Type",sortable:!0,thClass:"text-left",tdClass:"text-left"},{key:"STATUS",label:"Status",thClass:"text-left",tdClass:"text-left"},{key:"SUB_LD_TYPE_SYS_ID",label:"ID",sortable:!0,thClass:"d-none",tdClass:"d-none"}]}},mounted:function(){var t=this;console.log("=== Sub Lucky Draw Type Component Mounted ===");var e=localStorage.getItem("selectedOrganizationSysId");e?this.selected_organization_sys_id=parseInt(e,10):(this.selected_organization_sys_id=1,localStorage.setItem("selectedOrganizationSysId",1)),this.selected_organization_sys_id&&this.getLuckyDrawTypeDetails(),this.$root.$on("organizationChanged",(function(e){t.handleTopbarOrganizationChange(e)}))},beforeDestroy:function(){sessionStorage.removeItem("MasterDataSubLuckyDrawTypePerPageCount"),this.$store.commit("clearMasterDataSubLuckyDrawTypePerPageCount"),this.$root.$off("organizationChanged")},watch:{selected_organization_sys_id:function(t,e){t&&t!==e&&(this.LD_TYPE_SYS_ID=null,this.lucky_draw_type_list_details=[],this.sub_lucky_draw_type_list_details=[],this.getLuckyDrawTypeDetails())}},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,s=t.valid,i=void 0===s?null:s;return e||a?i:null},resetForm:function(){this.SUB_LUCKY_DRAW_TYPE=null},handleTopbarOrganizationChange:function(t){this.selected_organization_sys_id=t,t?(this.LD_TYPE_SYS_ID=null,this.lucky_draw_type_list_details=[],this.sub_lucky_draw_type_list_details=[],this.getLuckyDrawTypeDetails()):(this.lucky_draw_type_list_details=[],this.sub_lucky_draw_type_list_details=[])},getLuckyDrawTypeDetails:function(){var t=this;if(this.selected_organization_sys_id){var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.selected_organization_sys_id};this.$apiCall.get(this.$apiBus.api_get_lucky_draw_type_list,{params:e}).then((function(e){e.status&&"true"===e.status?t.lucky_draw_type_list_details=e.response:(t.lucky_draw_type_list_details=[],d["a"].showErrorAlert(!0,"error",e.response))})).catch((function(){t.lucky_draw_type_list_details=[]}))}},handleEdit:function(t){console.log("Row data from table click:",t),this.update_sub_lucky_draw_type_details=Object(c["a"])({},t),this.$bvModal.show("update-sub-lucky-draw-type-modal")},addSubLuckyDrawTypeDetails:function(){var t,e=this;if(this.selected_organization_sys_id)if(this.LD_TYPE_SYS_ID&&this.SUB_LUCKY_DRAW_TYPE){_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"ADD",RECORD_SYS_ID:0,ORGANIZATION_SYS_ID:this.selected_organization_sys_id,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId,LD_TYPE_SYS_ID:this.LD_TYPE_SYS_ID,SUB_LUCKY_DRAW_TYPE:this.SUB_LUCKY_DRAW_TYPE};this.$apiCall.post(this.$apiBus.api_post_add_update_sub_lucky_draw_type,a).then((function(t){"true"==t.status?(e.$bvModal.hide("add-sub-lucky-draw-type-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getSubLuckyDrawTypeDetails(),e.SUB_LUCKY_DRAW_TYPE=null):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){d["a"].showErrorAlert(!0,"error","Failed to add sub lucky draw type")})).finally((function(){e.isLoading=!1,_.a.done()}))}else d["a"].showErrorAlert(!0,"error","Please select Lucky Draw Type and enter Sub Lucky Draw Type");else d["a"].showErrorAlert(!0,"error","Please select an organization first")},getSubLuckyDrawTypeDetails:function(){var t=this;if(this.selected_organization_sys_id&&this.LD_TYPE_SYS_ID){var e={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:this.selected_organization_sys_id,RECORD_SYS_ID:this.LD_TYPE_SYS_ID};this.$apiCall.get(this.$apiBus.api_get_sub_lucky_draw_list,{params:e}).then((function(e){e.status&&"true"===e.status?t.sub_lucky_draw_type_list_details=e.response:t.sub_lucky_draw_type_list_details=[]})).catch((function(){t.sub_lucky_draw_type_list_details=[]}))}else this.sub_lucky_draw_type_list_details=[]},updateSubLuckyDrawTypeDetails:function(){var t,e=this;if(this.selected_organization_sys_id){_.a.start(),_.a.set(.1),this.isLoading=!0;var a={ITEM:"UPDATE",RECORD_SYS_ID:this.update_sub_lucky_draw_type_details.SUB_LD_TYPE_SYS_ID,SUB_LUCKY_DRAW_TYPE:this.update_sub_lucky_draw_type_details.SUB_LUCKY_DRAW_TYPE,CREATED_BY:null===(t=this.getAuthUser)||void 0===t?void 0:t.UserId};this.$apiCall.post(this.$apiBus.api_post_add_update_sub_lucky_draw_type,a).then((function(t){"true"==t.status?(e.$bvModal.hide("update-sub-lucky-draw-type-modal"),d["a"].showSuccessAlert(!0,"success",t.response),e.getSubLuckyDrawTypeDetails()):d["a"].showErrorAlert(!0,"error",t.response)})).catch((function(){d["a"].showErrorAlert(!0,"error","Failed to update sub lucky draw type")})).finally((function(){e.isLoading=!1,_.a.done()}))}else d["a"].showErrorAlert(!0,"error","Please select an organization first")},removeSubLuckyDrawTypeDetails:function(){var t=this;return Object(r["a"])(Object(o["a"])().mark((function e(){var a,s,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.update_sub_lucky_draw_type_details.SUB_LD_TYPE_SYS_ID,console.log("Object for Delete:",JSON.stringify(t.update_sub_lucky_draw_type_details)),console.log("Attempted ID:",a),a){e.next=7;break}return console.error("Delete failed: SUB_LD_TYPE_SYS_ID is missing. Full details logged above."),d["a"].showErrorAlert(!0,"error","Cannot delete. Record ID is missing or invalid. Check console for details."),e.abrupt("return");case 7:return e.next=9,d["a"].showConfirmationAlert("Are you sure?","You want to delete this record!","warning");case 9:if(s=e.sent,s.isConfirmed){e.next=12;break}return e.abrupt("return");case 12:return _.a.start(),_.a.set(.1),t.isLoading=!0,i={ITEM:"DELETE",RECORD_SYS_ID:a},e.next=18,t.$apiCall.post(t.$apiBus.api_post_add_update_sub_lucky_draw_type,i).then((function(e){"true"==e.status?(t.$bvModal.hide("update-sub-lucky-draw-type-modal"),d["a"].showSuccessAlert(!0,"success",e.response),t.getSubLuckyDrawTypeDetails()):d["a"].showErrorAlert(!0,"error",e.response)})).catch((function(){d["a"].showErrorAlert(!0,"error","Failed to delete sub lucky draw type")})).finally((function(){t.isLoading=!1,_.a.done()}));case 18:case"end":return e.stop()}}),e)})))()},activeSubLuckyDrawTypeDetails:function(){var t=this;return Object(r["a"])(Object(o["a"])().mark((function e(){var a,s,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.update_sub_lucky_draw_type_details.SUB_LD_TYPE_SYS_ID,console.log("Object for Activate:",JSON.stringify(t.update_sub_lucky_draw_type_details)),console.log("Attempted ID:",a),a){e.next=7;break}return console.error("Activation failed: SUB_LD_TYPE_SYS_ID is missing. Full details logged above."),d["a"].showErrorAlert(!0,"error","Cannot activate. Record ID is missing or invalid. Check console for details."),e.abrupt("return");case 7:return e.next=9,d["a"].showConfirmationAlert("Are you sure?","You want to activate this record!","warning");case 9:if(s=e.sent,s.isConfirmed){e.next=12;break}return e.abrupt("return");case 12:_.a.start(),_.a.set(.1),t.isLoading=!0,i={ITEM:"ACTIVE",RECORD_SYS_ID:a},t.$apiCall.post(t.$apiBus.api_post_add_update_sub_lucky_draw_type,i).then((function(e){"true"==e.status?(d["a"].showSuccessAlert(!0,"success",e.response),t.getSubLuckyDrawTypeDetails(),t.$bvModal.hide("update-sub-lucky-draw-type-modal")):d["a"].showErrorAlert(!0,"error",e.response)})).catch((function(){d["a"].showErrorAlert(!0,"error","Failed to activate sub lucky draw type")})).finally((function(){t.isLoading=!1,_.a.done()}));case 17:case"end":return e.stop()}}),e)})))()}},computed:{getAuthUser:function(){var t,e,a;return(null===(t=this.$store)||void 0===t||null===(e=t.state)||void 0===e||null===(a=e.auth)||void 0===a?void 0:a.user)||null}}}),H=q,Q=(a("d635"),Object(v["a"])(H,Z,J,!1,null,"390998de",null)),X=Q.exports,tt={components:{EventCategory:m,Country:w,SystemRole:I,ProjectRole:Y,Organization:$,LuckyDrawType:K,SubLuckyDrawType:X},data:function(){return{masterDataItems:[{name:"EVENT CATEGORY"},{name:"COUNTRY"},{name:"SYSTEM ROLE"},{name:"PROJECT ROLE"},{name:"ORGANIZATION NAME"},{name:"LUCKY DRAW TYPE"},{name:"SUB LUCKY DRAW TYPE"}],activeTab:"EVENT CATEGORY",isLoading:!1,tabLoading:!1,master_data_option:[],masterDataLoaded:!1,selected_organization_sys_id:null}},mounted:function(){var t=this;return Object(r["a"])(Object(o["a"])().mark((function e(){var a,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("=== Master Data Component Mounted ==="),a={page:"Master Data Setup",folder:"Admin"},t.$store.commit("addBreadcumb",a),s=localStorage.getItem("selectedOrganizationSysId"),console.log("Saved Org ID from localStorage:",s),!s){e.next=13;break}return t.selected_organization_sys_id=s,console.log("Set selected_organization_sys_id to:",t.selected_organization_sys_id),console.log(" Organization found, automatically loading master data..."),e.next=11,t.getMasterDataListDetails();case 11:e.next=14;break;case 13:console.log(" No organization selected in localStorage");case 14:console.log("=== Mounted Complete ==="),t.$root.$on("organizationChanged",(function(e){t.handleOrganizationChange(e)}));case 16:case"end":return e.stop()}}),e)})))()},beforeUnmount:function(){this.$root.$off("organizationChanged")},watch:{selected_organization_sys_id:function(t,e){console.log("Watch: organization changed from",e,"to",t),t&&t!==e&&(this.activeTab="EVENT CATEGORY",this.getMasterDataListDetails())}},methods:{handleOrganizationChange:function(t){console.log("Organization changed event received:",t),this.selected_organization_sys_id=t,t?(console.log(" Organization selected:",t),console.log("Automatically loading master data..."),this.activeTab="EVENT CATEGORY",this.getMasterDataListDetails()):(console.log(" Organization deselected"),this.masterDataLoaded=!1,this.master_data_option=[])},getMasterDataListDetails:function(){var t=this;if(console.log("--- getMasterDataListDetails START ---"),console.log("Current selected_organization_sys_id:",this.selected_organization_sys_id),!this.selected_organization_sys_id)return console.warn(" No organization selected - Aborting"),Promise.resolve();console.log(" Organization selected, proceeding with API call"),_.a.start(),_.a.set(.1),this.isLoading=!0,this.masterDataLoaded=!1;var e={ITEM:"VIEW_ALL",RECORD_SYS_ID:0,ORGANIZATION_SYS_ID:this.selected_organization_sys_id};return console.log("Master Data API Params:",e),console.log("API endpoint:",this.$apiBus.view_master_data_list),this.$apiBus.view_master_data_list?(console.log("Calling Master Data API..."),this.$apiCall.get(this.$apiBus.view_master_data_list,{params:e}).then((function(e){console.log("Master data API response:",e),e.status&&"true"===e.status?(t.master_data_option=e.response,t.masterDataLoaded=!0,console.log(" Master data loaded successfully"),console.log("Total records:",t.master_data_option.length)):(console.error(" Failed to load master data - Invalid response:",e),t.masterDataLoaded=!1)})).catch((function(e){console.error(" Error fetching master data:",e),t.masterDataLoaded=!1})).finally((function(){_.a.done(),t.isLoading=!1,console.log("--- getMasterDataListDetails END ---")}))):(console.error(' API endpoint "view_master_data_list" is not defined in $apiBus!'),this.isLoading=!1,_.a.done(),Promise.resolve())},setActiveTab:function(t){console.log("Switching to tab:",t),this.activeTab=t}}},et=tt,at=(a("8d4b"),Object(v["a"])(et,s,i,!1,null,"13b7e6fc",null));e["default"]=at.exports},"87fd":function(t,e,a){},"8d4b":function(t,e,a){"use strict";a("da74")},"95cd":function(t,e,a){t.exports=a.p+"img/loader.85135c1c.gif"},"9df1":function(t,e,a){},a8d4:function(t,e,a){"use strict";a("84189")},aa2f:function(t,e,a){},d635:function(t,e,a){"use strict";a("736f")},d92a:function(t,e,a){"use strict";a("1b35")},d942:function(t,e,a){},da74:function(t,e,a){},e704:function(t,e,a){"use strict";a("87fd")}}]);