(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-009eab1c"],{"3c68":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"lucky-draw-container"}},[t.showApproachModal?a("div",{staticClass:"approach-modal"},[a("div",{staticClass:"approach-modal-content"},[t._m(0),a("div",{staticClass:"approach-options"},[a("div",{staticClass:"approach-option",class:{selected:"TOP_TO_BOTTOM"===t.selectedApproach},on:{click:function(a){return t.selectApproach("TOP_TO_BOTTOM")}}},[t._m(1),a("h3",[t._v("Top to Bottom")]),a("p",[t._v("High to Low")]),a("div",{staticClass:"approach-description"},[t._v(" Winners will be drawn starting from the highest prize position to the lowest ")])]),a("div",{staticClass:"approach-option",class:{selected:"BOTTOM_TO_TOP"===t.selectedApproach},on:{click:function(a){return t.selectApproach("BOTTOM_TO_TOP")}}},[t._m(2),a("h3",[t._v("Bottom to Top")]),a("p",[t._v("Low to High")]),a("div",{staticClass:"approach-description"},[t._v(" Winners will be drawn starting from the lowest prize position to the highest ")])])]),a("button",{staticClass:"confirm-approach-button",attrs:{disabled:!t.selectedApproach},on:{click:t.confirmApproach}},[t._v(" Continue to Draw ")])])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showApproachModal,expression:"!showApproachModal"}],staticClass:"main-section",class:{disabled:t.isDrawing},attrs:{id:"mainSection"},on:{click:t.requestDraw}},[a("div",{staticClass:"approach-badge",on:{click:function(t){t.stopPropagation()}}},[a("i",{class:"TOP_TO_BOTTOM"===t.selectedApproach?"fas fa-arrow-down":"fas fa-arrow-up"}),t._v(" "+t._s("TOP_TO_BOTTOM"===t.selectedApproach?"High to Low":"Low to High")+" ")]),a("div",{staticClass:"wheel-container"},[a("div",{staticClass:"title-section"},[a("div",{ref:"confettiContainer",staticClass:"confetti-container"}),t._m(3)]),a("div",{staticClass:"wheel-section"},[a("div",{staticClass:"wheel-wrapper"},[a("div",{ref:"wheel",staticClass:"wheel"},[a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"}),a("div",{staticClass:"wheel-segment"})]),a("div",{staticClass:"wheel-pointer"}),a("div",{staticClass:"wheel-center",attrs:{disabled:t.isDrawing}},[a("div",{staticClass:"center-text"},[t._v("SPIN")])])])])])]),t.showResultPopup?a("div",{staticClass:"result-popup",staticStyle:{display:"flex"},attrs:{id:"resultPopup"}},[a("div",{staticClass:"popup-content"},[t._m(4),a("div",{staticClass:"popup-body"},[a("div",{staticClass:"winning-number-display"},[t._v(t._s(t.winningNumber))]),a("p",{staticClass:"congratulations"},[t._v("Congratulations!")])]),a("div",{staticClass:"popup-footer"},[a("button",{staticClass:"ok-button",attrs:{id:"okButton"},on:{click:t.closeResultPopup}},[t._v("OK")])])])]):t._e()])},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"approach-modal-header"},[a("h2",[t._v("ðŸŽ¯ Select Draw Approach")]),a("p",[t._v("Choose the order in which winners will be selected")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"approach-icon"},[a("i",{staticClass:"fas fa-arrow-down"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"approach-icon"},[a("i",{staticClass:"fas fa-arrow-up"})])},function(){var t=this,a=t._self._c;return a("h1",{staticClass:"spin-title"},[a("span",{staticClass:"word"},[t._v("SPIN")]),a("span",{staticClass:"word"},[t._v("THE")]),a("span",{staticClass:"word"},[t._v("WHEEL!")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"popup-header"},[a("h2",[t._v("ðŸŽ‰ WINNER! ðŸŽ‰")])])}],o=(s("d3b7"),s("25f0"),s("4d90"),{name:"LuckyDrawSpinner",data:function(){return{showApproachModal:!0,selectedApproach:null,isDrawing:!1,showResultPopup:!1,winningNumber:"0000",currentAnimationDuration:0}},created:function(){var t,a,s=null===(t=this.$route)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.drawApproach;!s||"TOP_TO_BOTTOM"!==s&&"BOTTOM_TO_TOP"!==s||(this.selectedApproach=s,this.showApproachModal=!1)},mounted:function(){var t=this;this.showApproachModal||this.$nextTick((function(){document.getElementById("mainSection").style.display="flex",t.createConfetti()}))},methods:{selectApproach:function(t){this.selectedApproach=t},confirmApproach:function(){var t=this;this.selectedApproach&&(this.showApproachModal=!1,this.$nextTick((function(){document.getElementById("mainSection").style.display="flex",t.createConfetti()})))},requestDraw:function(){this.isDrawing?console.log("Cannot start draw: a draw is already in progress."):this.handleDrawStarted()},handleDrawStarted:function(){var t=this;this.isDrawing=!0,console.log("Draw started.");var a=this.$refs.wheel;if(a){a.style.transition="none";var s=window.getComputedStyle(a).transform,e=0;if("none"!==s){var i=s.split("(")[1].split(")")[0].split(",");e=Math.round(Math.atan2(i[1],i[0])*(180/Math.PI))}var o=e%360;a.style.transform="rotate(".concat(o,"deg)"),a.offsetHeight;var n=18,r=Math.floor(12*Math.random()),c=n+r,l=8+.5*r,p=o+360*c+360*Math.random();this.currentAnimationDuration=1e3*l,a.style.transition="transform ".concat(l,"s cubic-bezier(0.25, 0.1, 0.25, 1)"),a.style.transform="rotate(".concat(p,"deg)"),a.classList.add("spinning");var d=Math.floor(1e4*Math.random()).toString();setTimeout((function(){t.handleDrawResult(d)}),this.currentAnimationDuration)}},handleDrawResult:function(t){var a=this;console.log("Draw result:",t),this.winningNumber=t.padStart(4,"0"),this.$nextTick((function(){a.showResultPopup=!0,a.createCelebrationEffects(),a.$refs.wheel&&a.$refs.wheel.classList.remove("spinning")}))},closeResultPopup:function(){this.showResultPopup=!1,this.isDrawing=!1},createConfetti:function(){var t=this.$refs.confettiContainer;if(t){t.innerHTML="";for(var a=0;a<50;a++){var s=document.createElement("div");s.className="confetti",s.style.left="".concat(100*Math.random(),"%"),s.style.backgroundColor=this.getRandomColor(),s.style.animationDelay="".concat(3*Math.random(),"s"),s.style.animationDuration="".concat(3*Math.random()+2,"s"),t.appendChild(s)}}},createCelebrationEffects:function(){var t=this,a=this.$refs.confettiContainer;if(a)for(var s=function(){var s=document.createElement("div");s.className="confetti",s.style.left="".concat(100*Math.random(),"%"),s.style.backgroundColor=t.getRandomColor(),s.style.animation="none",a.appendChild(s),setTimeout((function(){s.style.transition="transform 2s ease-out, opacity 2s ease-in",s.style.transform="translateY(120vh) rotate(".concat(720*Math.random(),"deg)"),s.style.opacity="0"}),10),setTimeout((function(){return s.remove()}),2e3)},e=0;e<30;e++)s()},getRandomColor:function(){var t=["#FF6B6B","#4ECDC4","#45B7D1","#FFEAA7","#DDA0DD"];return t[Math.floor(Math.random()*t.length)]}}}),n=o,r=(s("b51f"),s("2877")),c=Object(r["a"])(n,e,i,!1,null,null,null);a["default"]=c.exports},b51f:function(t,a,s){"use strict";s("edbd")},edbd:function(t,a,s){}}]);