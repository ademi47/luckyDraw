(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0486630"],{2386:function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"main-layout"},[s("main",{staticClass:"content"},[s("div",{staticClass:"stats-row"},[s("div",{staticClass:"stat-card dark-card"},[s("h3",[t._v("Registrations")]),s("h2",[t._v(t._s(t.registrations))])]),s("div",{staticClass:"stat-card dark-card"},[s("h3",[t._v("Attendees")]),s("h2",[t._v(t._s(t.attendees))])]),s("div",{staticClass:"stat-card dark-card countdown-card"},[s("h3",[t._v("The event starts in")]),s("div",{staticClass:"countdown-display"},[s("div",{staticClass:"countdown-item"},[s("div",{staticClass:"countdown-box"},[t._v(" "+t._s(t.countdown.days)+" ")]),s("div",{staticClass:"countdown-label"},[t._v("Days")])]),s("div",{staticClass:"countdown-item"},[s("div",{staticClass:"countdown-box"},[t._v(" "+t._s(t.countdown.hours)+" ")]),s("div",{staticClass:"countdown-label"},[t._v("Hours")])]),s("div",{staticClass:"countdown-item"},[s("div",{staticClass:"countdown-box"},[t._v(" "+t._s(t.countdown.minutes)+" ")]),s("div",{staticClass:"countdown-label"},[t._v("Minutes")])]),s("div",{staticClass:"countdown-item"},[s("div",{staticClass:"countdown-box"},[t._v(" "+t._s(t.countdown.seconds)+" ")]),s("div",{staticClass:"countdown-label"},[t._v("Seconds")])])])])]),s("div",{staticClass:"cards-row"},[s("div",{staticClass:"chart-card"},[s("h4",[t._v("Registration Trend")]),s("div",{staticClass:"empty-chart"},[t._v("No Tickets Configured")]),s("button",{staticClass:"add-ticket-btn",on:{click:t.addTicketClass}},[t._v(" Add Ticket Class ")])]),s("div",{staticClass:"chart-card"},[s("h4",[t._v("Registrations")]),s("div",{staticClass:"empty-chart"},[t._v("No Tickets Configured")]),s("button",{staticClass:"add-ticket-btn",on:{click:t.addTicketClass}},[t._v(" Add Ticket Class ")])]),s("div",{staticClass:"chart-card"},[s("h4",[t._v("Attendance")]),s("div",{staticClass:"empty-chart"},[t._v("No Tickets Configured")]),s("button",{staticClass:"add-ticket-btn",on:{click:t.addTicketClass}},[t._v(" Add Ticket Class ")])])])])])])},i=[],d=(a("d3b7"),a("159b"),a("ac1f"),a("466d"),a("4d90"),{name:"Dashboard",data:function(){return{registrations:0,attendees:0,countdown:{days:"00",hours:"00",minutes:"00",seconds:"00"},countdownInterval:null,isEventPassed:!1}},mounted:function(){this.event_sys_id=JSON.parse(localStorage.getItem("selectedEventSysId")),this.getDashboardCounts()},beforeDestroy:function(){this.countdownInterval&&clearInterval(this.countdownInterval)},methods:{getDashboardCounts:function(){var t=this,s={ITEM:"DASHBOARD_COUNT",EVENT_SYS_ID:this.event_sys_id};this.$apiCall.get(this.$apiBus.api_get_view_event_dashboard_count,{params:s}).then((function(s){s.status&&"true"===s.status?s.response.forEach((function(s){"Registration"===s.DESCRIPTION&&(t.registrations=s.COUNT),"Attendees"===s.DESCRIPTION&&(t.attendees=s.COUNT),"Days to Event"===s.DESCRIPTION&&t.parseCountdownString(s.COUNT)})):Global.showErrorAlert(!0,"error",s.response)})).catch((function(t){Global.showErrorAlert(!0,"error",t.message||"API Error")}))},parseCountdownString:function(t){var s=t.match(/(-?\d+)\s*Days?/i),a=t.match(/(\d+)\s*Hours?/i),n=t.match(/(\d+)\s*Minutes?/i),i=t.match(/(\d+)\s*Seconds?/i),d=s?parseInt(s[1]):0,e=a?parseInt(a[1]):0,o=n?parseInt(n[1]):0,c=i?parseInt(i[1]):0;this.isEventPassed=d<0,this.isEventPassed?this.countdown={days:String(Math.abs(d)).padStart(2,"0"),hours:String(e).padStart(2,"0"),minutes:String(o).padStart(2,"0"),seconds:String(c).padStart(2,"0")}:(this.countdown={days:String(d).padStart(2,"0"),hours:String(e).padStart(2,"0"),minutes:String(o).padStart(2,"0"),seconds:String(c).padStart(2,"0")},this.startLiveCountdown())},startLiveCountdown:function(){var t=this;this.countdownInterval=setInterval((function(){var s=parseInt(t.countdown.days),a=parseInt(t.countdown.hours),n=parseInt(t.countdown.minutes),i=parseInt(t.countdown.seconds);if(i--,i<0&&(i=59,n--),n<0&&(n=59,a--),a<0&&(a=23,s--),s<0)return clearInterval(t.countdownInterval),t.isEventPassed=!0,void(t.countdown={days:"00",hours:"00",minutes:"00",seconds:"00"});t.countdown={days:String(s).padStart(2,"0"),hours:String(a).padStart(2,"0"),minutes:String(n).padStart(2,"0"),seconds:String(i).padStart(2,"0")}}),1e3)},addTicketClass:function(){alert("Add Ticket Class Clicked")}}}),e=d,o=(a("e17a"),a("2877")),c=Object(o["a"])(e,n,i,!1,null,"d1d1473c",null);s["default"]=c.exports},"466d":function(t,s,a){"use strict";var n=a("c65b"),i=a("d784"),d=a("825a"),e=a("7234"),o=a("50c4"),c=a("577e"),r=a("1d80"),u=a("dc4a"),l=a("8aa5"),v=a("14c3");i("match",(function(t,s,a){return[function(s){var a=r(this),i=e(s)?void 0:u(s,t);return i?n(i,s,a):new RegExp(s)[t](c(a))},function(t){var n=d(this),i=c(t),e=a(s,n,i);if(e.done)return e.value;if(!n.global)return v(n,i);var r=n.unicode;n.lastIndex=0;var u,h=[],C=0;while(null!==(u=v(n,i))){var w=c(u[0]);h[C]=w,""===w&&(n.lastIndex=l(i,o(n.lastIndex),r)),C++}return 0===C?null:h}]}))},dec7:function(t,s,a){},e17a:function(t,s,a){"use strict";a("dec7")}}]);