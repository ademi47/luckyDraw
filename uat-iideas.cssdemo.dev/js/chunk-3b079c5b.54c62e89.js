(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b079c5b"],{"1bf8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"layout-wrapper dashboard-container"},[t("Topbar"),t("div",{staticClass:"body-wrapper"},[t("div",{staticClass:"main-content"},[t("transition",{attrs:{name:"page",mode:"out-in"}},[t("router-view")],1)],1)])],1)},a=[],i=n("da76"),o={components:{Topbar:i["a"]}},s=o,l=(n("8aa0"),n("2877")),c=Object(l["a"])(s,r,a,!1,null,"f16ab2ea",null);t["default"]=c.exports},3835:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("14d9");function a(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(c)throw a}}return s}}var i=n("06c5");n("d9e2");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return r(e)||a(e,t)||Object(i["a"])(e,t)||o()}},"7a45":function(e,t,n){},"7b79":function(e,t,n){},"8aa0":function(e,t,n){"use strict";n("7b79")},da76:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[t("header",{staticClass:"top-header"},[t("div",{staticClass:"event-title-wrapper"},[t("button",{staticClass:"back-btn",on:{click:e.goBack}},[t("i",{staticClass:"fa-solid fa-arrow-left"})]),t("div",{staticClass:"event-title"},[t("h1",[e.eventLoading?[e._v(" Loading Event... ")]:e.eventFound&&e.event.EVENT_NAME?[e._v(" "+e._s(e.event.EVENT_NAME)+" ")]:[e._v(" Event Not Found ")]],2),!e.eventLoading&&e.eventFound?t("p",[e._v(" "+e._s(e.formatDate(e.event.EVENT_START_DATE))+" - "+e._s(e.formatTime(e.event.EVENT_START_TIME))+" "),e.event.EVENT_TIMEZONE?[e._v(" ("+e._s(e.event.EVENT_TIMEZONE)+") ")]:e._e(),e.event.EVENT_LANGUAGE?[e._v(" "+e._s(e.event.EVENT_LANGUAGE)+" ")]:e._e()],2):e._e()])]),t("div",{staticClass:"header-actions"},[t("button",{staticClass:"btn",on:{click:e.openLuckyDrawModal}},[e._v("Lucky Draw Display")]),t("button",{staticClass:"btn",on:{click:e.openQnASetup}},[e._v("QnA Display")]),t("button",{staticClass:"btn",on:{click:e.openWishingWallSetup}},[e._v("WishingWall Display")]),t("button",{staticClass:"btn",on:{click:e.openSignatureSetup}},[e._v("Signature Display")]),t("div",{staticClass:"profile-section"},[t("div",{staticClass:"user-icon",on:{click:function(t){return t.stopPropagation(),e.toggleDropdown.apply(null,arguments)}}},[e._v("PS")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropdown,expression:"showDropdown"}],staticClass:"logout-dropdown",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"logout-item",on:{click:e.logout}},[t("i",{staticClass:"fas fa-sign-out-alt logout-icon"}),t("span",[e._v("Logout")])])])])])]),e.showLuckyDrawModal?t("div",{staticClass:"modal-overlay",on:{click:e.closeLuckyDrawModal}},[t("div",{staticClass:"modal-container",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"modal-header"},[t("h3",[e._v("Select Draw Type")]),t("button",{staticClass:"close-btn",on:{click:e.closeLuckyDrawModal}},[t("i",{staticClass:"fa-solid fa-times"})])]),t("div",{staticClass:"modal-body"},[t("p",{staticClass:"modal-description"},[e._v("Choose the Draw Type you want to display:")]),t("label",{staticClass:"radio-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDrawType,expression:"selectedDrawType"}],staticClass:"radio-input",attrs:{type:"radio",value:"liveDraw"},domProps:{checked:e._q(e.selectedDrawType,"liveDraw")},on:{change:function(t){e.selectedDrawType="liveDraw"}}}),t("span",{staticClass:"radio-text"},[e._v("Live Draw")])]),t("label",{staticClass:"radio-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDrawType,expression:"selectedDrawType"}],staticClass:"radio-input",attrs:{type:"radio",value:"preLiveDraw"},domProps:{checked:e._q(e.selectedDrawType,"preLiveDraw")},on:{change:function(t){e.selectedDrawType="preLiveDraw"}}}),t("span",{staticClass:"radio-text"},[e._v("Pre-Live Draw")])]),t("label",{staticClass:"radio-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDrawType,expression:"selectedDrawType"}],staticClass:"radio-input",attrs:{type:"radio",value:"preDraw"},domProps:{checked:e._q(e.selectedDrawType,"preDraw")},on:{change:function(t){e.selectedDrawType="preDraw"}}}),t("span",{staticClass:"radio-text"},[e._v("Pre Draw")])]),t("label",{staticClass:"radio-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDrawType,expression:"selectedDrawType"}],staticClass:"radio-input",attrs:{type:"radio",value:"spinningWheel"},domProps:{checked:e._q(e.selectedDrawType,"spinningWheel")},on:{change:function(t){e.selectedDrawType="spinningWheel"}}}),t("span",{staticClass:"radio-text"},[e._v("Spinning Wheel")])]),e.selectedDrawType?e._e():t("p",{staticClass:"error-message"},[e._v(" Please select a draw type ")])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn-cancel",on:{click:e.closeLuckyDrawModal}},[e._v("Cancel")]),t("button",{staticClass:"btn-next",attrs:{disabled:!e.selectedDrawType},on:{click:e.proceedToSetup}},[e._v(" Next ")])])])]):e._e()])},a=[],i=n("3835"),o=(n("14d9"),n("d3b7"),n("d81d"),n("a9e3"),n("99af"),n("323e")),s=n.n(o),l=n("471e"),c={name:"Topbar",data:function(){return{event:{},eventLoading:!0,eventFound:!1,showDropdown:!1,showLuckyDrawModal:!1,selectedDrawType:"",liveDraw:{enabled:!1,fromNumber:null,toNumber:null,prizePositions:null},preLiveDraw:{enabled:!1,fromNumber:null,toNumber:null,prizePositions:null},preDraw:{enabled:!1,fromNumber:null,toNumber:null,prizePositions:null},earlyBird:{enabled:!1,fromNumber:null,toNumber:null,prizePositions:null},spinningWheel:{enabled:!1,fromNumber:null,toNumber:null,prizePositions:null},doorGift:{enabled:!1,fromNumber:null,toNumber:null,prizePositions:null}}},mounted:function(){var e=this,t=localStorage.getItem("selectedEventSysId");if(!t)return this.event={},this.eventFound=!0,void(this.eventLoading=!1);this.getSpecificEvent(t),this.getControlPanelLiveData("LIVE"),this.clickHandler=function(t){var n=e.$el.querySelector(".profile-section");n&&!n.contains(t.target)&&(console.log("Clicked outside, closing dropdown"),e.showDropdown=!1)},document.addEventListener("click",this.clickHandler)},beforeDestroy:function(){this.clickHandler&&document.removeEventListener("click",this.clickHandler)},computed:{getDrawSettings:function(){var e={liveDraw:this.liveDraw,spinningWheel:this.spinningWheel};return e[this.selectedDrawType]||{enabled:!1,fromNumber:null,toNumber:null}}},methods:{goBack:function(){this.$router.push("/dashboard")},openQnASetup:function(){var e="width=1200,height=800,resizable=yes,scrollbars=yes";window.open("/qna-setup","QnAWindow",e)},openWishingWallSetup:function(){var e="width=1200,height=800,resizable=yes,scrollbars=yes";window.open("/wishingwall-setup","WishingWallWindow",e)},openSignatureSetup:function(){var e="width=1200,height=800,resizable=yes,scrollbars=yes";window.open("/signature-setup","SignatureWindow",e)},openLuckyDrawModal:function(){this.showLuckyDrawModal=!0,this.selectedDrawType=""},closeLuckyDrawModal:function(){this.showLuckyDrawModal=!1},proceedToSetup:function(){if(this.selectedDrawType){var e=localStorage.getItem("selectedEventSysId")||"",t="width=1200,height=800,resizable=yes,scrollbars=yes";if("liveDraw"===this.selectedDrawType){var n="/event/event-luckydrawdisplay",r={drawType:"LUCKY_DRAW",eventId:e,drawOrder:"bottom-to-top",luckyDrawSubType:"LIVE"};this.liveDraw.fromNumber&&(r.fromNumber=this.liveDraw.fromNumber),this.liveDraw.toNumber&&(r.toNumber=this.liveDraw.toNumber),this.liveDraw.prizePositions&&(r.prizePositions=this.liveDraw.prizePositions);var a=this.$router.resolve({path:n,query:r});window.open(a.href,"LuckyDrawWindow",t)}else if("preLiveDraw"===this.selectedDrawType){var i="/event/event-Pre-Live_Draw",o=this.$router.resolve({path:i});window.open(o.href,"PreLiveDrawWindow",t)}else if("preDraw"===this.selectedDrawType){var s="/event/event-Pre_Draw",l=this.$router.resolve({path:s});window.open(l.href,"PreDrawWindow",t)}else if("spinningWheel"===this.selectedDrawType){var c="/event/event-luckydrawspinning",u={eventId:e};this.spinningWheel.fromNumber&&(u.fromNumber=this.spinningWheel.fromNumber),this.spinningWheel.toNumber&&(u.toNumber=this.spinningWheel.toNumber),this.spinningWheel.prizePositions&&(u.prizePositions=this.spinningWheel.prizePositions);var d=this.$router.resolve({path:c,query:u});window.open(d.href,"LuckyDrawWindow",t)}this.closeLuckyDrawModal()}},getControlPanelLiveData:function(e){var t=this;s.a.start(),s.a.set(.1);var n=localStorage.getItem("selectedEventSysId"),r={ITEM:"VIEW_ALL",EVENT_SYS_ID:n,LUCKY_DRAW_TYPE:e};this.$apiCall.get(this.$apiBus.api_get_control_panel_info,{params:r}).then((function(e){if(e.status&&"true"===e.status&&e.response.length>0){var n=e.response[0],r=function(e){return 1==e};t.liveDraw.enabled=r(n.LIVE_DRAW),t.liveDraw.fromNumber=n.LD_FROM_NUMBER,t.liveDraw.toNumber=n.LD_TO_NUMBER,t.liveDraw.prizePositions=n.LD_NO_OF_PRIZE_POSITION,t.preLiveDraw.enabled=r(n.LIVE_PRE_DRAW),t.preLiveDraw.fromNumber=n.LPD_FROM_NUMBER,t.preLiveDraw.toNumber=n.LPD_TO_NUMBER,t.preLiveDraw.prizePositions=n.LPD_NO_OF_PRIZE_POSITION,t.preDraw.enabled=r(n.PRE_DRAW),t.preDraw.fromNumber=n.PD_FROM_NUMBER,t.preDraw.toNumber=n.PD_TO_NUMBER,t.preDraw.prizePositions=n.PD_NO_OF_PRIZE_POSITION,t.earlyBird.enabled=r(n.EARLY_BIRD_DRAW),t.earlyBird.fromNumber=n.EBD_FROM_NUMBER,t.earlyBird.toNumber=n.EBD_TO_NUMBER,t.earlyBird.prizePositions=n.EBD_NO_OF_PRIZE_POSITION,t.spinningWheel.enabled=r(n.SPINNING_WHEEL),t.spinningWheel.fromNumber=n.SW_FROM_NUMBER,t.spinningWheel.toNumber=n.SW_TO_NUMBER,t.spinningWheel.prizePositions=n.SW_NO_OF_PRIZE_POSITION,t.doorGift.enabled=r(n.DOOR_GIFT),t.doorGift.fromNumber=n.DG_FROM_NUMBER,t.doorGift.toNumber=n.DG_TO_NUMBER,t.doorGift.prizePositions=n.DG_NO_OF_PRIZE_POSITION}})).catch((function(t){console.error("Error fetching control panel ".concat(e," data:"),t)})).finally((function(){s.a.done()}))},getSpecificEvent:function(e){var t=this;s.a.start(),this.eventLoading=!0;var n={ITEM:"SPECIFIC",EVENT_SYS_ID:e};this.$apiCall.get(this.$apiBus.api_get_specific_event_info,{params:n}).then((function(e){"true"===e.status&&Array.isArray(e.response)&&e.response.length>0&&e.response[0].EVENT_NAME?(t.event=e.response[0],t.eventFound=!0):(l["a"].showErrorAlert(!0,"error",e.response||"Event not found"),t.event={},t.eventFound=!1)})).catch((function(e){l["a"].showErrorAlert(!0,"error","Failed to fetch event details"),console.error("API call error:",e),t.event={},t.eventFound=!1})).finally((function(){t.eventLoading=!1,s.a.done()}))},formatDate:function(e){if(!e)return"-";var t=e.split("-").map(Number),n=Object(i["a"])(t,3),r=n[0],a=n[1],o=n[2],s=new Date(r,a-1,o),l={weekday:"short",month:"short",day:"numeric",year:"numeric"};return s.toLocaleDateString("en-US",l)},formatTime:function(e){if(!e)return"00:00 AM";var t=e.split(":"),n=Object(i["a"])(t,2),r=n[0],a=n[1],o=parseInt(r,10),s=parseInt(a,10),l=o>=12?"PM":"AM";o%=12,o=o||12;var c=s<10?"0"+s:s;return"".concat(o,":").concat(c," ").concat(l)},toggleDropdown:function(){console.log("TOGGLE CLICKED - Current state:",this.showDropdown),this.showDropdown=!this.showDropdown,console.log("TOGGLE CLICKED - New state:",this.showDropdown),this.$forceUpdate()},logout:function(){console.log("LOGOUT CLICKED"),this.showDropdown=!1,localStorage.clear(),this.$router.push("/auth/login")}}},u=c,d=(n("e4a1"),n("2877")),p=Object(d["a"])(u,r,a,!1,null,"3ad6e664",null);t["a"]=p.exports},e4a1:function(e,t,n){"use strict";n("7a45")}}]);