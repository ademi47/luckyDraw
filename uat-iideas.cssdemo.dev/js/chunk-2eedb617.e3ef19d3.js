(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eedb617"],{"464e":function(e,t,a){},"5de2":function(e,t,a){"use strict";a("464e")},"79e9":function(e,t,a){"use strict";a.r(t);a("99af"),a("fb6a"),a("d81d"),a("4de4"),a("d3b7");var r=function(){var e=this,t=e._self._c;return t("div",[t("b-card",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8"},[t("ValidationObserver",{ref:"badgeForm",scopedSlots:e._u([{key:"default",fn:function(a){var r=a.handleSubmit,i=a.invalid;return[t("form",{on:{submit:function(t){return t.preventDefault(),r(e.onUpdateClick)}}},[t("div",{staticClass:"accordion",attrs:{role:"tablist"}},[t("b-card",{attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[e._v("Badge Dimensions")])],1),t("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[t("b-card",[t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{name:"Badge Width",rules:"required|numeric|min_value:1"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("label",[e._v("Badge Width (mm) "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("b-form-input",{staticClass:"form-control",class:{"is-invalid":r[0]},attrs:{type:"number",step:"0.1",placeholder:"Enter badge width"},model:{value:e.form.badgeWidth,callback:function(t){e.$set(e.form,"badgeWidth",e._n(t))},expression:"form.badgeWidth"}}),e.form.badgeWidth?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.badgeWidth))+"px ")]):e._e(),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{name:"Badge Height",rules:"required|numeric|min_value:1"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("label",[e._v("Badge Height (mm) "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("b-form-input",{staticClass:"form-control",class:{"is-invalid":r[0]},attrs:{type:"number",step:"0.1",placeholder:"Enter badge height"},model:{value:e.form.badgeHeight,callback:function(t){e.$set(e.form,"badgeHeight",e._n(t))},expression:"form.badgeHeight"}}),e.form.badgeHeight?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.badgeHeight))+"px ")]):e._e(),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.needHeader,expression:"form.needHeader"}],staticClass:"form-check-input custom-checkbox",attrs:{type:"checkbox",id:"needHeader"},domProps:{checked:Array.isArray(e.form.needHeader)?e._i(e.form.needHeader,null)>-1:e.form.needHeader},on:{change:function(t){var a=e.form.needHeader,r=t.target,i=!!r.checked;if(Array.isArray(a)){var o=null,s=e._i(a,o);r.checked?s<0&&e.$set(e.form,"needHeader",a.concat([o])):s>-1&&e.$set(e.form,"needHeader",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"needHeader",i)}}}),t("label",{staticClass:"form-check-label",attrs:{for:"needHeader"}},[e._v("Need Header")])]),e.form.needHeader?t("div",{staticClass:"mt-2"},[t("ValidationProvider",{attrs:{name:"Header Height",rules:"required|numeric|min_value:1"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("label",[e._v("Header Height (mm) "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("b-form-input",{class:{"is-invalid":r[0]},attrs:{type:"number",step:"0.1",placeholder:"Enter height"},model:{value:e.form.headerHeight,callback:function(t){e.$set(e.form,"headerHeight",e._n(t))},expression:"form.headerHeight"}}),e.form.headerHeight?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.headerHeight))+"px ")]):e._e(),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(r[0]))])]}}],null,!0)})],1):e._e()]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.needFooter,expression:"form.needFooter"}],staticClass:"form-check-input custom-checkbox",attrs:{type:"checkbox",id:"needFooter"},domProps:{checked:Array.isArray(e.form.needFooter)?e._i(e.form.needFooter,null)>-1:e.form.needFooter},on:{change:function(t){var a=e.form.needFooter,r=t.target,i=!!r.checked;if(Array.isArray(a)){var o=null,s=e._i(a,o);r.checked?s<0&&e.$set(e.form,"needFooter",a.concat([o])):s>-1&&e.$set(e.form,"needFooter",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"needFooter",i)}}}),t("label",{staticClass:"form-check-label",attrs:{for:"needFooter"}},[e._v("Need Footer")])]),e.form.needFooter?t("div",{staticClass:"mt-2"},[t("ValidationProvider",{attrs:{name:"Footer Height",rules:"required|numeric|min_value:1"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("label",[e._v("Footer Height (mm) "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("b-form-input",{class:{"is-invalid":r[0]},attrs:{type:"number",step:"0.1",placeholder:"Enter height"},model:{value:e.form.footerHeight,callback:function(t){e.$set(e.form,"footerHeight",e._n(t))},expression:"form.footerHeight"}}),e.form.footerHeight?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.footerHeight))+"px ")]):e._e(),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(r[0]))])]}}],null,!0)})],1):e._e()])])])],1)],1),t("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[e._v("Print Layout Settings")])],1),t("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[t("b-card",[t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Labels/Badges Per Sheet")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.labelsPerSheet,expression:"form.labelsPerSheet"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"labelsPerSheet",t.target.multiple?a:a[0])}}},[t("option",{domProps:{value:10}},[e._v("10")]),t("option",{domProps:{value:12}},[e._v("12")])])]),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Page Size")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.pageSize,expression:"form.pageSize"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"pageSize",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"A4"}},[e._v("A4 ")]),t("option",{attrs:{value:"B4"}},[e._v("B4")])])])]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Side Margin (mm)")]),t("b-form-input",{staticClass:"form-control",attrs:{type:"number",step:"0.1",placeholder:"Enter side margin"},model:{value:e.form.sideMargin,callback:function(t){e.$set(e.form,"sideMargin",e._n(t))},expression:"form.sideMargin"}}),e.form.sideMargin?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.sideMargin))+"px ")]):e._e()],1),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Top Margin (mm)")]),t("b-form-input",{staticClass:"form-control",attrs:{type:"number",step:"0.1",placeholder:"Enter top margin"},model:{value:e.form.topMargin,callback:function(t){e.$set(e.form,"topMargin",e._n(t))},expression:"form.topMargin"}}),e.form.topMargin?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.topMargin))+"px ")]):e._e()],1)]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Vertical Pitch (mm)")]),t("b-form-input",{staticClass:"form-control",attrs:{type:"number",step:"0.1",placeholder:"Enter vertical spacing"},model:{value:e.form.verticalPitch,callback:function(t){e.$set(e.form,"verticalPitch",e._n(t))},expression:"form.verticalPitch"}}),e.form.verticalPitch?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.verticalPitch))+"px ")]):e._e()],1),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Horizontal Pitch (mm)")]),t("b-form-input",{staticClass:"form-control",attrs:{type:"number",step:"0.1",placeholder:"Enter horizontal spacing"},model:{value:e.form.horizontalPitch,callback:function(t){e.$set(e.form,"horizontalPitch",e._n(t))},expression:"form.horizontalPitch"}}),e.form.horizontalPitch?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.horizontalPitch))+"px ")]):e._e()],1)]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Number Across")]),t("b-form-input",{staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"Labels per row"},model:{value:e.form.numberAcross,callback:function(t){e.$set(e.form,"numberAcross",e._n(t))},expression:"form.numberAcross"}})],1),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Number Down")]),t("b-form-input",{staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"Rows per page"},model:{value:e.form.numberDown,callback:function(t){e.$set(e.form,"numberDown",e._n(t))},expression:"form.numberDown"}})],1)])])],1)],1),t("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"}},[e._v("Backgrounds")])],1),t("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[t("b-card",[t("div",{staticClass:"row mt-3 align-items-center"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Badge Background")]),t("div",{staticClass:"d-flex align-items-center gap-2"},[t("input",{ref:"badgeBgInput",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onFileChange(t,"badgeBg")}}})]),e.form.badgeBgPreview||e.form.badgeBg?t("div",{staticClass:"thumb mt-2"},[e.form.badgeBgPreview?t("img",{attrs:{src:e.form.badgeBgPreview,alt:"Badge BG"}}):t("div",{staticClass:"thumb-filename"},[e._v(e._s(e.form.badgeBg))]),t("button",{staticClass:"remove-btn",attrs:{type:"button","aria-label":"Remove badge background"},on:{click:function(t){return e.clearImage("badgeBg")}}},[e._v(" × ")])]):e._e(),e.form.badgeBg&&!e.form.badgeBgPreview?t("small",{staticClass:"text-muted d-block mt-1"},[e._v(" Current: "+e._s(e.form.badgeBg)+" ")]):e._e()]),e.form.needHeader?t("div",{staticClass:"col-md-6"},[t("label",[e._v("Header Background")]),t("div",{staticClass:"d-flex align-items-center gap-2"},[t("input",{ref:"headerBgInput",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onFileChange(t,"headerBg")}}})]),e.form.headerBgPreview||e.form.headerBg?t("div",{staticClass:"thumb mt-2"},[e.form.headerBgPreview?t("img",{attrs:{src:e.form.headerBgPreview,alt:"Header BG"}}):t("div",{staticClass:"thumb-filename"},[e._v(e._s(e.form.headerBg))]),t("button",{staticClass:"remove-btn",attrs:{type:"button","aria-label":"Remove header background"},on:{click:function(t){return e.clearImage("headerBg")}}},[e._v(" × ")])]):e._e(),e.form.headerBg&&!e.form.headerBgPreview?t("small",{staticClass:"text-muted d-block mt-1"},[e._v(" Current: "+e._s(e.form.headerBg)+" ")]):e._e()]):e._e()]),e.form.needFooter?t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("label",[e._v("Footer Background")]),t("div",{staticClass:"d-flex align-items-center gap-2"},[t("input",{ref:"footerBgInput",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onFileChange(t,"footerBg")}}})]),e.form.footerBgPreview||e.form.footerBg?t("div",{staticClass:"thumb mt-2"},[e.form.footerBgPreview?t("img",{attrs:{src:e.form.footerBgPreview,alt:"Footer BG"}}):t("div",{staticClass:"thumb-filename"},[e._v(e._s(e.form.footerBg))]),t("button",{staticClass:"remove-btn",attrs:{type:"button","aria-label":"Remove footer background"},on:{click:function(t){return e.clearImage("footerBg")}}},[e._v(" × ")])]):e._e(),e.form.footerBg&&!e.form.footerBgPreview?t("small",{staticClass:"text-muted d-block mt-1"},[e._v(" Current: "+e._s(e.form.footerBg)+" ")]):e._e()])]):e._e()])],1)],1),t("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],attrs:{block:"",variant:"info"}},[e._v("Body Content")])],1),t("b-collapse",{attrs:{id:"accordion-4",accordion:"my-accordion",role:"tabpanel"}},[t("b-card",[t("div",{staticClass:"row mt-3"},e._l(e.bodyItems,(function(a){return t("div",{key:a.key,staticClass:"col-md-4"},[t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.checked,expression:"item.checked"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:a.key},domProps:{checked:Array.isArray(a.checked)?e._i(a.checked,null)>-1:a.checked},on:{change:function(t){var r=a.checked,i=t.target,o=!!i.checked;if(Array.isArray(r)){var s=null,n=e._i(r,s);i.checked?n<0&&e.$set(a,"checked",r.concat([s])):n>-1&&e.$set(a,"checked",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(a,"checked",o)}}}),t("label",{staticClass:"form-check-label",attrs:{for:a.key}},[e._v(e._s(a.label))])])])})),0)])],1)],1),t("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],attrs:{block:"",variant:"info"}},[e._v("Static Content")])],1),t("b-collapse",{attrs:{id:"accordion-5",accordion:"my-accordion",role:"tabpanel"}},[t("b-card",[t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-12"},[t("label",[e._v("Static Content Text")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.staticContent,expression:"form.staticContent"}],staticClass:"form-control",attrs:{placeholder:"Enter static text content"},domProps:{value:e.form.staticContent},on:{input:function(t){t.target.composing||e.$set(e.form,"staticContent",t.target.value)}}})])]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{name:"Static Content Height",rules:"numeric|min_value:1"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("label",[e._v("Static Content Height (mm)")]),t("b-form-input",{class:{"is-invalid":r[0]},attrs:{type:"number",step:"0.1",placeholder:"Enter height"},model:{value:e.form.staticHeight,callback:function(t){e.$set(e.form,"staticHeight",e._n(t))},expression:"form.staticHeight"}}),e.form.staticHeight?t("small",{staticClass:"text-muted conversion-hint"},[e._v(" Equivalent: "+e._s(e.mmToPx(e.form.staticHeight))+"px ")]):e._e(),t("div",{staticClass:"invalid-feedback"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("label",[e._v("Static Content Alignment")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.form.staticAlign,expression:"form.staticAlign"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"staticAlign",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Select")]),t("option",{attrs:{value:"left"}},[e._v("Left")]),t("option",{attrs:{value:"center"}},[e._v("Center")]),t("option",{attrs:{value:"right"}},[e._v("Right")])])])])])],1)],1),t("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-0",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-6",modifiers:{"accordion-6":!0}}],attrs:{block:"",variant:"info"}},[e._v("Other Settings")])],1),t("b-collapse",{attrs:{id:"accordion-6",accordion:"my-accordion",role:"tabpanel"}},[t("b-card",[t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.automaticPrintBadge,expression:"automaticPrintBadge"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"automaticPrintBadge"},domProps:{checked:Array.isArray(e.automaticPrintBadge)?e._i(e.automaticPrintBadge,null)>-1:e.automaticPrintBadge},on:{change:function(t){var a=e.automaticPrintBadge,r=t.target,i=!!r.checked;if(Array.isArray(a)){var o=null,s=e._i(a,o);r.checked?s<0&&(e.automaticPrintBadge=a.concat([o])):s>-1&&(e.automaticPrintBadge=a.slice(0,s).concat(a.slice(s+1)))}else e.automaticPrintBadge=i}}}),t("label",{staticClass:"form-check-label",attrs:{for:"automaticPrintBadge"}},[e._v(" Automatic print badge ")])])])],1)],1)],1),t("div",{staticClass:"d-flex mt-3",staticStyle:{"justify-content":"space-between"}},[t("div",[t("button",{staticClass:"btn btn-danger mr-2",attrs:{type:"button"},on:{click:function(t){return e.$refs.resetModal.show()}}},[e._v("Reset")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:i},on:{click:function(t){return e.$refs.updateModal.show()}}},[e._v("Update")])]),t("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:!e.shouldShowPreview},on:{click:e.printBadge}},[e._v(" Print Badge ")])])])]}}])})],1),t("div",{staticClass:"col-md-4",staticStyle:{position:"relative"}},[t("div",{staticClass:"badge-prevw"},[t("h4",[e._v("Badge Preview")]),t("div",{staticClass:"d-flex mt-3 align-items-center"},[t("div",{staticClass:"badge-border-box mr-3"},[t("div",{staticClass:"round-red"}),t("p",[e._v("Cut line")])]),t("div",{staticClass:"badge-border-box"},[t("div",{staticClass:"round-green"}),t("p",[e._v("Safe zone")])])]),t("b-tabs",{staticClass:"mt-3",attrs:{pills:"",align:"center"}},[t("b-tab",{attrs:{title:"Front",active:""}},[e.shouldShowPreview?t("div",{staticClass:"badge-preview mt-3",style:e.badgeStyle,attrs:{id:"badge-preview"}},[e.form.needHeader&&e.form.headerHeight?t("div",{staticClass:"header-overlay",style:e.headerStyle},[t("div",{staticClass:"header-content"},[t("span",{staticClass:"header-text"},[e._v("Header Section")])])]):e._e(),t("div",{staticClass:"body-area",style:e.bodyAreaStyle},[t("div",{staticClass:"cutline-border"},[t("div",{staticClass:"safezone"},[e.isItemSelected("qrcode")?t("div",{staticClass:"qr-section"},[t("img",{staticClass:"qr-code-small",attrs:{src:e.qrImage,alt:"QR Code"}})]):e._e(),e.form.staticContent?t("div",{staticClass:"static-content",style:e.staticStyle},[e._v(" "+e._s(e.form.staticContent)+" ")]):e._e(),t("div",{staticClass:"main-content-area"},[e.hasSelectedBodyItems?t("div",{staticClass:"body-content-section"},[e._l(e.bodyItems,(function(a){return[a.checked&&"qrcode"!==a.key?t("div",{key:a.key,staticClass:"content-item"},["name"===a.key?t("div",{staticClass:"person-name"},[e._v(" "+e._s(e.getDummyValue(a.key))+" ")]):"designation"===a.key?t("div",{staticClass:"designation"},[e._v(" "+e._s(e.getDummyValue(a.key))+" ")]):"company"===a.key?t("div",{staticClass:"company-name"},[e._v(" "+e._s(e.getDummyValue(a.key))+" ")]):t("div",{staticClass:"other-info"},[e._v(" "+e._s(a.label)+": "+e._s(e.getDummyValue(a.key))+" ")])]):e._e()]}))],2):e._e()])])])]),e.form.needFooter&&e.form.footerHeight?t("div",{staticClass:"footer-overlay",style:e.footerStyle},[t("div",{staticClass:"footer-content"},[t("span",{staticClass:"footer-text"},[e._v("Footer Section")])])]):e._e()]):t("div",{staticClass:"preview-placeholder mt-3"},[t("p",{staticClass:"text-muted"},[e._v("Enter dimensions to preview badge")])])]),t("b-tab",{attrs:{title:"Back"}},[t("div",{staticClass:"preview-placeholder mt-3"},[t("p",{staticClass:"text-muted"},[e._v("Back view not implemented")])])])],1)],1)])])]),t("b-modal",{attrs:{title:"Crop Image",centered:"","hide-footer":"","no-close-on-esc":"","no-close-on-backdrop":"","header-close-content":"&times;",id:"crop-image-modal",size:"xl"}},[t("div",{staticClass:"w-100"},[t("div",{staticStyle:{height:"400px !important"}},[t("vue-cropper",{ref:"cropper",attrs:{src:e.imgSrc,outputType:"png",preview:".preview",alt:"Source Image","img-style":{width:"400px",height:"350px"},cropBoxResizable:!1,toggleDragModeOnDblclick:!1,dragMode:"none"},on:{ready:e.setCropBoxData}})],1),t("div",{staticClass:"text-right"},[t("b-button",{staticClass:"btn btn-secondary mr-2",on:{click:function(t){return e.closeCropModal()}}},[e._v(" Close ")]),t("b-button",{staticClass:"btn btn-primary ripple",staticStyle:{"background-color":"#1f1b18 !important",color:"#fff !important"},on:{click:e.cropImage}},[e._v(" Save ")])],1)])]),t("b-modal",{ref:"updateModal",attrs:{"hide-footer":"",title:"Confirm Update"}},[t("div",{staticClass:"d-block text-center"},[t("p",[e._v("Are you sure you want to update this badge configuration?")])]),t("div",{staticClass:"d-flex justify-content-end"},[t("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$refs.updateModal.hide()}}},[e._v("Cancel")]),t("b-button",{staticClass:"ml-2",attrs:{variant:"primary"},on:{click:e.confirmUpdate}},[e._v("Yes, Update")])],1)]),t("b-modal",{ref:"resetModal",attrs:{"hide-footer":"",title:"Confirm Reset"}},[t("div",{staticClass:"d-block text-center"},[t("p",[e._v("Are you sure you want to reset this badge configuration?")])]),t("div",{staticClass:"d-flex justify-content-end"},[t("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$refs.resetModal.hide()}}},[e._v("Cancel")]),t("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:e.confirmReset}},[e._v("Yes, Reset")])],1)])],1)},i=[],o=a("c7eb"),s=a("1da1"),n=a("5530"),c=(a("7db0"),a("b680"),a("caad"),a("159b"),a("2532"),a("ac1f"),a("5319"),a("466d"),a("81b2"),a("0eb6"),a("b7ef"),a("8bd4"),a("ace4"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("1b3b"),a("3d71"),a("c6e3"),a("b0c0"),a("a76d")),l=a.n(c),d=a("323e"),m=a.n(d),f=a("471e"),u=a("7bb1"),h=a("4c93"),g=a("95c3"),p=a.n(g);a("6107");Object(u["c"])("required",Object(n["a"])(Object(n["a"])({},h["required"]),{},{message:"The {_field_} field is required"})),Object(u["c"])("numeric",Object(n["a"])(Object(n["a"])({},h["numeric"]),{},{message:"The {_field_} field must be a number"})),Object(u["c"])("min_value",Object(n["a"])(Object(n["a"])({},h["min_value"]),{},{message:"The {_field_} field must be greater than or equal to {min}"}));var v={components:{ValidationProvider:u["b"],ValidationObserver:u["a"],VueCropper:p.a},data:function(){return{DPI:96,form:{preBadgeSysId:null,labelsPerSheet:10,pageSize:"A4",badgeWidth:105,badgeHeight:57,needHeader:!1,needFooter:!1,headerHeight:null,footerHeight:null,badgeBg:null,badgeBgPreview:null,headerBg:null,headerBgPreview:null,footerBg:null,footerBgPreview:null,sideMargin:0,topMargin:6,verticalPitch:57,horizontalPitch:105,numberAcross:2,numberDown:5,staticContent:"",staticHeight:null,staticAlign:""},bodyItems:[{key:"qrcode",label:"QR Code",checked:!1},{key:"name",label:"Person Name",checked:!1},{key:"designation",label:"Designation",checked:!1},{key:"company",label:"Company Name",checked:!1},{key:"ticket",label:"Ticket ID",checked:!1},{key:"table",label:"Table Number",checked:!1}],qrImage:l.a,badge_list_details:[],user_sys_id:null,event_sys_id:null,isLoading:!1,automaticPrintBadge:!1,imgSrc:"",cropImg:"",fileData:null,currentFileType:""}},watch:{"form.labelsPerSheet":{handler:function(e){10===e?(this.form.numberAcross=2,this.form.numberDown=5):12===e&&(this.form.numberAcross=2,this.form.numberDown=6)},immediate:!0}},mounted:function(){this.event_sys_id=JSON.parse(localStorage.getItem("selectedEventSysId"));var e=JSON.parse(localStorage.getItem("userInfo"));this.user_sys_id=(null===e||void 0===e?void 0:e.USER_SYS_ID)||1,this.getViewBadgedetails()},methods:{isItemSelected:function(e){var t=this.bodyItems.find((function(t){return t.key===e}));return!!t&&t.checked},mmToPx:function(e){return!e||isNaN(e)?0:Math.round(e*this.DPI/25.4)},pxToMm:function(e){return!e||isNaN(e)?0:parseFloat((25.4*e/this.DPI).toFixed(2))},onUpdateClick:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.badgeForm.validate();case 2:if(a=t.sent,a){t.next=6;break}return e.$toast.error("Please fix validation errors before updating"),t.abrupt("return");case 6:e.$refs.updateModal.show();case 7:case"end":return t.stop()}}),t)})))()},getViewBadgedetails:function(){var e=this,t={ITEM:"VIEW_ALL",EVENT_SYS_ID:this.event_sys_id};this.$apiCall.get(this.$apiBus.api_get_view_badges,{params:t}).then((function(t){"true"===t.status&&t.response.length>0?(e.badge_list_details=t.response,e.prefillForm(e.badge_list_details[0])):"true"!==t.status&&console.log("Error fetching badge details:",t.response)})).catch((function(e){console.log("API Error:",e)}))},prefillForm:function(e){try{this.form.preBadgeSysId=e.PRE_BADGE_SYS_ID||null,this.form.pageSize=e.PAGE_SIZE||"A4",this.form.labelsPerSheet=e.LABELS_PER_SHEET||10,this.form.badgeWidth=e.BADGE_WIDTH_PX?this.pxToMm(parseInt(e.BADGE_WIDTH_PX)):105,this.form.badgeHeight=e.BADGE_HEIGHT_PX?this.pxToMm(parseInt(e.BADGE_HEIGHT_PX)):57,this.form.needHeader=1==e.NEED_HEADER,this.form.headerHeight=this.form.needHeader&&e.HEADER_HEIGHT?this.pxToMm(parseInt(e.HEADER_HEIGHT)):null,this.form.needFooter=1==e.NEED_FOOTER,this.form.footerHeight=this.form.needFooter&&e.FOOTER_HEIGHT?this.pxToMm(parseInt(e.FOOTER_HEIGHT)):null,this.form.badgeBg=e.BADGE_BACKGROUND||null,this.form.headerBg=e.HEADER_BACKGROUND||null,this.form.footerBg=e.FOOTER_BACKGROUND||null,this.form.sideMargin=e.SIDE_MARGIN_PX?this.pxToMm(parseInt(e.SIDE_MARGIN_PX)):0,this.form.topMargin=e.TOP_MARGIN_PX?this.pxToMm(parseInt(e.TOP_MARGIN_PX)):6,this.form.verticalPitch=e.VERTICAL_PITCH_PX?this.pxToMm(parseInt(e.VERTICAL_PITCH_PX)):57,this.form.horizontalPitch=e.HORIZONTAL_PITCH_PX?this.pxToMm(parseInt(e.HORIZONTAL_PITCH_PX)):105,this.form.numberAcross=e.NUMBER_ACROSS?parseInt(e.NUMBER_ACROSS):2,this.form.numberDown=e.NUMBER_DOWN?parseInt(e.NUMBER_DOWN):5,this.form.staticContent=e.STATIC_CONTENT_TEXT||"",this.form.staticHeight=e.STATIC_CONTENT_HEIGHT?this.pxToMm(parseInt(e.STATIC_CONTENT_HEIGHT)):null;var t=e.STATIC_CONTENT_ALIGENMENT?e.STATIC_CONTENT_ALIGENMENT.toLowerCase():"";this.form.staticAlign=["left","right","center"].includes(t)?t:"",this.bodyItems.forEach((function(t){var a={qrcode:"QR_CODE",name:"PERSON_NAME",designation:"DESIGNATION",company:"COMPANY_NAME",ticket:"TICKET_ID",table:"TABLE_NUMBER"};t.checked=1==e[a[t.key]]}))}catch(a){console.log("Error prefilling form:",a)}},confirmUpdate:function(){this.$refs.updateModal.hide(),this.addBadgeDetails()},confirmReset:function(){this.$refs.resetModal.hide(),this.resetBadgeDetails()},resetBadgeDetails:function(){var e=this,t={ITEM:"RESET_BADGE_SETUP",EVENT_SYS_ID:this.event_sys_id,PRE_BADGE_SYS_ID:this.form.preBadgeSysId||"",CREATED_BY:this.user_sys_id};this.$apiCall.post(this.$apiBus.api_post_add_update_badges,t).then((function(t){"true"===t.status?(e.getViewBadgedetails(),f["a"].showSuccessAlert(!0,"success",t.response)):f["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){e.$toast.error("Reset failed due to network error"),console.log("API Error:",t)}))},addBadgeDetails:function(){var e=this;m.a.start(),this.isLoading=!0;var t={ITEM:"ADD_PRE_BADGE_SETUP",EVENT_SYS_ID:this.event_sys_id,CREATED_BY:this.user_sys_id,PAGE_SIZE:this.form.pageSize,BADGES_PER_SHEET:this.form.labelsPerSheet,BADGE_WIDTH:String(this.mmToPx(this.form.badgeWidth)),BADGE_HEIGHT:String(this.mmToPx(this.form.badgeHeight)),NEED_HEADER:this.form.needHeader?1:0,HEADER_HEIGHT:this.form.needHeader&&this.form.headerHeight?String(this.mmToPx(this.form.headerHeight)):"0",NEED_FOOTER:this.form.needFooter?1:0,FOOTER_HEIGHT:this.form.needFooter&&this.form.footerHeight?String(this.mmToPx(this.form.footerHeight)):"0",BADGE_BACKGROUND:this.form.badgeBg||"",HEADER_BACKGROUND:this.form.headerBg||"",FOOTER_BACKGROUND:this.form.footerBg||"",QR_CODE:this.isItemSelected("qrcode")?1:0,PERSON_NAME:this.isItemSelected("name")?1:0,DESIGNATION:this.isItemSelected("designation")?1:0,COMPANY_NAME:this.isItemSelected("company")?1:0,TICKET_ID:this.isItemSelected("ticket")?1:0,TABLE_NUMBER:this.isItemSelected("table")?1:0,STATIC_CONTENT_TEXT:this.form.staticContent||"",STATIC_CONTENT_HEIGHT:this.form.staticHeight?String(this.mmToPx(this.form.staticHeight)):"0",STATIC_CONTENT_ALIGENMENT:this.form.staticAlign?this.form.staticAlign.toUpperCase():"CENTER",NUMBER_ACROSS:this.form.numberAcross||0,NUMBER_DOWN:this.form.numberDown||0,SIDE_MARGIN:String(this.mmToPx(this.form.sideMargin)),TOP_MARGIN:String(this.mmToPx(this.form.topMargin)),VERTICAL_PITCH:String(this.mmToPx(this.form.verticalPitch)),HORIZONTAL_PITCH:String(this.mmToPx(this.form.horizontalPitch))};this.$apiCall.post(this.$apiBus.api_post_add_update_badges,t).then((function(t){"true"==t.status?(e.getViewBadgedetails(),f["a"].showSuccessAlert(!0,"success",t.response)):f["a"].showErrorAlert(!0,"error",t.response)})).catch((function(t){e.$toast.error("Update failed due to network error"),console.log("API Error:",t)})).finally((function(){e.isLoading=!1,m.a.done()}))},onFileChange:function(e,t){var a=e.target.files[0];a&&(a.type.includes("image/")?(this.fileData=a,this.currentFileType=t,this.showCropModal(a)):this.$bvToast.toast("Please select an image file",{title:"Invalid File",variant:"danger",solid:!0}))},showCropModal:function(e){var t=this;m.a.start();var a=new FileReader;a.onload=function(e){t.imgSrc=e.target.result,t.$nextTick((function(){t.$refs.cropper&&t.$refs.cropper.replace(e.target.result),t.$bvModal.show("crop-image-modal"),m.a.done()}))},a.readAsDataURL(e)},dataURLtoFile:function(e,t){var a=e.split(","),r=a[0].match(/:(.*?);/)[1],i=atob(a[1]),o=i.length,s=new Uint8Array(o);while(o--)s[o]=i.charCodeAt(o);return new File([s],t,{type:r})},setCropBoxData:function(){this.$refs.cropper.setCropBoxData({width:600,height:300})},cropImage:function(){this.cropImg=this.$refs.cropper.getCroppedCanvas({height:500,width:300,fillColor:"#fff"}).toDataURL();var e=this.dataURLtoFile(this.cropImg,this.fileData.name);this.form[this.currentFileType]=e.name,this.form[this.currentFileType+"Preview"]=this.cropImg,this.closeCropModal(),this.$bvToast.toast("Image cropped successfully!",{title:"Success",variant:"success",solid:!0})},closeCropModal:function(){this.imgSrc="",this.cropImg="",this.fileData=null,this.currentFileType="",this.$bvModal.hide("crop-image-modal")},clearImage:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function a(){var r,i,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$swal.fire({title:"Are you sure?",text:"This will delete the ".concat(e.replace("Bg"," background")," image."),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"});case 2:if(r=a.sent,r.isConfirmed){a.next=5;break}return a.abrupt("return");case 5:t.form[e]=null,t.form[e+"Preview"]=null,i="".concat(e,"Input"),t.$refs[i]&&(t.$refs[i].value=""),s={ITEM:"DELETE_BADGE_BACKGROUND",EVENT_SYS_ID:t.event_sys_id,PRE_BADGE_SYS_ID:t.form.preBadgeSysId||""},t.$apiCall.post(t.$apiBus.api_post_add_update_badges,s).then((function(e){"true"===e.status?t.$toast.success("Image deleted successfully!"):(t.$toast.error("Delete failed: "+e.response),t.getViewBadgedetails())})).catch((function(e){t.$toast.error("Delete failed due to a network error."),console.log("API Error:",e),t.getViewBadgedetails()}));case 11:case"end":return a.stop()}}),a)})))()},printBadge:function(){if(this.shouldShowPreview)try{var e=document.getElementById("badge-preview");if(!e)return void this.$toast.error("Badge preview element not found.");var t=e.outerHTML,a="\n                    <style>\n                        @page { \n                            size: auto;\n                            margin: 0mm; \n                        }\n                        html, body {\n                            height: 100%;\n                            width: 100%;\n                            margin: 0;\n                            padding: 0;\n                            font-family: 'Arial', sans-serif;\n                        }\n                        body { \n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                        }\n                        .badge-preview { \n                            box-shadow: none; \n                            border: none; \n                            background-color: #ffffff; \n                            background-size: cover; \n                            background-position: center; \n                            position: relative; \n                            overflow: hidden; \n                            page-break-inside: avoid; \n                            display: block !important; \n                        }\n                        .body-area, .header-overlay, .footer-overlay { \n                            print-color-adjust: exact; \n                            -webkit-print-color-adjust: exact; \n                        }\n                        .body-area { \n                            position: absolute; left: 0; right: 0; z-index: 5; \n                            display: flex; flex-direction: column; justify-content: flex-start; \n                            align-items: center; text-align: center; padding: 8px; overflow: hidden; \n                        }\n                        .cutline-border, .safezone { \n                            border: none !important; \n                            width: 100%; height: 100%; box-sizing: border-box; \n                        }\n                        .safezone { \n                            display: flex; flex-direction: column; padding: 5px; \n                        }\n                        .qr-section { \n                            width: 100%; display: flex; justify-content: center; \n                            margin-bottom: 8px; margin-top: 5px; \n                        }\n                        .qr-code-small { \n                            width: 40px !important; height: 40px !important; object-fit: contain; \n                        }\n                        .main-content-area { \n                            width: 100%; flex: 1; display: flex; flex-direction: column; \n                            justify-content: center; align-items: center; \n                        }\n                        .body-content-section { \n                            width: 100%; display: flex; flex-direction: column; \n                            align-items: center; justify-content: center; gap: 2px; \n                        }\n                        .content-item { \n                            width: 100%; margin: 1px 0; line-height: 1.2; \n                        }\n                        .person-name { font-size: 14px; font-weight: bold; color: #000; text-transform: uppercase; letter-spacing: 0.5px; margin: 2px 0; }\n                        .designation { font-size: 11px; font-weight: 600; color: #333; text-transform: uppercase; margin: 1px 0; }\n                        .company-name { font-size: 9px; font-weight: 500; color: #555; text-transform: uppercase; margin: 1px 0; word-wrap: break-word; line-height: 1.1; }\n                        .other-info { font-size: 10px; color: #666; margin: 1px 0; }\n                        .static-content { font-size: 12px; font-weight: 500; color: #333; margin: 5px 0; }\n                        .header-overlay, .footer-overlay { display: flex; align-items: center; justify-content: center; }\n                        .header-text, .footer-text { font-size: 10px; font-weight: bold; color: #333; }\n                    </style>\n                ",r=document.createElement("iframe");r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.border="0",r.style.visibility="hidden",document.body.appendChild(r);var i=r.contentWindow.document;i.open(),i.write("<!DOCTYPE html><html><head><title>Badge Print</title>".concat(a,"</head><body>").concat(t,"</body></html>")),i.close(),r.onload=function(){r.contentWindow.focus(),r.contentWindow.print(),setTimeout((function(){document.body.removeChild(r)}),100)}}catch(o){console.error("Print error:",o),this.$toast.error("Failed to print badge. Please try again.")}else this.$toast.warning("Please enter badge dimensions first")},getDummyValue:function(e){var t={name:"AYAN AYAN",designation:"DIRECTOR",company:"CSS OFFICE SOLUTIONS PTE. LTD.",ticket:"T12345",table:"7"};return t[e]||"-"}},computed:{shouldShowPreview:function(){return this.form.badgeWidth&&this.form.badgeHeight},hasSelectedBodyItems:function(){return this.bodyItems.some((function(e){return e.checked&&"qrcode"!==e.key}))},badgeStyle:function(){return{width:"".concat(this.mmToPx(this.form.badgeWidth),"px"),height:"".concat(this.mmToPx(this.form.badgeHeight),"px"),border:"1px solid #ccc",backgroundImage:this.form.badgeBgPreview?"url(".concat(this.form.badgeBgPreview,")"):"none",backgroundColor:this.form.badgeBgPreview?"transparent":"#ffffff",backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden",borderRadius:"6px",fontFamily:"'Arial', 'Helvetica', sans-serif"}},headerStyle:function(){return{height:this.mmToPx(this.form.headerHeight)+"px",backgroundImage:this.form.headerBgPreview?"url(".concat(this.form.headerBgPreview,")"):"none",backgroundColor:this.form.headerBgPreview?"transparent":"#f8f9fa",backgroundSize:"cover",backgroundPosition:"center",width:"100%",position:"absolute",top:0,left:0,zIndex:10}},footerStyle:function(){return{height:this.mmToPx(this.form.footerHeight)+"px",backgroundImage:this.form.footerBgPreview?"url(".concat(this.form.footerBgPreview,")"):"none",backgroundColor:this.form.footerBgPreview?"transparent":"#f8f9fa",backgroundSize:"cover",backgroundPosition:"center",width:"100%",position:"absolute",bottom:0,left:0,zIndex:10}},bodyAreaStyle:function(){var e=this.form.needHeader&&this.form.headerHeight?this.mmToPx(this.form.headerHeight):0,t=this.form.needFooter&&this.form.footerHeight?this.mmToPx(this.form.footerHeight):0;return{position:"absolute",top:e+"px",bottom:t+"px",left:"0",right:"0",zIndex:5,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",textAlign:"center",padding:"8px",overflow:"hidden"}},staticStyle:function(){return{height:this.form.staticHeight?this.mmToPx(this.form.staticHeight)+"px":"auto",textAlign:this.form.staticAlign||"center",width:"100%",display:"flex",alignItems:"center",justifyContent:"left"===this.form.staticAlign?"flex-start":"right"===this.form.staticAlign?"flex-end":"center",fontSize:"14px",fontWeight:"500",color:"#333",margin:"10px 0",wordWrap:"break-word",overflowWrap:"break-word"}}}},b=v,_=(a("5de2"),a("2877")),C=Object(_["a"])(b,r,i,!1,null,"9ff7c970",null);t["default"]=C.exports},"7db0":function(e,t,a){"use strict";var r=a("23e7"),i=a("b727").find,o=a("44d2"),s="find",n=!0;s in[]&&Array(1)[s]((function(){n=!1})),r({target:"Array",proto:!0,forced:n},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},a76d:function(e,t,a){e.exports=a.p+"img/qrcode.f76d250e.png"}}]);