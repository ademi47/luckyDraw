(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a99c6354"],{2040:function(t,e,s){},2613:function(t,e,s){t.exports=s.p+"img/photo-long-3.f4e38da9.jpg"},"7db0":function(t,e,s){"use strict";var r=s("23e7"),a=s("b727").find,i=s("44d2"),o="find",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),r({target:"Array",proto:!0,forced:n},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)},"7ea6":function(t,e,s){t.exports=s.p+"img/iideas-img.efeb3f21.png"},"93ad":function(t,e,s){"use strict";s("2040")},c18f:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"auth-layout-wrap",style:{backgroundImage:"url("+t.bgImage+")"}},[e("div",{staticClass:"auth-content"},[e("div",{staticClass:"glassomorphic o-hidden p-4",staticStyle:{"border-radius":"10px"}},[e("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-md-6 text-center"},[e("img",{staticStyle:{filter:"drop-shadow(0px 0px 5px white)"},attrs:{src:t.logo,alt:""}})]),e("div",{staticClass:"col-md-6",staticStyle:{"border-left":"1px solid #fff"}},[e("h3",{staticClass:"mb-3 font-weight-bold text-center"},[t._v("Sign In")]),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.formSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("Username")]),e("b-form-input",{staticClass:"form-control mb-2",attrs:{id:"username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Password")]),e("div",{staticClass:"input-group"},[e("b-form-input",{staticClass:"form-control",attrs:{id:"password",type:t.isShowPassword?"text":"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fas password_hash",class:[t.isShowPassword?"fa-eye-slash":"fa-eye"],staticStyle:{cursor:"pointer"},on:{click:function(e){t.isShowPassword=!t.isShowPassword}}})])])],1)]),e("button",{staticClass:"btn btn-rounded btn-success btn-block mt-3 letter-spacing",attrs:{type:"submit",tag:"button",disabled:t.loading}},[t._v("Sign In")]),t.loading?t._m(0):t._e()]),t._m(1)],1)])])])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"typo__p"},[e("div",{staticClass:"spinner sm spinner-primary mt-3"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-3 text-center text-info"},[e("a",{staticClass:"text-muted",attrs:{href:"/auth/forgot-password"}},[e("u",[t._v("Forgot Password?")])])])}],i=s("5530"),o=(s("e9c4"),s("14d9"),s("d81d"),s("4de4"),s("d3b7"),s("c740"),s("7db0"),s("2f62")),n=s("471e"),u={metaInfo:{title:"SignIn"},data:function(){return{isShowPassword:!1,username:"",password:"",logo:s("7ea6"),signInImage:s("2613"),bgImages:[],activeBgIndex:0}},mounted:function(){var t=this;this.getPermit()&&this.$router.go("-1"),setInterval((function(){t.activeBgIndex=(t.activeBgIndex+1)%t.bgImages.length}),5e3)},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["loading"])),{},{bgImage:function(){return this.bgImages[this.activeBgIndex]}}),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["setLoading","setActivateOrganisation","setOrganisationsData"])),{},{formSubmit:function(){var t=this;if(this.setLoading(!0),!this.username)return n["a"].showErrorAlert(!0,"error","please enter your username."),!1;if(!this.password)return n["a"].showErrorAlert(!0,"error","please enter your password."),!1;var e={USER_NAME:this.username,PASSWORD:this.password};this.$apiCall.post(this.$apiBus.login,e).then((function(e){"true"==e.status?(localStorage.setItem("permit",e.Token),localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("authenticated",!0),t.$router.push("/dashboard"),t.setLoading(!1)):0!=e.status&&"false"!=e.status||n["a"].showErrorAlert(!0,"error",e.response)}))},getUserRolePrivillegeInfoOld:function(t){var e=this,s={ITEM:"SPECIFIC",RECORD_SYS_ID:t};this.$apiCall.get(this.$apiBus.user_role_privilege_info,{params:s}).then((function(t){localStorage.setItem("my_menu",JSON.stringify(t||[])),setTimeout((function(){}),1e3),e.$route.query.redirectTo?e.$router.push(e.$route.query.redirectTo):e.$router.push("/dashboard")})).catch((function(t){0!=t.data.status&&"false"!=t.data.status||n["a"].showErrorAlert(!0,"error",t.data.response),401==error.response.status&&403==error.response.Status||n["a"].showErrorAlert(!0,"error","Something went wrong")}))},getUserRolePrivillegeInfo:function(t,e,s){var r=this,a={ITEM:"SPECIFIC",RECORD_SYS_ID:t};this.$apiCall.get(this.$apiBus.user_role_privilege_info,{params:a}).then((function(t){if(t){var a=t.map((function(t){return t.SUBMODULE&&(t.SUBMODULE=t.SUBMODULE.filter((function(t,e,s){return e===s.findIndex((function(e){return e.ID===t.ID&&e.NAME===t.NAME}))}))),t}));localStorage.setItem("my_menu",JSON.stringify(a)),r.getOrganisationsList(e,s)}else localStorage.setItem("my_menu",JSON.stringify([])),r.getOrganisationsList(e,s)})).catch((function(t){0!=t.data.status&&"false"!=t.data.status||n["a"].showErrorAlert(!0,"error",t.data.response),401==error.response.status&&403==error.response.Status||n["a"].showErrorAlert(!0,"error","Something went wrong")}))},getOrganisationsList:function(t,e){var s=this,r={ITEM:"VIEW_ALL",RECORD_SYS_ID:0};this.$store.dispatch("getOrganisationsList",r).then((function(r){if("true"==(null===r||void 0===r?void 0:r.status)){var a=r.response,i=a.find((function(e){return e.ORGANISATION_SYS_ID==t}));i?(localStorage.setItem("organisationsysid",null===i||void 0===i?void 0:i.ORGANISATION_SYS_ID),s.getSpecificOrganization(null===i||void 0===i?void 0:i.ORGANISATION_SYS_ID),setTimeout((function(){"Super Admin"==e||"Business Admin"==e?s.setOrganisationsData(r.response):s.setOrganisationsData([i]),s.setActivateOrganisation(i),s.$route.query.redirectTo?s.$router.push(s.$route.query.redirectTo):s.$router.push("/dashboard")}),1e3)):(localStorage.setItem("organisationsysid",r.response[0].ORGANISATION_SYS_ID),s.getSpecificOrganization(r.response[0].ORGANISATION_SYS_ID),setTimeout((function(){s.setOrganisationsData(r.response),s.setActivateOrganisation(r.response[0]),s.$route.query.redirectTo?s.$router.push(s.$route.query.redirectTo):s.$router.push("/dashboard")}),1e3))}}))},getSpecificOrganization:function(t){this.$apiCall.get(this.$apiBus.view_company,{params:{ITEM:"SPECIFIC",RECORD_SYS_ID:t}}).then((function(t){var e=t.response[0];localStorage.setItem("organisationDetails",JSON.stringify(e))}))}})},c=u,l=(s("93ad"),s("2877")),d=Object(l["a"])(c,r,a,!1,null,null,null);e["default"]=d.exports},c740:function(t,e,s){"use strict";var r=s("23e7"),a=s("b727").findIndex,i=s("44d2"),o="findIndex",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),r({target:"Array",proto:!0,forced:n},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)}}]);