(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50d8e366"],{3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("14d9");function i(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,s,o=[],l=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(o.push(a.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n["return"]&&(s=n["return"](),Object(s)!==s))return}finally{if(c)throw i}}return o}}var r=n("06c5");n("d9e2");function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){return a(t)||i(t,e)||Object(r["a"])(t,e)||s()}},"48db":function(t,e,n){},"7db0":function(t,e,n){"use strict";var a=n("23e7"),i=n("b727").find,r=n("44d2"),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},"8fbc":function(t,e,n){"use strict";n("48db")},e35a:function(t,e,n){t.exports=n.p+"img/tech-conferenceimg.78f9d511.jpg"},ffe7:function(t,e,n){"use strict";n.r(e);n("99af"),n("b0c0"),n("a4d3"),n("e01a");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"event-dashboard-container"},[e("div",{staticClass:"d-flex header-section"},[t._m(0),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"view-mode-toggle btn-group mr-3",attrs:{role:"group"}},[e("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm",class:{"btn-secondary":"card"===t.viewMode,"btn-outline-secondary":"card"!==t.viewMode},attrs:{title:"Card View"},on:{click:function(e){t.viewMode="card"}}},[e("b-icon-grid-3x3-gap-fill")],1),e("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm",class:{"btn-secondary":"list"===t.viewMode,"btn-outline-secondary":"list"!==t.viewMode},attrs:{title:"List View"},on:{click:function(e){t.viewMode="list"}}},[e("b-icon-list")],1)]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"btn btn-primary"},[e("b-icon-calendar-plus",{staticClass:"mr-1"}),t._v(" Create Event ")],1)])]),t.isLoadingEvents?e("div",{staticClass:"text-center py-5"},[e("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),e("p",{staticClass:"mt-2 text-muted"},[t._v("Loading events...")])],1):0!==t.events.length||t.isLoadingEvents?e("div",{class:{"event-grid-view":"card"===t.viewMode,"event-list-view":"list"===t.viewMode}},t._l(t.events,(function(n){return e("div",{key:n.id,class:{"event-card":"card"===t.viewMode,"event-list-item":"list"===t.viewMode},on:{click:function(e){return t.onHandleEventClicked(n)}}},[e("div",{staticClass:"event-banner-or-icon-wrapper"},["card"===t.viewMode?e("div",{staticClass:"event-banner"},[t.getEventBanners(n.id).length>1?e("div",{staticClass:"banner-carousel-wrapper"},[e("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-".concat(n.id),interval:4e3,controls:"",indicators:"",background:"#f8f9fa"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd}},t._l(t.getEventBanners(n.id),(function(a,i){return e("b-carousel-slide",{key:i,scopedSlots:t._u([{key:"img",fn:function(){return[e("img",{staticClass:"d-block banner-image",attrs:{src:t.getBannerImageUrl(a),alt:"".concat(n.title," - Banner ").concat(i+1)},on:{error:function(e){return t.handleBannerImageError(e)}}})]},proxy:!0}],null,!0)})})),1)],1):e("div",{staticClass:"banner-single-image"},[e("img",{attrs:{src:t.getEventBannerImage(n),alt:n.title},on:{error:function(e){return t.handleBannerImageError(e)}}})]),e("span",{staticClass:"event-type badge badge-info"},[t._v(t._s(n.type))]),t.getEventBanners(n.id).length>1?e("span",{staticClass:"banner-count badge badge-primary"},[e("b-icon-image",{staticClass:"mr-1"}),t._v(t._s(t.getEventBanners(n.id).length)+" ")],1):t._e()]):"list"===t.viewMode?e("div",{staticClass:"event-list-icon"},[e("b-icon-calendar-event",{attrs:{"font-scale":"1.5",variant:"primary"}})],1):t._e()]),e("div",{staticClass:"event-info"},[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"title font-weight-bold mb-1"},[t._v(t._s(n.title))]),e("div",{staticClass:"dropdown",on:{click:function(t){t.stopPropagation()}}},[e("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(e){return t.toggleDropdown(n.id)}}},[t._v(" Manage "),e("b-icon-chevron-down",{staticClass:"ml-1"})],1),t.openDropdownId===n.id?e("ul",{staticClass:"dropdown-menu show"},[e("li",{on:{click:function(e){return e.stopPropagation(),t.editEvent(n)}}},[e("b-icon-pencil-square",{staticClass:"mr-2"}),t._v(" Edit ")],1),e("li",{on:{click:function(e){return e.stopPropagation(),t.duplicateEvent(n)}}},[e("b-icon-files",{staticClass:"mr-2"}),t._v(" Duplicate ")],1),e("div",{staticClass:"dropdown-divider"}),e("li",{staticClass:"text-danger",on:{click:function(e){return e.stopPropagation(),t.deleteEvent(n)}}},[e("b-icon-trash-fill",{staticClass:"mr-2"}),t._v(" Delete ")],1)]):t._e()],1)]),e("div",{staticClass:"meta-row d-flex align-items-center mb-2 text-muted small"},[e("span",{staticClass:"mr-3"},[e("b-icon-people-fill",{staticClass:"mr-1"}),t._v(" "+t._s(n.organizers)+" Organizers")],1),e("span",{staticClass:"mr-3"},[e("b-icon-person-check-fill",{staticClass:"mr-1"}),t._v(" "+t._s(n.attendees)+" Attendees")],1)]),e("p",{staticClass:"date mb-1 text-primary"},[e("b-icon-clock-fill",{staticClass:"mr-1"}),t._v(" "+t._s(n.date))],1),e("p",{staticClass:"location mb-2"},[e("b-icon-geo-alt-fill",{staticClass:"mr-1"}),"In-Person"===n.mode?e("span",[t._v(t._s(n.location))]):e("span",{staticClass:"badge badge-success"},[t._v("Virtual Event")])],1),e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("div",{staticClass:"links d-flex align-items-center small"},[e("a",{staticClass:"link text-info",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.previewEvent(n)}}},[t._v("Preview")]),e("span",{staticClass:"mx-2 text-muted"},[t._v("â€¢")]),e("a",{staticClass:"link text-info",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.viewWebsite(n)}}},[t._v("Website")]),e("span",{staticClass:"mx-2 text-muted"},[t._v("â€¢")]),e("span",{staticClass:"modified text-secondary"},[t._v("Last modified "+t._s(n.lastModified)+" ago")])])])])])})),0):e("div",{staticClass:"no-events-container"},[t._m(1)]),e("validation-observer",{ref:"eventObserver",scopedSlots:t._u([{key:"default",fn:function(n){var a=n.handleSubmit;return[e("b-modal",{attrs:{id:"modal-1",title:"Create Event",size:"lg","hide-footer":"",centered:""},on:{show:t.onShowModal,hidden:t.resetEventForm}},[e("b-form",{on:{submit:function(e){return e.preventDefault(),a(t.saveEvent)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("validation-provider",{attrs:{name:"Organization",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Organization "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-select",{staticClass:"form-control",attrs:{options:t.organization_options,state:t.getValidationState(n)},on:{change:t.handleOrganizationChange},model:{value:t.selected_organization_sys_id,callback:function(e){t.selected_organization_sys_id=e},expression:"selected_organization_sys_id"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("validation-provider",{attrs:{name:"Event Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Event Name "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticClass:"form-control",attrs:{state:t.getValidationState(n),placeholder:"Enter event name"},model:{value:t.eventForm.name,callback:function(e){t.$set(t.eventForm,"name",e)},expression:"eventForm.name"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-6"},[e("validation-provider",{attrs:{name:"Event Type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Event Type "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-select",{staticClass:"form-control",attrs:{state:t.getValidationState(n)},model:{value:t.eventForm.type,callback:function(e){t.$set(t.eventForm,"type",e)},expression:"eventForm.type"}},[e("option",{attrs:{value:""}},[t._v("Select Event Type")]),e("option",{attrs:{value:"Free"}},[t._v("Free")]),e("option",{attrs:{value:"Paid"}},[t._v("Paid")])]),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("validation-provider",{attrs:{name:"Event Category",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Event Category "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-select",{staticClass:"form-control",attrs:{options:t.event_category_details,state:t.getValidationState(n),disabled:!t.selected_organization_sys_id},model:{value:t.eventForm.category,callback:function(e){t.$set(t.eventForm,"category",e)},expression:"eventForm.category"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))]),t.selected_organization_sys_id?t._e():e("small",{staticClass:"form-text text-muted"},[t._v(" Please select an organization first. ")])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Event Description"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Event Description")]),e("b-form-textarea",{staticClass:"form-control",attrs:{rows:"2",placeholder:"Enter detailed description of the event",state:t.getValidationState(n)},model:{value:t.eventForm.description,callback:function(e){t.$set(t.eventForm,"description",e)},expression:"eventForm.description"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-3"},[e("validation-provider",{attrs:{name:"Start Date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Start Date "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticClass:"form-control",attrs:{type:"date",state:t.getValidationState(n)},model:{value:t.eventForm.startDate,callback:function(e){t.$set(t.eventForm,"startDate",e)},expression:"eventForm.startDate"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{ref:"startTimeContainer",staticClass:"col-md-3"},[e("validation-provider",{attrs:{name:"Start Time",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Start Time "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticStyle:{display:"none"},attrs:{state:t.getValidationState(n)},model:{value:t.eventForm.startTime,callback:function(e){t.$set(t.eventForm,"startTime",e)},expression:"eventForm.startTime"}}),e("div",{staticClass:"custom-time-input-wrapper"},[e("div",{staticClass:"custom-time-input form-control",class:{"is-invalid":n.validated&&!n.valid}},[e("div",{staticClass:"time-segments"},[t.isEditingStartHour?e("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedStartHour,expression:"formattedStartHour"}],ref:"startHourInput",staticClass:"time-input",attrs:{type:"text",inputmode:"numeric",maxlength:"2"},domProps:{value:t.formattedStartHour},on:{blur:function(e){return t.finishEditing("start","hour")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditing("start","hour")},input:function(e){e.target.composing||(t.formattedStartHour=e.target.value)}}}):e("span",{staticClass:"time-segment",on:{click:function(e){return t.editTime("start","hour",e)}}},[t._v(t._s(t.formattedStartHour))]),e("span",[t._v(":")]),t.isEditingStartMinute?e("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedStartMinute,expression:"formattedStartMinute"}],ref:"startMinuteInput",staticClass:"time-input",attrs:{type:"text",inputmode:"numeric",maxlength:"2"},domProps:{value:t.formattedStartMinute},on:{blur:function(e){return t.finishEditing("start","minute")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditing("start","minute")},input:function(e){e.target.composing||(t.formattedStartMinute=e.target.value)}}}):e("span",{staticClass:"time-segment",on:{click:function(e){return t.editTime("start","minute",e)}}},[t._v(t._s(t.formattedStartMinute))]),e("span",{staticClass:"time-segment period",on:{click:function(e){return t.togglePeriod("start")}}},[t._v(t._s(t.eventForm.startPeriod))])]),e("span",{staticClass:"clock-icon",on:{click:function(e){return e.stopPropagation(),t.toggleTimePicker("start")}}},[t._v("ðŸ•’")])]),t.showStartTimePicker?e("div",{staticClass:"time-picker-overlay"},[e("div",{staticClass:"time-picker-column"},[e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("start","hour",1)}}},[t._v("â–²")]),e("span",{staticClass:"time-value"},[t._v(t._s(t.formattedStartHour))]),e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("start","hour",-1)}}},[t._v("â–¼")])]),e("div",{staticClass:"time-picker-column"},[e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("start","minute",1)}}},[t._v("â–²")]),e("span",{staticClass:"time-value"},[t._v(t._s(t.formattedStartMinute))]),e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("start","minute",-1)}}},[t._v("â–¼")])]),e("div",{staticClass:"time-picker-column"},[e("span",{staticClass:"arrow",on:{click:function(e){return t.togglePeriod("start")}}},[t._v("â–²")]),e("span",{staticClass:"time-value period-value",on:{click:function(e){return t.togglePeriod("start")}}},[t._v(t._s(t.eventForm.startPeriod))]),e("span",{staticClass:"arrow",on:{click:function(e){return t.togglePeriod("start")}}},[t._v("â–¼")])])]):t._e()]),e("b-form-invalid-feedback",{attrs:{state:t.getValidationState(n)}},[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-3"},[e("validation-provider",{attrs:{name:"End Date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("End Date "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticClass:"form-control",attrs:{type:"date",state:t.getValidationState(n)},model:{value:t.eventForm.endDate,callback:function(e){t.$set(t.eventForm,"endDate",e)},expression:"eventForm.endDate"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{ref:"endTimeContainer",staticClass:"col-md-3"},[e("validation-provider",{attrs:{name:"End Time",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("End Time "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticStyle:{display:"none"},attrs:{state:t.getValidationState(n)},model:{value:t.eventForm.endTime,callback:function(e){t.$set(t.eventForm,"endTime",e)},expression:"eventForm.endTime"}}),e("div",{staticClass:"custom-time-input-wrapper"},[e("div",{staticClass:"custom-time-input form-control",class:{"is-invalid":n.validated&&!n.valid}},[e("div",{staticClass:"time-segments"},[t.isEditingEndHour?e("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedEndHour,expression:"formattedEndHour"}],ref:"endHourInput",staticClass:"time-input",attrs:{type:"text",inputmode:"numeric",maxlength:"2"},domProps:{value:t.formattedEndHour},on:{blur:function(e){return t.finishEditing("end","hour")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditing("end","hour")},input:function(e){e.target.composing||(t.formattedEndHour=e.target.value)}}}):e("span",{staticClass:"time-segment",on:{click:function(e){return t.editTime("end","hour",e)}}},[t._v(t._s(t.formattedEndHour))]),e("span",[t._v(":")]),t.isEditingEndMinute?e("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedEndMinute,expression:"formattedEndMinute"}],ref:"endMinuteInput",staticClass:"time-input",attrs:{type:"text",inputmode:"numeric",maxlength:"2"},domProps:{value:t.formattedEndMinute},on:{blur:function(e){return t.finishEditing("end","minute")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditing("end","minute")},input:function(e){e.target.composing||(t.formattedEndMinute=e.target.value)}}}):e("span",{staticClass:"time-segment",on:{click:function(e){return t.editTime("end","minute",e)}}},[t._v(t._s(t.formattedEndMinute))]),e("span",{staticClass:"time-segment period",on:{click:function(e){return t.togglePeriod("end")}}},[t._v(t._s(t.eventForm.endPeriod))])]),e("span",{staticClass:"clock-icon",on:{click:function(e){return e.stopPropagation(),t.toggleTimePicker("end")}}},[t._v("ðŸ•’")])]),t.showEndTimePicker?e("div",{staticClass:"time-picker-overlay"},[e("div",{staticClass:"time-picker-column"},[e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("end","hour",1)}}},[t._v("â–²")]),e("span",{staticClass:"time-value"},[t._v(t._s(t.formattedEndHour))]),e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("end","hour",-1)}}},[t._v("â–¼")])]),e("div",{staticClass:"time-picker-column"},[e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("end","minute",1)}}},[t._v("â–²")]),e("span",{staticClass:"time-value"},[t._v(t._s(t.formattedEndMinute))]),e("span",{staticClass:"arrow",on:{click:function(e){return t.adjustTime("end","minute",-1)}}},[t._v("â–¼")])]),e("div",{staticClass:"time-picker-column"},[e("span",{staticClass:"arrow",on:{click:function(e){return t.togglePeriod("end")}}},[t._v("â–²")]),e("span",{staticClass:"time-value period-value",on:{click:function(e){return t.togglePeriod("end")}}},[t._v(t._s(t.eventForm.endPeriod))]),e("span",{staticClass:"arrow",on:{click:function(e){return t.togglePeriod("end")}}},[t._v("â–¼")])])]):t._e()]),e("b-form-invalid-feedback",{attrs:{state:t.getValidationState(n)}},[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Venue",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Venue "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(n),placeholder:"Enter venue name"},model:{value:t.eventForm.venue,callback:function(e){t.$set(t.eventForm,"venue",e)},expression:"eventForm.venue"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-12"},[e("validation-provider",{attrs:{name:"Address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Address "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(n),placeholder:"Address"},model:{value:t.eventForm.address1,callback:function(e){t.$set(t.eventForm,"address1",e)},expression:"eventForm.address1"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-12 mt-2"},[e("label",[t._v("Address Line 2")]),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Address line 2 (optional)"},model:{value:t.eventForm.address2,callback:function(e){t.$set(t.eventForm,"address2",e)},expression:"eventForm.address2"}})],1)]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-6"},[e("validation-provider",{attrs:{name:"Postal Code",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Postal Code "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",state:t.getValidationState(n),placeholder:"Enter Postal Code"},model:{value:t.eventForm.postalCode,callback:function(e){t.$set(t.eventForm,"postalCode",e)},expression:"eventForm.postalCode"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-md-6"},[e("validation-provider",{attrs:{name:"Country",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",[t._v("Country "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("b-form-select",{staticClass:"form-control",attrs:{options:t.country_list_details,state:t.getValidationState(n),disabled:!t.selected_organization_sys_id},model:{value:t.eventForm.country,callback:function(e){t.$set(t.eventForm,"country",e)},expression:"eventForm.country"}}),e("b-form-invalid-feedback",[t._v(t._s(n.errors[0]))]),t.selected_organization_sys_id?t._e():e("small",{staticClass:"form-text text-muted"},[t._v(" Please select an organization first. ")])]}}],null,!0)})],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-6 text-left"},[e("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:function(e){return t.$bvModal.hide("modal-1")}}},[t._v(" Cancel ")])],1),e("div",{staticClass:"col-6 text-right"},[e("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.isLoading}},[t.isLoading?e("b-spinner",{attrs:{small:""}}):e("span",[t._v("Save")])],1)],1)])])],1)]}}])})],1)},i=[function(){var t=this,e=t._self._c;return e("h4",[e("b",[t._v("Events")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-events-content"},[e("div",{staticClass:"no-events-icon"},[t._v("ðŸ“…")]),e("h3",{staticClass:"no-events-title"},[t._v("NO EVENTS FOUND")]),e("p",{staticClass:"text-muted"},[t._v("Get started by creating your first event.")])])}],r=n("3835"),s=n("2909"),o=n("c7eb"),l=n("1da1"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("4de4"),n("fb6a"),n("4d90"),n("14d9"),n("7db0"),n("caad"),n("2532"),n("ac1f"),n("00b4"),n("a9e3"),n("471e")),d=n("323e"),u=n.n(d),v={name:"EventDashboard",data:function(){return{openDropdownId:null,events:[],isLoadingEvents:!1,viewMode:"card",eventForm:{name:"",type:"",category:null,startDate:"",startTime:"08:30",startHour:8,startMinute:30,startPeriod:"AM",endDate:"",endTime:"17:00",endHour:5,endMinute:0,endPeriod:"PM",venue:"",address1:"",address2:"",postalCode:"",country:null,description:""},isEditingStartHour:!1,isEditingStartMinute:!1,isEditingEndHour:!1,isEditingEndMinute:!1,showStartTimePicker:!1,showEndTimePicker:!1,specific_event_details:[],selected_event_details:null,isLoading:!1,selected_organization_sys_id:null,organization_options:[{value:null,text:"Select Organization"}],event_category_details:[{value:null,text:"Select Organization First"}],country_list_details:[{value:null,text:"Select Organization First"}],isEventCategoryApiCalled:!1,isCountryApiCalled:!1,isOrganizationApiCalled:!1,userDetails:null,imageUrl:"".concat("https://uat-iideasapi.cssdemo.dev","/routes/uploadedFiles"),eventBanners:{},defaultBannerImage:n("e35a"),slidingNow:!1}},mounted:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("=== EventDashboard Mounted ==="),n=localStorage.getItem("selectedOrganizationSysId"),console.log("Saved Org ID from localStorage:",n),n?(t.selected_organization_sys_id=parseInt(n,10),console.log("Organization pre-loaded:",t.selected_organization_sys_id)):(t.selected_organization_sys_id=1,localStorage.setItem("selectedOrganizationSysId",1),console.log("Set default selected_organization_sys_id to: 1")),e.next=6,t.initializeData();case 6:document.addEventListener("click",t.handleClickOutside),t.updateStartTime(),t.updateEndTime(),t.$root.$on("organizationChanged",(function(e){console.log("EventDashboard: Organization changed event received:",e),t.handleTopbarOrganizationChange(e)})),console.log("=== EventDashboard Mounted Complete ===");case 11:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){document.removeEventListener("click",this.handleClickOutside),this.$root.$off("organizationChanged")},watch:{selected_organization_sys_id:function(t,e){console.log("Watch: selected_organization_sys_id changed from",e,"to",t),t&&t!==e&&(console.log("Triggering data reload for new organization"),this.getEventListInfo(),this.isEventCategoryApiCalled=!1,this.isCountryApiCalled=!1,this.getEventCategoryInfo(),this.getCountryDetailsInfo())}},methods:{handleTopbarOrganizationChange:function(t){console.log("handleTopbarOrganizationChange called with orgId:",t),this.selected_organization_sys_id=t,t?(console.log("Immediately loading events for organization:",t),this.getEventListInfo(),this.isEventCategoryApiCalled=!1,this.isCountryApiCalled=!1,this.getEventCategoryInfo(),this.getCountryDetailsInfo()):(this.events=[],this.event_category_details=[{value:null,text:"Select Organization First"}],this.country_list_details=[{value:null,text:"Select Organization First"}])},onSlideStart:function(){this.slidingNow=!0},onSlideEnd:function(){this.slidingNow=!1},initializeData:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("--- initializeData START ---"),u.a.start(),t.isLoadingEvents=!0,e.prev=3,n=localStorage.getItem("userInfo"),n&&(t.userDetails=JSON.parse(n)),e.next=8,Promise.all([t.getOrganizationList(),t.getEventListInfo()]);case 8:if(!t.selected_organization_sys_id){e.next=11;break}return e.next=11,Promise.all([t.getEventCategoryInfo(),t.getCountryDetailsInfo()]);case 11:return e.next=13,t.loadAllEventBanners();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](3),console.error("Initialization error:",e.t0),t.events=[];case 19:return e.prev=19,t.isLoadingEvents=!1,u.a.done(),console.log("--- initializeData END ---"),e.finish(19);case 24:case"end":return e.stop()}}),e,null,[[3,15,19,24]])})))()},loadAllEventBanners:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.events.length){e.next=2;break}return e.abrupt("return");case 2:return n=t.events.map((function(e){return t.getEventBannersData(e.id).catch((function(){return[]}))})),e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e)})))()},getEventBannersData:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function n(){var a,i,r,s;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a={ITEM:"SPECIFIC",MODULE:"IMAGE",EVENT_SYS_ID:t,UPLOAD_FOR:"BANNER_IMAGE"},n.next=4,e.$apiCall.get(e.$apiBus.view_file_upload_data,{params:a});case 4:i=n.sent,r="string"===typeof i?JSON.parse(i):(null===i||void 0===i?void 0:i.data)||i,"true"===(null===r||void 0===r?void 0:r.status)&&Array.isArray(r.response)?(s=r.response.filter((function(t){return t.FILE_NAME})),e.$set(e.eventBanners,t,s)):e.$set(e.eventBanners,t,[]),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),e.$set(e.eventBanners,t,[]);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getEventBanners:function(t){return this.eventBanners[t]||[]},getBannerImageUrl:function(t){return null!==t&&void 0!==t&&t.FILE_NAME?"".concat(this.imageUrl,"/").concat(t.FILE_NAME):this.defaultBannerImage},getEventBannerImage:function(t){var e=this.eventBanners[t.id];return e&&e.length>0?this.getBannerImageUrl(e[0]):this.defaultBannerImage},handleBannerImageError:function(t){t.target.src=this.defaultBannerImage},onShowModal:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isOrganizationApiCalled){e.next=3;break}return e.next=3,t.getOrganizationList();case 3:if(!t.selected_organization_sys_id){e.next=10;break}if(t.isEventCategoryApiCalled){e.next=7;break}return e.next=7,t.getEventCategoryInfo();case 7:if(t.isCountryApiCalled){e.next=10;break}return e.next=10,t.getCountryDetailsInfo();case 10:case"end":return e.stop()}}),e)})))()},toggleDropdown:function(t){this.openDropdownId=this.openDropdownId===t?null:t},toggleTimePicker:function(t){"start"===t?(this.showStartTimePicker=!this.showStartTimePicker,this.showEndTimePicker=!1):(this.showEndTimePicker=!this.showEndTimePicker,this.showStartTimePicker=!1)},adjustTime:function(t,e,n){var a=this.eventForm,i="start"===t?"startHour":"endHour",r="start"===t?"startMinute":"endMinute";if("hour"===e){var s=a[i]+n;s>12&&(s=1),s<1&&(s=12),a[i]=s}else{var o=a[r]+n;o>59&&(o=0),o<0&&(o=59),a[r]=o}"start"===t?this.updateStartTime():this.updateEndTime()},handleClickOutside:function(t){this.$refs.startTimeContainer&&!this.$refs.startTimeContainer.contains(t.target)&&(this.showStartTimePicker=!1),this.$refs.endTimeContainer&&!this.$refs.endTimeContainer.contains(t.target)&&(this.showEndTimePicker=!1),t.target.closest(".dropdown")||(this.openDropdownId=null)},editTime:function(t,e){var n=this;"start"===t?"hour"===e?this.isEditingStartHour=!0:this.isEditingStartMinute=!0:"hour"===e?this.isEditingEndHour=!0:this.isEditingEndMinute=!0,this.$nextTick((function(){var a="".concat(t).concat(e.charAt(0).toUpperCase()+e.slice(1),"Input");n.$refs[a]&&n.$refs[a].focus()}))},finishEditing:function(t,e){var n=this.eventForm;if("start"===t){if("hour"===e){var a=parseInt(this.formattedStartHour,10);(isNaN(a)||a<1||a>12)&&(a=12),n.startHour=a,this.isEditingStartHour=!1}else{var i=parseInt(this.formattedStartMinute,10);(isNaN(i)||i<0||i>59)&&(i=59),n.startMinute=i,this.isEditingStartMinute=!1}this.updateStartTime()}else{if("hour"===e){var r=parseInt(this.formattedEndHour,10);(isNaN(r)||r<1||r>12)&&(r=12),n.endHour=r,this.isEditingEndHour=!1}else{var s=parseInt(this.formattedEndMinute,10);(isNaN(s)||s<0||s>59)&&(s=59),n.endMinute=s,this.isEditingEndMinute=!1}this.updateEndTime()}},togglePeriod:function(t){"start"===t?(this.eventForm.startPeriod="AM"===this.eventForm.startPeriod?"PM":"AM",this.updateStartTime()):(this.eventForm.endPeriod="AM"===this.eventForm.endPeriod?"PM":"AM",this.updateEndTime())},updateTime:function(t){var e="".concat(t,"Hour"),n="".concat(t,"Minute"),a="".concat(t,"Period"),i="".concat(t,"Time"),r=this.eventForm[e],s=this.eventForm[n],o=this.eventForm[a];"PM"===o&&r<12?r+=12:"AM"===o&&12===r&&(r=0),this.eventForm[i]="".concat(String(r).padStart(2,"0"),":").concat(String(s).padStart(2,"0"))},updateStartTime:function(){this.updateTime("start")},updateEndTime:function(){this.updateTime("end")},getOrganizationList:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isOrganizationApiCalled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$apiCall.get(t.$apiBus.api_get_organization_info,{params:{ITEM:"VIEW_ALL"}});case 5:n=e.sent,a="string"===typeof n?JSON.parse(n):(null===n||void 0===n?void 0:n.data)||n,"true"===(null===a||void 0===a?void 0:a.status)&&(t.isOrganizationApiCalled=!0,t.organization_options=[{value:null,text:"Select Organization"}].concat(Object(s["a"])(a.response.map((function(t){return{value:t.ORGANIZATION_SYS_ID,text:t.ORGANIZATION_NAME}}))))),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error("Error fetching organizations:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},handleOrganizationChange:function(){console.log("handleOrganizationChange called in modal"),this.selected_organization_sys_id?localStorage.setItem("selectedOrganizationSysId",this.selected_organization_sys_id):localStorage.removeItem("selectedOrganizationSysId"),this.eventForm.category=null,this.event_category_details=[{value:null,text:"Loading..."}],this.isEventCategoryApiCalled=!1,this.getEventCategoryInfo(),this.eventForm.country=null,this.country_list_details=[{value:null,text:"Loading..."}],this.isCountryApiCalled=!1,this.getCountryDetailsInfo()},getEventCategoryInfo:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n,a,i,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.selected_organization_sys_id){e.next=3;break}return t.event_category_details=[{value:null,text:"Select Organization First"}],e.abrupt("return");case 3:if(!t.isEventCategoryApiCalled){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,n={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:t.selected_organization_sys_id},e.next=9,t.$apiCall.get(t.$apiBus.api_get_eventcategory_info,{params:n});case 9:a=e.sent,i="string"===typeof a?JSON.parse(a):(null===a||void 0===a?void 0:a.data)||a,"true"===(null===i||void 0===i?void 0:i.status)&&Array.isArray(i.response)?(t.isEventCategoryApiCalled=!0,r=i.response.filter((function(t){return"ACTIVE"===t.STATUS})).map((function(t){return{value:t.EVENT_CATEGORY_SYS_ID,text:t.EVENT_CATEGORY}})),t.event_category_details=[{value:null,text:"Select Event Category"}].concat(Object(s["a"])(r))):t.event_category_details=[{value:null,text:"No categories found"}],e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](5),console.error("Error fetching event categories:",e.t0),t.event_category_details=[{value:null,text:"Error loading categories"}];case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))()},getCountryDetailsInfo:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n,a,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.selected_organization_sys_id){e.next=3;break}return t.country_list_details=[{value:null,text:"Select Organization First"}],e.abrupt("return");case 3:if(!t.isCountryApiCalled){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,n={ITEM:"VIEW_ALL",ORGANIZATION_SYS_ID:t.selected_organization_sys_id},e.next=9,t.$apiCall.get(t.$apiBus.api_get_country_info,{params:n});case 9:a=e.sent,i="string"===typeof a?JSON.parse(a):(null===a||void 0===a?void 0:a.data)||a,"true"===(null===i||void 0===i?void 0:i.status)&&Array.isArray(i.response)?(t.isCountryApiCalled=!0,t.country_list_details=[{value:null,text:"Select Country"}].concat(Object(s["a"])(i.response.map((function(t){return{value:t.COUNTRY_SYS_ID,text:t.COUNTRY_NAME}}))))):t.country_list_details=[{value:null,text:"No countries found"}],e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](5),console.error("Error in getCountryDetailsInfo:",e.t0),t.country_list_details=[{value:null,text:"Error loading countries"}];case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))()},getEventListInfo:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n,a,i,r,s,l;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("getEventListInfo called"),t.selected_organization_sys_id){e.next=5;break}return console.log("No organization selected, skipping event list fetch"),t.events=[],e.abrupt("return");case 5:return e.prev=5,t.isLoadingEvents=!0,i=(null===(n=t.getAuthUser)||void 0===n?void 0:n.UserId)||(null===(a=t.userDetails)||void 0===a?void 0:a.USER_SYS_ID)||0,r={ITEM:"ALL_EVENT",ORGANIZATION_SYS_ID:t.selected_organization_sys_id,USER_SYS_ID:i},console.log("Fetching events with params:",r),e.next=12,t.$apiCall.get(t.$apiBus.api_get_event_list_info,{params:r});case 12:s=e.sent,l="string"===typeof s?JSON.parse(s):(null===s||void 0===s?void 0:s.data)||s,"true"===(null===l||void 0===l?void 0:l.status)&&Array.isArray(l.response)?(t.events=l.response.map((function(e){return{id:e.EVENT_SYS_ID,title:e.EVENT_NAME,date:"".concat(t.formatDate(e.EVENT_START_DATE),", ").concat(t.formatTime(e.EVENT_START_TIME)," to ").concat(t.formatDate(e.EVENT_END_DATE),", ").concat(t.formatTime(e.EVENT_END_TIME)),type:e.EVENT_TYPE,category:e.EVENT_CATEGORY,mode:"Free"===e.EVENT_TYPE?"Online":"In-Person",location:e.EVENT_VENUE,organizers:1,attendees:0,lastModified:"just now"}})),console.log("Events loaded:",t.events.length),t.loadAllEventBanners()):t.events=[],e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](5),console.error("Error fetching events:",e.t0),t.events=[];case 21:return e.prev=21,t.isLoadingEvents=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,17,21,24]])})))()},getSpecificEvent:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function n(){var a,i;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.prev=1,n.next=4,e.$apiCall.get(e.$apiBus.api_get_specific_event_info,{params:{ITEM:"SPECIFIC",EVENT_SYS_ID:t}});case 4:a=n.sent,i="string"===typeof a?JSON.parse(a):(null===a||void 0===a?void 0:a.data)||a,e.specific_event_details="true"===(null===i||void 0===i?void 0:i.status)?i.response[0]:null,n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.error("Error fetching specific event:",n.t0),e.specific_event_details=null;case 13:return n.prev=13,e.isLoading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})))()},onHandleEventClicked:function(t){this.slidingNow||(localStorage.setItem("selectedEventSysId",t.id),this.$store.dispatch("changeThemeLayout","specific-event-layout-theme"),this.safeNavigate("/event/dashboard"))},safeNavigate:function(t){this.$route.path!==t&&this.$router.push({path:t}).catch((function(){}))},editEvent:function(t){this.safeNavigate("/event/event-edit"),this.openDropdownId=null},deleteEvent:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function n(){var a,i;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("event",t),n.next=3,c["a"].showConfirmationAlert("Are you sure?","you want to delete this record!","warning");case 3:a=n.sent,a.isConfirmed&&(i={ITEM:"DELETE",EVENT_SYS_ID:t.id},e.$apiCall.post(e.$apiBus.api_post_control_panel_settings,i).then((function(t){"true"==t.status?(c["a"].showSuccessAlert(!0,"success",t.response),e.getEventListInfo()):c["a"].showErrorAlert(!0,"error",t.response)})));case 5:case"end":return n.stop()}}),n)})))()},duplicateEvent:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.openDropdownId=null,c["a"].showSuccessAlert(!0,"info","The development of duplicate event work is inprogress!");case 2:case"end":return e.stop()}}),e)})))()},previewEvent:function(t){this.safeNavigate("/event/preview/".concat(t.id))},viewWebsite:function(t){this.safeNavigate("/event/website/".concat(t.id))},performDeleteEvent:function(t){var e=this;return Object(l["a"])(Object(o["a"])().mark((function n(){var a,i,r,s,l,d;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r=(null===(a=e.getAuthUser)||void 0===a?void 0:a.UserId)||(null===(i=e.userDetails)||void 0===i?void 0:i.USER_SYS_ID)||0,s={ITEM:"DELETE",EVENT_SYS_ID:t,USER_SYS_ID:r},n.next=5,e.$apiCall.post(e.$apiBus.api_post_add_update_event,s);case 5:l=n.sent,d="string"===typeof l?JSON.parse(l):(null===l||void 0===l?void 0:l.data)||l,"true"===(null===d||void 0===d?void 0:d.status)&&(e.getEventListInfo(),c["a"].showSuccessAlert("Deleted!","Event has been deleted.","success")),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](0),console.error("Error deleting event:",n.t0),c["a"].showErrorAlert(!0,"error","Failed to delete event.");case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},getCategoryTextById:function(t){var e=this.event_category_details.find((function(e){return e.value==t}));return e?e.text:""},getCountryTextById:function(t){var e=this.country_list_details.find((function(e){return e.value==t}));return e?e.text:""},saveEvent:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var n,a,i,r,s,l;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,i=(null===(n=t.getAuthUser)||void 0===n?void 0:n.UserId)||(null===(a=t.userDetails)||void 0===a?void 0:a.USER_SYS_ID)||0,r={ITEM:"ADD",ORGANIZATION_SYS_ID:t.selected_organization_sys_id,EVENT_SYS_ID:0,USER_SYS_ID:i,EVENT_NAME:t.eventForm.name,EVENT_TYPE:t.eventForm.type,EVENT_CATEGORY:t.getCategoryTextById(t.eventForm.category),EVENT_CATEGORY_SYS_ID:t.eventForm.category,ABOUT_THE_EVENT:t.eventForm.description,EVENT_START_DATE:t.eventForm.startDate,EVENT_START_TIME:t.eventForm.startTime,EVENT_END_DATE:t.eventForm.endDate,EVENT_END_TIME:t.eventForm.endTime,EVENT_VENUE:t.eventForm.venue,EVENT_PRIMARY_ADDRESS:t.eventForm.address1,EVENT_SECONDARY_ADDRESS:t.eventForm.address2,EVENT_POSTCODE:t.eventForm.postalCode,EVENT_COUNTRY:t.getCountryTextById(t.eventForm.country),EVENT_COUNTRY_SYS_ID:t.eventForm.country,CREATED_BY:i},e.next=6,t.$apiCall.post(t.$apiBus.api_post_add_update_event,r);case 6:if(s=e.sent,l="string"===typeof s?JSON.parse(s):(null===s||void 0===s?void 0:s.data)||s,"true"!==(null===l||void 0===l?void 0:l.status)){e.next=15;break}return e.next=11,t.getEventListInfo();case 11:t.$bvModal.hide("modal-1"),c["a"].showSuccessAlert("Success!","Event created successfully.","success"),e.next=16;break;case 15:c["a"].showErrorAlert(!0,"error",l.response||"Failed to create event");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](1),console.error("Error saving event:",e.t0),c["a"].showErrorAlert(!0,"error","An error occurred while saving the event.");case 22:return e.prev=22,t.isLoading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,18,22,25]])})))()},resetEventForm:function(){var t=this;this.eventForm={name:"",type:"",category:null,startDate:"",startTime:"08:30",startHour:8,startMinute:30,startPeriod:"AM",endDate:"",endTime:"17:00",endHour:5,endMinute:0,endPeriod:"PM",venue:"",address1:"",address2:"",postalCode:"",country:null,description:""},this.updateStartTime(),this.updateEndTime(),this.$nextTick((function(){t.$refs.eventObserver&&t.$refs.eventObserver.reset()}))},formatDate:function(t){if(!t)return"";var e=new Date("".concat(t,"T00:00:00")),n=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return"".concat(n,"-").concat(a,"-").concat(i)},formatTime:function(t){if(!t||!t.includes(":"))return"";var e=t.split(":"),n=Object(r["a"])(e,2),a=n[0],i=n[1],s=parseInt(a,10),o=parseInt(i,10);if(isNaN(s)||isNaN(o))return t;var l=s>=12?"PM":"AM",c=s%12||12;return"".concat(String(c),":").concat(String(o).padStart(2,"0")," ").concat(l)},getValidationState:function(t){var e=t.dirty,n=t.validated,a=t.valid;return e||n?a:null}},computed:{getAuthUser:function(){var t,e,n;return(null===(t=this.$store)||void 0===t||null===(e=t.state)||void 0===e||null===(n=e.auth)||void 0===n?void 0:n.user)||null},formattedStartHour:{get:function(){return String(this.eventForm.startHour).padStart(2,"0")},set:function(t){/^\d{1,2}$/.test(t)&&(this.eventForm.startHour=Number(t))}},formattedStartMinute:{get:function(){return String(this.eventForm.startMinute).padStart(2,"0")},set:function(t){/^\d{1,2}$/.test(t)&&(this.eventForm.startMinute=Number(t))}},formattedEndHour:{get:function(){return String(this.eventForm.endHour).padStart(2,"0")},set:function(t){/^\d{1,2}$/.test(t)&&(this.eventForm.endHour=Number(t))}},formattedEndMinute:{get:function(){return String(this.eventForm.endMinute).padStart(2,"0")},set:function(t){/^\d{1,2}$/.test(t)&&(this.eventForm.endMinute=Number(t))}}}},m=v,p=(n("8fbc"),n("2877")),f=Object(p["a"])(m,a,i,!1,null,"3388946a",null);e["default"]=f.exports}}]);